{"file_contents":{"client/src/components/auth/SignupForm.tsx":{"content":"import { useState } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { zodResolver } from \"@hookform/resolvers/zod\";\nimport { useMutation } from \"@tanstack/react-query\";\nimport { Eye, EyeOff, Mail, Lock, User, AtSign, UserPlus } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Form, FormControl, FormField, FormItem, FormLabel, FormMessage } from \"@/components/ui/form\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { apiRequest } from \"@/lib/queryClient\";\nimport { insertUserSchema, type InsertUser } from \"@shared/schema\";\n\ninterface SignupFormProps {\n  onSwitchToLogin: () => void;\n  onSwitchToOTP: (email: string) => void;\n}\n\nexport function SignupForm({ onSwitchToLogin, onSwitchToOTP }: SignupFormProps) {\n  const [showPassword, setShowPassword] = useState(false);\n  const { toast } = useToast();\n\n  const form = useForm<InsertUser>({\n    resolver: zodResolver(insertUserSchema),\n    defaultValues: {\n      fullName: \"\",\n      username: \"\",\n      email: \"\",\n      password: \"\",\n    },\n  });\n\n  const signupMutation = useMutation({\n    mutationFn: async (data: InsertUser) => {\n      const response = await apiRequest(\"POST\", \"/api/auth/signup\", data);\n      return response.json();\n    },\n    onSuccess: (data) => {\n      toast({\n        title: \"Account Created Successfully\",\n        description: \"Please check your email for verification code.\",\n      });\n      onSwitchToOTP(data.email);\n    },\n    onError: (error: any) => {\n      toast({\n        title: \"Signup Failed\",\n        description: error.message || \"Failed to create account\",\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  const onSubmit = (data: InsertUser) => {\n    signupMutation.mutate(data);\n  };\n\n  const getPasswordStrength = (password: string) => {\n    let strength = 0;\n    if (password.length >= 8) strength++;\n    if (/[A-Z]/.test(password)) strength++;\n    if (/[0-9]/.test(password)) strength++;\n    if (/[^A-Za-z0-9]/.test(password)) strength++;\n    return strength;\n  };\n\n  const passwordStrength = getPasswordStrength(form.watch(\"password\"));\n  const strengthColors = [\"bg-gray-200\", \"bg-red-500\", \"bg-yellow-500\", \"bg-blue-500\", \"bg-green-500\"];\n  const strengthLabels = [\"\", \"Weak\", \"Fair\", \"Good\", \"Strong\"];\n\n  return (\n    <div>\n      <div className=\"text-center mb-8\">\n        <h2 className=\"text-2xl font-bold text-gray-800 mb-2\">Create Student Account</h2>\n        <p className=\"text-gray-500\">Register with your VU email to get started</p>\n      </div>\n\n      <Form {...form}>\n        <form onSubmit={form.handleSubmit(onSubmit)} className=\"space-y-5\">\n          <FormField\n            control={form.control}\n            name=\"fullName\"\n            render={({ field }) => (\n              <FormItem>\n                <FormLabel className=\"text-sm font-medium text-gray-700\">Full Name</FormLabel>\n                <FormControl>\n                  <Input\n                    {...field}\n                    type=\"text\"\n                    placeholder=\"Enter your full name\"\n                    icon={<User className=\"text-gray-400\" size={18} />}\n                    error={!!form.formState.errors.fullName}\n                  />\n                </FormControl>\n                <FormMessage />\n              </FormItem>\n            )}\n          />\n\n          <FormField\n            control={form.control}\n            name=\"username\"\n            render={({ field }) => (\n              <FormItem>\n                <FormLabel className=\"text-sm font-medium text-gray-700\">Username</FormLabel>\n                <FormControl>\n                  <Input\n                    {...field}\n                    type=\"text\"\n                    placeholder=\"Choose a username\"\n                    icon={<AtSign className=\"text-gray-400\" size={18} />}\n                    error={!!form.formState.errors.username}\n                  />\n                </FormControl>\n                <FormMessage />\n              </FormItem>\n            )}\n          />\n\n          <FormField\n            control={form.control}\n            name=\"email\"\n            render={({ field }) => (\n              <FormItem>\n                <FormLabel className=\"text-sm font-medium text-gray-700\">VU Email Address</FormLabel>\n                <FormControl>\n                  <Input\n                    {...field}\n                    type=\"email\"\n                    placeholder=\"student@vu.edu.pk\"\n                    icon={<Mail className=\"text-gray-400\" size={18} />}\n                    error={!!form.formState.errors.email}\n                  />\n                </FormControl>\n                <FormMessage />\n              </FormItem>\n            )}\n          />\n\n          <FormField\n            control={form.control}\n            name=\"password\"\n            render={({ field }) => (\n              <FormItem>\n                <FormLabel className=\"text-sm font-medium text-gray-700\">Password</FormLabel>\n                <FormControl>\n                  <div className=\"relative\">\n                    <Input\n                      {...field}\n                      type={showPassword ? \"text\" : \"password\"}\n                      placeholder=\"Create a strong password\"\n                      icon={<Lock className=\"text-gray-400\" size={18} />}\n                      error={!!form.formState.errors.password}\n                      className=\"pr-12\"\n                    />\n                    <button\n                      type=\"button\"\n                      onClick={() => setShowPassword(!showPassword)}\n                      className=\"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-blue-600 transition-colors\"\n                    >\n                      {showPassword ? <EyeOff size={18} /> : <Eye size={18} />}\n                    </button>\n                  </div>\n                </FormControl>\n                {field.value && (\n                  <div className=\"mt-2\">\n                    <div className=\"flex space-x-1\">\n                      {[1, 2, 3, 4].map((level) => (\n                        <div\n                          key={level}\n                          className={`h-1 w-1/4 rounded ${\n                            level <= passwordStrength ? strengthColors[passwordStrength] : \"bg-gray-200\"\n                          }`}\n                        />\n                      ))}\n                    </div>\n                    {passwordStrength > 0 && (\n                      <p className=\"text-xs text-gray-500 mt-1\">\n                        Password strength: {strengthLabels[passwordStrength]}\n                      </p>\n                    )}\n                  </div>\n                )}\n                <FormMessage />\n              </FormItem>\n            )}\n          />\n\n          <div className=\"flex items-start\">\n            <input\n              type=\"checkbox\"\n              className=\"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500 mt-1\"\n              required\n            />\n            <span className=\"ml-2 text-sm text-gray-600\">\n              I agree to the{\" \"}\n              <a href=\"#\" className=\"text-blue-600 hover:text-purple-600\">\n                Terms of Service\n              </a>{\" \"}\n              and{\" \"}\n              <a href=\"#\" className=\"text-blue-600 hover:text-purple-600\">\n                Privacy Policy\n              </a>\n            </span>\n          </div>\n\n          <Button\n            type=\"submit\"\n            className=\"w-full\"\n            disabled={signupMutation.isPending}\n          >\n            {signupMutation.isPending ? \"Creating Account...\" : \"Create Account\"}\n            <UserPlus className=\"ml-2\" size={16} />\n          </Button>\n        </form>\n      </Form>\n\n      {/* Back to Login */}\n      <div className=\"mt-6 text-center\">\n        <span className=\"text-gray-600\">Already have an account? </span>\n        <button\n          onClick={onSwitchToLogin}\n          className=\"text-blue-600 hover:text-purple-600 font-semibold transition-colors\"\n        >\n          Sign In\n        </button>\n      </div>\n    </div>\n  );\n}\n","path":null,"size_bytes":8086,"size_tokens":null},"client/src/components/dashboard/pages/BadgesPage.tsx":{"content":"export function BadgesPage({ user }: { user: any }) {\n  return (\n    <div>\n      <h2 className=\"text-2xl font-bold\">Badges</h2>\n      <p>Badge system coming soon...</p>\n    </div>\n  );\n}","path":null,"size_bytes":186,"size_tokens":null},"client/src/App.tsx":{"content":"import { Switch, Route } from \"wouter\";\nimport { queryClient } from \"./lib/queryClient\";\nimport { QueryClientProvider } from \"@tanstack/react-query\";\nimport { Toaster } from \"@/components/ui/toaster\";\nimport { TooltipProvider } from \"@/components/ui/tooltip\";\nimport { ThemeProvider } from \"@/providers/ThemeProvider\";\nimport { useAuth } from \"@/hooks/useAuth\";\nimport AuthPage from \"@/pages/auth\";\nimport Dashboard from \"@/pages/dashboard\";\nimport NotFound from \"@/pages/not-found\";\n\nfunction Router() {\n  const { isAuthenticated, isLoading } = useAuth();\n\n  if (isLoading) {\n    return (\n      <div className=\"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto\"></div>\n          <p className=\"mt-4 text-gray-600 dark:text-gray-300\">Loading...</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <Switch>\n      <Route path=\"/\">\n        {isAuthenticated ? <Dashboard /> : <AuthPage />}\n      </Route>\n      <Route path=\"/auth\" component={AuthPage} />\n      <Route path=\"/dashboard\" component={Dashboard} />\n      <Route component={NotFound} />\n    </Switch>\n  );\n}\n\nfunction App() {\n  return (\n    <QueryClientProvider client={queryClient}>\n      <ThemeProvider>\n        <TooltipProvider>\n          <Toaster />\n          <Router />\n        </TooltipProvider>\n      </ThemeProvider>\n    </QueryClientProvider>\n  );\n}\n\nexport default App;\n","path":null,"size_bytes":1504,"size_tokens":null},"client/src/components/ui/carousel.tsx":{"content":"import * as React from \"react\"\nimport useEmblaCarousel, {\n  type UseEmblaCarouselType,\n} from \"embla-carousel-react\"\nimport { ArrowLeft, ArrowRight } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Button } from \"@/components/ui/button\"\n\ntype CarouselApi = UseEmblaCarouselType[1]\ntype UseCarouselParameters = Parameters<typeof useEmblaCarousel>\ntype CarouselOptions = UseCarouselParameters[0]\ntype CarouselPlugin = UseCarouselParameters[1]\n\ntype CarouselProps = {\n  opts?: CarouselOptions\n  plugins?: CarouselPlugin\n  orientation?: \"horizontal\" | \"vertical\"\n  setApi?: (api: CarouselApi) => void\n}\n\ntype CarouselContextProps = {\n  carouselRef: ReturnType<typeof useEmblaCarousel>[0]\n  api: ReturnType<typeof useEmblaCarousel>[1]\n  scrollPrev: () => void\n  scrollNext: () => void\n  canScrollPrev: boolean\n  canScrollNext: boolean\n} & CarouselProps\n\nconst CarouselContext = React.createContext<CarouselContextProps | null>(null)\n\nfunction useCarousel() {\n  const context = React.useContext(CarouselContext)\n\n  if (!context) {\n    throw new Error(\"useCarousel must be used within a <Carousel />\")\n  }\n\n  return context\n}\n\nconst Carousel = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement> & CarouselProps\n>(\n  (\n    {\n      orientation = \"horizontal\",\n      opts,\n      setApi,\n      plugins,\n      className,\n      children,\n      ...props\n    },\n    ref\n  ) => {\n    const [carouselRef, api] = useEmblaCarousel(\n      {\n        ...opts,\n        axis: orientation === \"horizontal\" ? \"x\" : \"y\",\n      },\n      plugins\n    )\n    const [canScrollPrev, setCanScrollPrev] = React.useState(false)\n    const [canScrollNext, setCanScrollNext] = React.useState(false)\n\n    const onSelect = React.useCallback((api: CarouselApi) => {\n      if (!api) {\n        return\n      }\n\n      setCanScrollPrev(api.canScrollPrev())\n      setCanScrollNext(api.canScrollNext())\n    }, [])\n\n    const scrollPrev = React.useCallback(() => {\n      api?.scrollPrev()\n    }, [api])\n\n    const scrollNext = React.useCallback(() => {\n      api?.scrollNext()\n    }, [api])\n\n    const handleKeyDown = React.useCallback(\n      (event: React.KeyboardEvent<HTMLDivElement>) => {\n        if (event.key === \"ArrowLeft\") {\n          event.preventDefault()\n          scrollPrev()\n        } else if (event.key === \"ArrowRight\") {\n          event.preventDefault()\n          scrollNext()\n        }\n      },\n      [scrollPrev, scrollNext]\n    )\n\n    React.useEffect(() => {\n      if (!api || !setApi) {\n        return\n      }\n\n      setApi(api)\n    }, [api, setApi])\n\n    React.useEffect(() => {\n      if (!api) {\n        return\n      }\n\n      onSelect(api)\n      api.on(\"reInit\", onSelect)\n      api.on(\"select\", onSelect)\n\n      return () => {\n        api?.off(\"select\", onSelect)\n      }\n    }, [api, onSelect])\n\n    return (\n      <CarouselContext.Provider\n        value={{\n          carouselRef,\n          api: api,\n          opts,\n          orientation:\n            orientation || (opts?.axis === \"y\" ? \"vertical\" : \"horizontal\"),\n          scrollPrev,\n          scrollNext,\n          canScrollPrev,\n          canScrollNext,\n        }}\n      >\n        <div\n          ref={ref}\n          onKeyDownCapture={handleKeyDown}\n          className={cn(\"relative\", className)}\n          role=\"region\"\n          aria-roledescription=\"carousel\"\n          {...props}\n        >\n          {children}\n        </div>\n      </CarouselContext.Provider>\n    )\n  }\n)\nCarousel.displayName = \"Carousel\"\n\nconst CarouselContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const { carouselRef, orientation } = useCarousel()\n\n  return (\n    <div ref={carouselRef} className=\"overflow-hidden\">\n      <div\n        ref={ref}\n        className={cn(\n          \"flex\",\n          orientation === \"horizontal\" ? \"-ml-4\" : \"-mt-4 flex-col\",\n          className\n        )}\n        {...props}\n      />\n    </div>\n  )\n})\nCarouselContent.displayName = \"CarouselContent\"\n\nconst CarouselItem = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const { orientation } = useCarousel()\n\n  return (\n    <div\n      ref={ref}\n      role=\"group\"\n      aria-roledescription=\"slide\"\n      className={cn(\n        \"min-w-0 shrink-0 grow-0 basis-full\",\n        orientation === \"horizontal\" ? \"pl-4\" : \"pt-4\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nCarouselItem.displayName = \"CarouselItem\"\n\nconst CarouselPrevious = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<typeof Button>\n>(({ className, variant = \"outline\", size = \"icon\", ...props }, ref) => {\n  const { orientation, scrollPrev, canScrollPrev } = useCarousel()\n\n  return (\n    <Button\n      ref={ref}\n      variant={variant}\n      size={size}\n      className={cn(\n        \"absolute  h-8 w-8 rounded-full\",\n        orientation === \"horizontal\"\n          ? \"-left-12 top-1/2 -translate-y-1/2\"\n          : \"-top-12 left-1/2 -translate-x-1/2 rotate-90\",\n        className\n      )}\n      disabled={!canScrollPrev}\n      onClick={scrollPrev}\n      {...props}\n    >\n      <ArrowLeft className=\"h-4 w-4\" />\n      <span className=\"sr-only\">Previous slide</span>\n    </Button>\n  )\n})\nCarouselPrevious.displayName = \"CarouselPrevious\"\n\nconst CarouselNext = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<typeof Button>\n>(({ className, variant = \"outline\", size = \"icon\", ...props }, ref) => {\n  const { orientation, scrollNext, canScrollNext } = useCarousel()\n\n  return (\n    <Button\n      ref={ref}\n      variant={variant}\n      size={size}\n      className={cn(\n        \"absolute h-8 w-8 rounded-full\",\n        orientation === \"horizontal\"\n          ? \"-right-12 top-1/2 -translate-y-1/2\"\n          : \"-bottom-12 left-1/2 -translate-x-1/2 rotate-90\",\n        className\n      )}\n      disabled={!canScrollNext}\n      onClick={scrollNext}\n      {...props}\n    >\n      <ArrowRight className=\"h-4 w-4\" />\n      <span className=\"sr-only\">Next slide</span>\n    </Button>\n  )\n})\nCarouselNext.displayName = \"CarouselNext\"\n\nexport {\n  type CarouselApi,\n  Carousel,\n  CarouselContent,\n  CarouselItem,\n  CarouselPrevious,\n  CarouselNext,\n}\n","path":null,"size_bytes":6210,"size_tokens":null},"client/src/components/ui/table.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Table = React.forwardRef<\n  HTMLTableElement,\n  React.HTMLAttributes<HTMLTableElement>\n>(({ className, ...props }, ref) => (\n  <div className=\"relative w-full overflow-auto\">\n    <table\n      ref={ref}\n      className={cn(\"w-full caption-bottom text-sm\", className)}\n      {...props}\n    />\n  </div>\n))\nTable.displayName = \"Table\"\n\nconst TableHeader = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <thead ref={ref} className={cn(\"[&_tr]:border-b\", className)} {...props} />\n))\nTableHeader.displayName = \"TableHeader\"\n\nconst TableBody = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <tbody\n    ref={ref}\n    className={cn(\"[&_tr:last-child]:border-0\", className)}\n    {...props}\n  />\n))\nTableBody.displayName = \"TableBody\"\n\nconst TableFooter = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <tfoot\n    ref={ref}\n    className={cn(\n      \"border-t bg-muted/50 font-medium [&>tr]:last:border-b-0\",\n      className\n    )}\n    {...props}\n  />\n))\nTableFooter.displayName = \"TableFooter\"\n\nconst TableRow = React.forwardRef<\n  HTMLTableRowElement,\n  React.HTMLAttributes<HTMLTableRowElement>\n>(({ className, ...props }, ref) => (\n  <tr\n    ref={ref}\n    className={cn(\n      \"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted\",\n      className\n    )}\n    {...props}\n  />\n))\nTableRow.displayName = \"TableRow\"\n\nconst TableHead = React.forwardRef<\n  HTMLTableCellElement,\n  React.ThHTMLAttributes<HTMLTableCellElement>\n>(({ className, ...props }, ref) => (\n  <th\n    ref={ref}\n    className={cn(\n      \"h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0\",\n      className\n    )}\n    {...props}\n  />\n))\nTableHead.displayName = \"TableHead\"\n\nconst TableCell = React.forwardRef<\n  HTMLTableCellElement,\n  React.TdHTMLAttributes<HTMLTableCellElement>\n>(({ className, ...props }, ref) => (\n  <td\n    ref={ref}\n    className={cn(\"p-4 align-middle [&:has([role=checkbox])]:pr-0\", className)}\n    {...props}\n  />\n))\nTableCell.displayName = \"TableCell\"\n\nconst TableCaption = React.forwardRef<\n  HTMLTableCaptionElement,\n  React.HTMLAttributes<HTMLTableCaptionElement>\n>(({ className, ...props }, ref) => (\n  <caption\n    ref={ref}\n    className={cn(\"mt-4 text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nTableCaption.displayName = \"TableCaption\"\n\nexport {\n  Table,\n  TableHeader,\n  TableBody,\n  TableFooter,\n  TableHead,\n  TableRow,\n  TableCell,\n  TableCaption,\n}\n","path":null,"size_bytes":2765,"size_tokens":null},"client/src/components/ui/tabs.tsx":{"content":"import * as React from \"react\"\nimport * as TabsPrimitive from \"@radix-ui/react-tabs\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Tabs = TabsPrimitive.Root\n\nconst TabsList = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.List\n    ref={ref}\n    className={cn(\n      \"inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsList.displayName = TabsPrimitive.List.displayName\n\nconst TabsTrigger = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Trigger>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsTrigger.displayName = TabsPrimitive.Trigger.displayName\n\nconst TabsContent = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Content\n    ref={ref}\n    className={cn(\n      \"mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsContent.displayName = TabsPrimitive.Content.displayName\n\nexport { Tabs, TabsList, TabsTrigger, TabsContent }\n","path":null,"size_bytes":1883,"size_tokens":null},"client/src/components/dashboard/pages/OurTeam.tsx":{"content":"export function OurTeam() {\n  return (\n    <div>\n      <h2 className=\"text-2xl font-bold\">Our Team & Join Community</h2>\n      <p>Team page coming soon...</p>\n    </div>\n  );\n}","path":null,"size_bytes":176,"size_tokens":null},"client/src/components/ui/toggle-group.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as ToggleGroupPrimitive from \"@radix-ui/react-toggle-group\"\nimport { type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\nimport { toggleVariants } from \"@/components/ui/toggle\"\n\nconst ToggleGroupContext = React.createContext<\n  VariantProps<typeof toggleVariants>\n>({\n  size: \"default\",\n  variant: \"default\",\n})\n\nconst ToggleGroup = React.forwardRef<\n  React.ElementRef<typeof ToggleGroupPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ToggleGroupPrimitive.Root> &\n    VariantProps<typeof toggleVariants>\n>(({ className, variant, size, children, ...props }, ref) => (\n  <ToggleGroupPrimitive.Root\n    ref={ref}\n    className={cn(\"flex items-center justify-center gap-1\", className)}\n    {...props}\n  >\n    <ToggleGroupContext.Provider value={{ variant, size }}>\n      {children}\n    </ToggleGroupContext.Provider>\n  </ToggleGroupPrimitive.Root>\n))\n\nToggleGroup.displayName = ToggleGroupPrimitive.Root.displayName\n\nconst ToggleGroupItem = React.forwardRef<\n  React.ElementRef<typeof ToggleGroupPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof ToggleGroupPrimitive.Item> &\n    VariantProps<typeof toggleVariants>\n>(({ className, children, variant, size, ...props }, ref) => {\n  const context = React.useContext(ToggleGroupContext)\n\n  return (\n    <ToggleGroupPrimitive.Item\n      ref={ref}\n      className={cn(\n        toggleVariants({\n          variant: context.variant || variant,\n          size: context.size || size,\n        }),\n        className\n      )}\n      {...props}\n    >\n      {children}\n    </ToggleGroupPrimitive.Item>\n  )\n})\n\nToggleGroupItem.displayName = ToggleGroupPrimitive.Item.displayName\n\nexport { ToggleGroup, ToggleGroupItem }\n","path":null,"size_bytes":1753,"size_tokens":null},"client/src/components/ui/form.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport {\n  Controller,\n  FormProvider,\n  useFormContext,\n  type ControllerProps,\n  type FieldPath,\n  type FieldValues,\n} from \"react-hook-form\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Label } from \"@/components/ui/label\"\n\nconst Form = FormProvider\n\ntype FormFieldContextValue<\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>\n> = {\n  name: TName\n}\n\nconst FormFieldContext = React.createContext<FormFieldContextValue>(\n  {} as FormFieldContextValue\n)\n\nconst FormField = <\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>\n>({\n  ...props\n}: ControllerProps<TFieldValues, TName>) => {\n  return (\n    <FormFieldContext.Provider value={{ name: props.name }}>\n      <Controller {...props} />\n    </FormFieldContext.Provider>\n  )\n}\n\nconst useFormField = () => {\n  const fieldContext = React.useContext(FormFieldContext)\n  const itemContext = React.useContext(FormItemContext)\n  const { getFieldState, formState } = useFormContext()\n\n  const fieldState = getFieldState(fieldContext.name, formState)\n\n  if (!fieldContext) {\n    throw new Error(\"useFormField should be used within <FormField>\")\n  }\n\n  const { id } = itemContext\n\n  return {\n    id,\n    name: fieldContext.name,\n    formItemId: `${id}-form-item`,\n    formDescriptionId: `${id}-form-item-description`,\n    formMessageId: `${id}-form-item-message`,\n    ...fieldState,\n  }\n}\n\ntype FormItemContextValue = {\n  id: string\n}\n\nconst FormItemContext = React.createContext<FormItemContextValue>(\n  {} as FormItemContextValue\n)\n\nconst FormItem = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const id = React.useId()\n\n  return (\n    <FormItemContext.Provider value={{ id }}>\n      <div ref={ref} className={cn(\"space-y-2\", className)} {...props} />\n    </FormItemContext.Provider>\n  )\n})\nFormItem.displayName = \"FormItem\"\n\nconst FormLabel = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root>\n>(({ className, ...props }, ref) => {\n  const { error, formItemId } = useFormField()\n\n  return (\n    <Label\n      ref={ref}\n      className={cn(error && \"text-destructive\", className)}\n      htmlFor={formItemId}\n      {...props}\n    />\n  )\n})\nFormLabel.displayName = \"FormLabel\"\n\nconst FormControl = React.forwardRef<\n  React.ElementRef<typeof Slot>,\n  React.ComponentPropsWithoutRef<typeof Slot>\n>(({ ...props }, ref) => {\n  const { error, formItemId, formDescriptionId, formMessageId } = useFormField()\n\n  return (\n    <Slot\n      ref={ref}\n      id={formItemId}\n      aria-describedby={\n        !error\n          ? `${formDescriptionId}`\n          : `${formDescriptionId} ${formMessageId}`\n      }\n      aria-invalid={!!error}\n      {...props}\n    />\n  )\n})\nFormControl.displayName = \"FormControl\"\n\nconst FormDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => {\n  const { formDescriptionId } = useFormField()\n\n  return (\n    <p\n      ref={ref}\n      id={formDescriptionId}\n      className={cn(\"text-sm text-muted-foreground\", className)}\n      {...props}\n    />\n  )\n})\nFormDescription.displayName = \"FormDescription\"\n\nconst FormMessage = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, children, ...props }, ref) => {\n  const { error, formMessageId } = useFormField()\n  const body = error ? String(error?.message ?? \"\") : children\n\n  if (!body) {\n    return null\n  }\n\n  return (\n    <p\n      ref={ref}\n      id={formMessageId}\n      className={cn(\"text-sm font-medium text-destructive\", className)}\n      {...props}\n    >\n      {body}\n    </p>\n  )\n})\nFormMessage.displayName = \"FormMessage\"\n\nexport {\n  useFormField,\n  Form,\n  FormItem,\n  FormLabel,\n  FormControl,\n  FormDescription,\n  FormMessage,\n  FormField,\n}\n","path":null,"size_bytes":4120,"size_tokens":null},"client/src/components/auth/ForgotPasswordForm.tsx":{"content":"import { useForm } from \"react-hook-form\";\nimport { zodResolver } from \"@hookform/resolvers/zod\";\nimport { useMutation } from \"@tanstack/react-query\";\nimport { Mail, ArrowLeft, Send, Info } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Form, FormControl, FormField, FormItem, FormLabel, FormMessage } from \"@/components/ui/form\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { apiRequest } from \"@/lib/queryClient\";\nimport { forgotPasswordSchema, type ForgotPasswordData } from \"@shared/schema\";\n\ninterface ForgotPasswordFormProps {\n  onSwitchToLogin: () => void;\n  onSwitchToOTP: (email: string) => void;\n}\n\nexport function ForgotPasswordForm({ onSwitchToLogin, onSwitchToOTP }: ForgotPasswordFormProps) {\n  const { toast } = useToast();\n\n  const form = useForm<ForgotPasswordData>({\n    resolver: zodResolver(forgotPasswordSchema),\n    defaultValues: {\n      email: \"\",\n    },\n  });\n\n  const forgotPasswordMutation = useMutation({\n    mutationFn: async (data: ForgotPasswordData) => {\n      const response = await apiRequest(\"POST\", \"/api/auth/forgot-password\", data);\n      return response.json();\n    },\n    onSuccess: (data) => {\n      toast({\n        title: \"Reset Code Sent\",\n        description: \"Please check your email for the password reset code.\",\n      });\n      onSwitchToOTP(data.email);\n    },\n    onError: (error: any) => {\n      toast({\n        title: \"Reset Failed\",\n        description: error.message || \"Failed to send reset code\",\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  const onSubmit = (data: ForgotPasswordData) => {\n    forgotPasswordMutation.mutate(data);\n  };\n\n  return (\n    <div>\n      <div className=\"text-center mb-8\">\n        <div className=\"inline-flex items-center justify-center w-16 h-16 bg-purple-100 rounded-full mb-4\">\n          <svg className=\"w-6 h-6 text-purple-600\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n            <path fillRule=\"evenodd\" d=\"M18 8a6 6 0 01-7.743 5.743L10 14l-1 1-1 1H6v2H2v-4l4.257-4.257A6 6 0 1118 8zm-6-4a1 1 0 100 2 2 2 0 012 2 1 1 0 102 0 4 4 0 00-4-4z\" clipRule=\"evenodd\" />\n          </svg>\n        </div>\n        <h2 className=\"text-2xl font-bold text-gray-800 mb-2\">Reset Password</h2>\n        <p className=\"text-gray-500\">Enter your VU email to receive password reset instructions</p>\n      </div>\n\n      <Form {...form}>\n        <form onSubmit={form.handleSubmit(onSubmit)} className=\"space-y-6\">\n          <FormField\n            control={form.control}\n            name=\"email\"\n            render={({ field }) => (\n              <FormItem>\n                <FormLabel className=\"text-sm font-medium text-gray-700\">VU Email Address</FormLabel>\n                <FormControl>\n                  <Input\n                    {...field}\n                    type=\"email\"\n                    placeholder=\"student@vu.edu.pk\"\n                    icon={<Mail className=\"text-gray-400\" size={18} />}\n                    error={!!form.formState.errors.email}\n                  />\n                </FormControl>\n                <FormMessage />\n              </FormItem>\n            )}\n          />\n\n          <Button\n            type=\"submit\"\n            variant=\"accent\"\n            className=\"w-full\"\n            disabled={forgotPasswordMutation.isPending}\n          >\n            {forgotPasswordMutation.isPending ? \"Sending...\" : \"Send Reset Code\"}\n            <Send className=\"ml-2\" size={16} />\n          </Button>\n        </form>\n      </Form>\n\n      {/* Back to Login */}\n      <div className=\"mt-6 text-center\">\n        <button\n          onClick={onSwitchToLogin}\n          className=\"text-blue-600 hover:text-purple-600 font-semibold transition-colors flex items-center justify-center w-full\"\n        >\n          <ArrowLeft className=\"mr-2\" size={16} />\n          Back to Login\n        </button>\n      </div>\n\n      {/* Help Section */}\n      <div className=\"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg\">\n        <div className=\"flex items-start\">\n          <Info className=\"text-blue-600 mr-2 mt-1\" size={18} />\n          <div className=\"text-sm text-blue-600\">\n            <p className=\"font-medium mb-1\">Need help?</p>\n            <p>Contact VU IT support at support@vu.edu.pk or call +92-42-111-880-880</p>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","path":null,"size_bytes":4359,"size_tokens":null},"client/src/components/dashboard/pages/MySubjects.tsx":{"content":"import { BookOpen, Clock, Users, FileText, Award } from \"lucide-react\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Button } from \"@/components/ui/button\";\nimport { Progress } from \"@/components/ui/progress\";\n\nexport function MySubjects({ user }: { user: any }) {\n  const subjects = user?.subjects || [];\n  const degreeProgram = user?.degreeProgram || \"Not Set\";\n\n  const getSubjectCode = (subject: string) => {\n    const match = subject.match(/^([A-Z]{2,4}\\d{3})/);\n    return match ? match[1] : subject.substring(0, 6);\n  };\n\n  const getSubjectName = (subject: string) => {\n    const parts = subject.split(\" - \");\n    return parts.length > 1 ? parts[1] : subject;\n  };\n\n  const mockSubjectData = {\n    \"CS201\": { \n      progress: 75, \n      assignments: 3, \n      resources: 12, \n      discussions: 8,\n      color: \"bg-blue-500\"\n    },\n    \"CS301\": { \n      progress: 60, \n      assignments: 2, \n      resources: 8, \n      discussions: 5,\n      color: \"bg-green-500\"\n    },\n    \"MTH601\": { \n      progress: 45, \n      assignments: 1, \n      resources: 15, \n      discussions: 12,\n      color: \"bg-purple-500\"\n    },\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h1 className=\"text-3xl font-bold text-gray-900 dark:text-white\">My Subjects</h1>\n          <p className=\"text-gray-500 dark:text-gray-400 mt-2\">\n            {degreeProgram} â€¢ {subjects.length} subjects enrolled\n          </p>\n        </div>\n        <Button variant=\"outline\">\n          <BookOpen className=\"mr-2\" size={16} />\n          Manage Subjects\n        </Button>\n      </div>\n\n      {subjects.length === 0 ? (\n        <Card>\n          <CardContent className=\"text-center py-12\">\n            <BookOpen className=\"mx-auto h-16 w-16 text-gray-400 mb-4\" />\n            <h3 className=\"text-lg font-semibold text-gray-900 dark:text-white mb-2\">\n              No Subjects Selected\n            </h3>\n            <p className=\"text-gray-500 mb-4\">\n              You haven't selected any subjects yet. Complete your profile setup to get started.\n            </p>\n            <Button>Complete Setup</Button>\n          </CardContent>\n        </Card>\n      ) : (\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n          {subjects.map((subject: string, index: number) => {\n            const code = getSubjectCode(subject);\n            const name = getSubjectName(subject);\n            const data = mockSubjectData[code as keyof typeof mockSubjectData] || {\n              progress: Math.floor(Math.random() * 100),\n              assignments: Math.floor(Math.random() * 5),\n              resources: Math.floor(Math.random() * 20),\n              discussions: Math.floor(Math.random() * 15),\n              color: \"bg-gray-500\"\n            };\n\n            return (\n              <Card key={index} className=\"hover:shadow-lg transition-shadow cursor-pointer\">\n                <CardHeader className=\"pb-3\">\n                  <div className=\"flex items-center justify-between\">\n                    <div className={`w-3 h-3 rounded-full ${data.color}`}></div>\n                    <Badge variant=\"secondary\">{code}</Badge>\n                  </div>\n                  <CardTitle className=\"text-lg\">{name}</CardTitle>\n                  <CardDescription>Progress: {data.progress}%</CardDescription>\n                </CardHeader>\n                <CardContent className=\"space-y-4\">\n                  <Progress value={data.progress} className=\"h-2\" />\n                  \n                  <div className=\"grid grid-cols-2 gap-4 text-sm\">\n                    <div className=\"flex items-center\">\n                      <Clock className=\"mr-2 h-4 w-4 text-gray-500\" />\n                      <span>{data.assignments} Assignments</span>\n                    </div>\n                    <div className=\"flex items-center\">\n                      <FileText className=\"mr-2 h-4 w-4 text-gray-500\" />\n                      <span>{data.resources} Resources</span>\n                    </div>\n                    <div className=\"flex items-center\">\n                      <Users className=\"mr-2 h-4 w-4 text-gray-500\" />\n                      <span>{data.discussions} Discussions</span>\n                    </div>\n                    <div className=\"flex items-center\">\n                      <Award className=\"mr-2 h-4 w-4 text-gray-500\" />\n                      <span>0 Badges</span>\n                    </div>\n                  </div>\n\n                  <div className=\"flex gap-2\">\n                    <Button size=\"sm\" variant=\"outline\" className=\"flex-1\">\n                      View Resources\n                    </Button>\n                    <Button size=\"sm\" className=\"flex-1\">\n                      Join Discussion\n                    </Button>\n                  </div>\n                </CardContent>\n              </Card>\n            );\n          })}\n        </div>\n      )}\n\n      {/* Quick Stats */}\n      {subjects.length > 0 && (\n        <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n          <Card>\n            <CardContent className=\"p-4\">\n              <div className=\"flex items-center\">\n                <BookOpen className=\"h-8 w-8 text-blue-600\" />\n                <div className=\"ml-3\">\n                  <p className=\"text-sm text-gray-500\">Total Subjects</p>\n                  <p className=\"text-lg font-semibold\">{subjects.length}</p>\n                </div>\n              </div>\n            </CardContent>\n          </Card>\n          \n          <Card>\n            <CardContent className=\"p-4\">\n              <div className=\"flex items-center\">\n                <Clock className=\"h-8 w-8 text-green-600\" />\n                <div className=\"ml-3\">\n                  <p className=\"text-sm text-gray-500\">Active Assignments</p>\n                  <p className=\"text-lg font-semibold\">6</p>\n                </div>\n              </div>\n            </CardContent>\n          </Card>\n\n          <Card>\n            <CardContent className=\"p-4\">\n              <div className=\"flex items-center\">\n                <FileText className=\"h-8 w-8 text-purple-600\" />\n                <div className=\"ml-3\">\n                  <p className=\"text-sm text-gray-500\">Total Resources</p>\n                  <p className=\"text-lg font-semibold\">35</p>\n                </div>\n              </div>\n            </CardContent>\n          </Card>\n\n          <Card>\n            <CardContent className=\"p-4\">\n              <div className=\"flex items-center\">\n                <Award className=\"h-8 w-8 text-orange-600\" />\n                <div className=\"ml-3\">\n                  <p className=\"text-sm text-gray-500\">Badges Earned</p>\n                  <p className=\"text-lg font-semibold\">0</p>\n                </div>\n              </div>\n            </CardContent>\n          </Card>\n        </div>\n      )}\n    </div>\n  );\n}","path":null,"size_bytes":6977,"size_tokens":null},"client/src/components/ui/alert-dialog.tsx":{"content":"import * as React from \"react\"\nimport * as AlertDialogPrimitive from \"@radix-ui/react-alert-dialog\"\n\nimport { cn } from \"@/lib/utils\"\nimport { buttonVariants } from \"@/components/ui/button\"\n\nconst AlertDialog = AlertDialogPrimitive.Root\n\nconst AlertDialogTrigger = AlertDialogPrimitive.Trigger\n\nconst AlertDialogPortal = AlertDialogPrimitive.Portal\n\nconst AlertDialogOverlay = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Overlay\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  />\n))\nAlertDialogOverlay.displayName = AlertDialogPrimitive.Overlay.displayName\n\nconst AlertDialogContent = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPortal>\n    <AlertDialogOverlay />\n    <AlertDialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    />\n  </AlertDialogPortal>\n))\nAlertDialogContent.displayName = AlertDialogPrimitive.Content.displayName\n\nconst AlertDialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-2 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nAlertDialogHeader.displayName = \"AlertDialogHeader\"\n\nconst AlertDialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nAlertDialogFooter.displayName = \"AlertDialogFooter\"\n\nconst AlertDialogTitle = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Title\n    ref={ref}\n    className={cn(\"text-lg font-semibold\", className)}\n    {...props}\n  />\n))\nAlertDialogTitle.displayName = AlertDialogPrimitive.Title.displayName\n\nconst AlertDialogDescription = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nAlertDialogDescription.displayName =\n  AlertDialogPrimitive.Description.displayName\n\nconst AlertDialogAction = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Action>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Action>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Action\n    ref={ref}\n    className={cn(buttonVariants(), className)}\n    {...props}\n  />\n))\nAlertDialogAction.displayName = AlertDialogPrimitive.Action.displayName\n\nconst AlertDialogCancel = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Cancel>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Cancel>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Cancel\n    ref={ref}\n    className={cn(\n      buttonVariants({ variant: \"outline\" }),\n      \"mt-2 sm:mt-0\",\n      className\n    )}\n    {...props}\n  />\n))\nAlertDialogCancel.displayName = AlertDialogPrimitive.Cancel.displayName\n\nexport {\n  AlertDialog,\n  AlertDialogPortal,\n  AlertDialogOverlay,\n  AlertDialogTrigger,\n  AlertDialogContent,\n  AlertDialogHeader,\n  AlertDialogFooter,\n  AlertDialogTitle,\n  AlertDialogDescription,\n  AlertDialogAction,\n  AlertDialogCancel,\n}\n","path":null,"size_bytes":4420,"size_tokens":null},"client/src/components/auth/AuthFormWrapper.tsx":{"content":"import { Card } from \"@/components/ui/card\";\nimport { cn } from \"@/lib/utils\";\nimport { GraduationCap } from \"lucide-react\";\n\ninterface AuthFormWrapperProps {\n  children: React.ReactNode;\n  className?: string;\n}\n\nexport function AuthFormWrapper({ children, className }: AuthFormWrapperProps) {\n  return (\n    <Card className={cn(\n      \"w-full max-w-md p-8 bg-white/90 backdrop-blur-xl border border-white/30 shadow-2xl\",\n      className\n    )}>\n      {/* Mobile VU Branding */}\n      <div className=\"lg:hidden text-center mb-8\">\n        <div className=\"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-r from-blue-700 to-purple-600 rounded-full mb-4\">\n          <GraduationCap className=\"text-white text-2xl\" size={32} />\n        </div>\n        <h1 className=\"text-2xl font-bold text-gray-800\">VU Portal</h1>\n        <p className=\"text-gray-500 text-sm\">Virtual University of Pakistan</p>\n      </div>\n      {children}\n    </Card>\n  );\n}\n","path":null,"size_bytes":955,"size_tokens":null},"client/src/components/auth/ResetPasswordForm.tsx":{"content":"import { useForm } from \"react-hook-form\";\nimport { zodResolver } from \"@hookform/resolvers/zod\";\nimport { useMutation } from \"@tanstack/react-query\";\nimport { Lock, Eye, EyeOff } from \"lucide-react\";\nimport { useState } from \"react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Form, FormControl, FormField, FormItem, FormLabel, FormMessage } from \"@/components/ui/form\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { apiRequest } from \"@/lib/queryClient\";\nimport { resetPasswordSchema, type ResetPasswordData } from \"@shared/schema\";\n\ninterface ResetPasswordFormProps {\n  email: string;\n  otpCode: string;\n  onSuccess: () => void;\n  onBackToLogin: () => void;\n}\n\nexport function ResetPasswordForm({ email, otpCode, onSuccess, onBackToLogin }: ResetPasswordFormProps) {\n  const [showPassword, setShowPassword] = useState(false);\n  const [showConfirmPassword, setShowConfirmPassword] = useState(false);\n  const { toast } = useToast();\n\n  const form = useForm<ResetPasswordData>({\n    resolver: zodResolver(resetPasswordSchema),\n    defaultValues: {\n      email,\n      code: otpCode,\n      newPassword: \"\",\n      confirmPassword: \"\",\n    },\n  });\n\n  const resetPasswordMutation = useMutation({\n    mutationFn: async (data: ResetPasswordData) => {\n      const response = await apiRequest(\"POST\", \"/api/auth/reset-password\", data);\n      return response.json();\n    },\n    onSuccess: () => {\n      toast({\n        title: \"Password Reset Successful\",\n        description: \"Your password has been updated. You can now log in with your new password.\",\n        variant: \"default\",\n      });\n      onSuccess();\n    },\n    onError: (error: Error) => {\n      toast({\n        title: \"Reset Failed\",\n        description: error.message,\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  const onSubmit = (data: ResetPasswordData) => {\n    resetPasswordMutation.mutate(data);\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"text-center space-y-2\">\n        <div className=\"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4\">\n          <Lock className=\"text-blue-600\" size={24} />\n        </div>\n        <h2 className=\"text-2xl font-bold text-gray-900\">Reset Password</h2>\n        <p className=\"text-gray-600\">\n          Enter your new password for <span className=\"font-medium\">{email}</span>\n        </p>\n      </div>\n\n      {/* Form */}\n      <Form {...form}>\n        <form onSubmit={form.handleSubmit(onSubmit)} className=\"space-y-4\">\n          <FormField\n            control={form.control}\n            name=\"newPassword\"\n            render={({ field }) => (\n              <FormItem>\n                <FormLabel>New Password</FormLabel>\n                <FormControl>\n                  <div className=\"relative\">\n                    <Input\n                      {...field}\n                      type={showPassword ? \"text\" : \"password\"}\n                      placeholder=\"Enter new password\"\n                      className=\"pr-10\"\n                    />\n                    <button\n                      type=\"button\"\n                      onClick={() => setShowPassword(!showPassword)}\n                      className=\"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600\"\n                    >\n                      {showPassword ? <EyeOff size={20} /> : <Eye size={20} />}\n                    </button>\n                  </div>\n                </FormControl>\n                <FormMessage />\n              </FormItem>\n            )}\n          />\n\n          <FormField\n            control={form.control}\n            name=\"confirmPassword\"\n            render={({ field }) => (\n              <FormItem>\n                <FormLabel>Confirm New Password</FormLabel>\n                <FormControl>\n                  <div className=\"relative\">\n                    <Input\n                      {...field}\n                      type={showConfirmPassword ? \"text\" : \"password\"}\n                      placeholder=\"Confirm new password\"\n                      className=\"pr-10\"\n                    />\n                    <button\n                      type=\"button\"\n                      onClick={() => setShowConfirmPassword(!showConfirmPassword)}\n                      className=\"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600\"\n                    >\n                      {showConfirmPassword ? <EyeOff size={20} /> : <Eye size={20} />}\n                    </button>\n                  </div>\n                </FormControl>\n                <FormMessage />\n              </FormItem>\n            )}\n          />\n\n          <Button\n            type=\"submit\"\n            className=\"w-full bg-blue-600 hover:bg-blue-700\"\n            disabled={resetPasswordMutation.isPending}\n          >\n            {resetPasswordMutation.isPending ? \"Updating Password...\" : \"Update Password\"}\n          </Button>\n        </form>\n      </Form>\n\n      {/* Back to Login */}\n      <div className=\"text-center\">\n        <button\n          onClick={onBackToLogin}\n          className=\"text-blue-600 hover:text-blue-700 font-medium hover:underline\"\n        >\n          Back to Login\n        </button>\n      </div>\n    </div>\n  );\n}","path":null,"size_bytes":5284,"size_tokens":null},"client/src/components/ui/avatar.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as AvatarPrimitive from \"@radix-ui/react-avatar\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Avatar = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full\",\n      className\n    )}\n    {...props}\n  />\n))\nAvatar.displayName = AvatarPrimitive.Root.displayName\n\nconst AvatarImage = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Image>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Image>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Image\n    ref={ref}\n    className={cn(\"aspect-square h-full w-full\", className)}\n    {...props}\n  />\n))\nAvatarImage.displayName = AvatarPrimitive.Image.displayName\n\nconst AvatarFallback = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Fallback>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Fallback>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Fallback\n    ref={ref}\n    className={cn(\n      \"flex h-full w-full items-center justify-center rounded-full bg-muted\",\n      className\n    )}\n    {...props}\n  />\n))\nAvatarFallback.displayName = AvatarPrimitive.Fallback.displayName\n\nexport { Avatar, AvatarImage, AvatarFallback }\n","path":null,"size_bytes":1419,"size_tokens":null},"client/src/components/ui/command.tsx":{"content":"import * as React from \"react\"\nimport { type DialogProps } from \"@radix-ui/react-dialog\"\nimport { Command as CommandPrimitive } from \"cmdk\"\nimport { Search } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Dialog, DialogContent } from \"@/components/ui/dialog\"\n\nconst Command = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive\n    ref={ref}\n    className={cn(\n      \"flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nCommand.displayName = CommandPrimitive.displayName\n\nconst CommandDialog = ({ children, ...props }: DialogProps) => {\n  return (\n    <Dialog {...props}>\n      <DialogContent className=\"overflow-hidden p-0 shadow-lg\">\n        <Command className=\"[&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-group]]:px-2 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5\">\n          {children}\n        </Command>\n      </DialogContent>\n    </Dialog>\n  )\n}\n\nconst CommandInput = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Input>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Input>\n>(({ className, ...props }, ref) => (\n  <div className=\"flex items-center border-b px-3\" cmdk-input-wrapper=\"\">\n    <Search className=\"mr-2 h-4 w-4 shrink-0 opacity-50\" />\n    <CommandPrimitive.Input\n      ref={ref}\n      className={cn(\n        \"flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    />\n  </div>\n))\n\nCommandInput.displayName = CommandPrimitive.Input.displayName\n\nconst CommandList = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.List\n    ref={ref}\n    className={cn(\"max-h-[300px] overflow-y-auto overflow-x-hidden\", className)}\n    {...props}\n  />\n))\n\nCommandList.displayName = CommandPrimitive.List.displayName\n\nconst CommandEmpty = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Empty>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Empty>\n>((props, ref) => (\n  <CommandPrimitive.Empty\n    ref={ref}\n    className=\"py-6 text-center text-sm\"\n    {...props}\n  />\n))\n\nCommandEmpty.displayName = CommandPrimitive.Empty.displayName\n\nconst CommandGroup = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Group>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Group>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Group\n    ref={ref}\n    className={cn(\n      \"overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\n\nCommandGroup.displayName = CommandPrimitive.Group.displayName\n\nconst CommandSeparator = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 h-px bg-border\", className)}\n    {...props}\n  />\n))\nCommandSeparator.displayName = CommandPrimitive.Separator.displayName\n\nconst CommandItem = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Item>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      className\n    )}\n    {...props}\n  />\n))\n\nCommandItem.displayName = CommandPrimitive.Item.displayName\n\nconst CommandShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nCommandShortcut.displayName = \"CommandShortcut\"\n\nexport {\n  Command,\n  CommandDialog,\n  CommandInput,\n  CommandList,\n  CommandEmpty,\n  CommandGroup,\n  CommandItem,\n  CommandShortcut,\n  CommandSeparator,\n}\n","path":null,"size_bytes":4885,"size_tokens":null},"client/src/components/ui/badge.tsx":{"content":"import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst badgeVariants = cva(\n  \"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"border-transparent bg-primary text-primary-foreground hover:bg-primary/80\",\n        secondary:\n          \"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        destructive:\n          \"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80\",\n        outline: \"text-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nexport interface BadgeProps\n  extends React.HTMLAttributes<HTMLDivElement>,\n    VariantProps<typeof badgeVariants> {}\n\nfunction Badge({ className, variant, ...props }: BadgeProps) {\n  return (\n    <div className={cn(badgeVariants({ variant }), className)} {...props} />\n  )\n}\n\nexport { Badge, badgeVariants }\n","path":null,"size_bytes":1128,"size_tokens":null},"client/src/components/ui/label.tsx":{"content":"import * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst labelVariants = cva(\n  \"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\"\n)\n\nconst Label = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> &\n    VariantProps<typeof labelVariants>\n>(({ className, ...props }, ref) => (\n  <LabelPrimitive.Root\n    ref={ref}\n    className={cn(labelVariants(), className)}\n    {...props}\n  />\n))\nLabel.displayName = LabelPrimitive.Root.displayName\n\nexport { Label }\n","path":null,"size_bytes":710,"size_tokens":null},"client/src/components/ui/alert.tsx":{"content":"import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst alertVariants = cva(\n  \"relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-background text-foreground\",\n        destructive:\n          \"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nconst Alert = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement> & VariantProps<typeof alertVariants>\n>(({ className, variant, ...props }, ref) => (\n  <div\n    ref={ref}\n    role=\"alert\"\n    className={cn(alertVariants({ variant }), className)}\n    {...props}\n  />\n))\nAlert.displayName = \"Alert\"\n\nconst AlertTitle = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLHeadingElement>\n>(({ className, ...props }, ref) => (\n  <h5\n    ref={ref}\n    className={cn(\"mb-1 font-medium leading-none tracking-tight\", className)}\n    {...props}\n  />\n))\nAlertTitle.displayName = \"AlertTitle\"\n\nconst AlertDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm [&_p]:leading-relaxed\", className)}\n    {...props}\n  />\n))\nAlertDescription.displayName = \"AlertDescription\"\n\nexport { Alert, AlertTitle, AlertDescription }\n","path":null,"size_bytes":1584,"size_tokens":null},"client/src/lib/queryClient.ts":{"content":"import { QueryClient, QueryFunction } from \"@tanstack/react-query\";\n\nasync function throwIfResNotOk(res: Response) {\n  if (!res.ok) {\n    const text = (await res.text()) || res.statusText;\n    throw new Error(`${res.status}: ${text}`);\n  }\n}\n\nexport async function apiRequest(\n  method: string,\n  url: string,\n  data?: unknown | undefined,\n): Promise<Response> {\n  const res = await fetch(url, {\n    method,\n    headers: data ? { \"Content-Type\": \"application/json\" } : {},\n    body: data ? JSON.stringify(data) : undefined,\n    credentials: \"include\",\n  });\n\n  await throwIfResNotOk(res);\n  return res;\n}\n\ntype UnauthorizedBehavior = \"returnNull\" | \"throw\";\nexport const getQueryFn: <T>(options: {\n  on401: UnauthorizedBehavior;\n}) => QueryFunction<T> =\n  ({ on401: unauthorizedBehavior }) =>\n  async ({ queryKey }) => {\n    const res = await fetch(queryKey.join(\"/\") as string, {\n      credentials: \"include\",\n    });\n\n    if (unauthorizedBehavior === \"returnNull\" && res.status === 401) {\n      return null;\n    }\n\n    await throwIfResNotOk(res);\n    return await res.json();\n  };\n\nexport const queryClient = new QueryClient({\n  defaultOptions: {\n    queries: {\n      queryFn: getQueryFn({ on401: \"throw\" }),\n      refetchInterval: false,\n      refetchOnWindowFocus: false,\n      staleTime: Infinity,\n      retry: false,\n    },\n    mutations: {\n      retry: false,\n    },\n  },\n});\n","path":null,"size_bytes":1383,"size_tokens":null},"client/src/pages/dashboard.tsx":{"content":"import { useState } from \"react\";\nimport { useAuth } from \"@/hooks/useAuth\";\nimport { Redirect } from \"wouter\";\nimport { Sidebar } from \"@/components/dashboard/Sidebar\";\nimport { DashboardContent } from \"@/components/dashboard/DashboardContent\";\nimport { SetupProfile } from \"@/components/dashboard/SetupProfile\";\n\nexport default function Dashboard() {\n  const { user, isLoading, isAuthenticated } = useAuth();\n  const [activePage, setActivePage] = useState(\"dashboard\");\n\n  // Redirect to auth if not authenticated\n  if (!isLoading && !isAuthenticated) {\n    return <Redirect to=\"/auth\" />;\n  }\n\n  // Show loading state\n  if (isLoading) {\n    return (\n      <div className=\"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto\"></div>\n          <p className=\"mt-4 text-gray-600 dark:text-gray-300\">Loading...</p>\n        </div>\n      </div>\n    );\n  }\n\n  // Check if user needs to set up their profile (degree and subjects)\n  // Admin users bypass setup profile requirement\n  const needsSetup = user?.role !== \"admin\" && (!user?.degreeProgram || !user?.subjects?.length);\n\n  if (needsSetup) {\n    return <SetupProfile user={user} />;\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 dark:bg-gray-900 flex\">\n      <Sidebar \n        user={user}\n        activePage={activePage}\n        onPageChange={setActivePage}\n      />\n      <main className=\"flex-1 ml-64\">\n        <DashboardContent \n          user={user}\n          activePage={activePage}\n        />\n      </main>\n    </div>\n  );\n}","path":null,"size_bytes":1654,"size_tokens":null},"client/src/components/auth/LoginForm.tsx":{"content":"import { useState } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { zodResolver } from \"@hookform/resolvers/zod\";\nimport { useMutation, useQueryClient } from \"@tanstack/react-query\";\nimport { Eye, EyeOff, Mail, Lock, ArrowRight } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Form, FormControl, FormField, FormItem, FormLabel, FormMessage } from \"@/components/ui/form\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { apiRequest } from \"@/lib/queryClient\";\nimport { loginSchema, type LoginData } from \"@shared/schema\";\n\ninterface LoginFormProps {\n  onSwitchToSignup: () => void;\n  onSwitchToForgotPassword: () => void;\n  onSwitchToOTP: (email: string) => void;\n}\n\nexport function LoginForm({ onSwitchToSignup, onSwitchToForgotPassword, onSwitchToOTP }: LoginFormProps) {\n  const [showPassword, setShowPassword] = useState(false);\n  const { toast } = useToast();\n  const queryClient = useQueryClient();\n\n  const form = useForm<LoginData>({\n    resolver: zodResolver(loginSchema),\n    defaultValues: {\n      email: \"\",\n      password: \"\",\n    },\n  });\n\n  const loginMutation = useMutation({\n    mutationFn: async (data: LoginData) => {\n      const response = await apiRequest(\"POST\", \"/api/auth/login\", data);\n      return response.json();\n    },\n    onSuccess: (data) => {\n      toast({\n        title: \"Login Successful\",\n        description: \"Welcome to VU Portal!\",\n      });\n      // Invalidate the user query to trigger re-fetch and update auth state\n      queryClient.invalidateQueries({ queryKey: [\"/api/auth/user\"] });\n      console.log(\"Login successful:\", data);\n    },\n    onError: (error: any) => {\n      const errorMessage = error.message || \"Login failed\";\n      \n      if (errorMessage.includes(\"verify your email\")) {\n        toast({\n          title: \"Email Verification Required\",\n          description: \"Please verify your email before logging in.\",\n          variant: \"destructive\",\n        });\n        // Extract email from the response if available\n        const emailMatch = form.getValues(\"email\");\n        if (emailMatch) {\n          onSwitchToOTP(emailMatch);\n        }\n      } else {\n        toast({\n          title: \"Login Failed\",\n          description: errorMessage,\n          variant: \"destructive\",\n        });\n      }\n    },\n  });\n\n  const onSubmit = (data: LoginData) => {\n    loginMutation.mutate(data);\n  };\n\n  return (\n    <div>\n      <div className=\"text-center mb-8\">\n        <h2 className=\"text-2xl font-bold text-gray-800 mb-2\">Secure Student Login</h2>\n        <p className=\"text-gray-500\">Sign in with your VU credentials to access the portal</p>\n      </div>\n\n      <Form {...form}>\n        <form onSubmit={form.handleSubmit(onSubmit)} className=\"space-y-6\">\n          <FormField\n            control={form.control}\n            name=\"email\"\n            render={({ field }) => (\n              <FormItem>\n                <FormLabel className=\"text-sm font-medium text-gray-700\">University Email</FormLabel>\n                <FormControl>\n                  <Input\n                    {...field}\n                    type=\"email\"\n                    placeholder=\"student@vu.edu.pk\"\n                    icon={<Mail className=\"text-gray-400\" size={18} />}\n                    error={!!form.formState.errors.email}\n                  />\n                </FormControl>\n                <FormMessage />\n              </FormItem>\n            )}\n          />\n\n          <FormField\n            control={form.control}\n            name=\"password\"\n            render={({ field }) => (\n              <FormItem>\n                <FormLabel className=\"text-sm font-medium text-gray-700\">Password</FormLabel>\n                <FormControl>\n                  <div className=\"relative\">\n                    <Input\n                      {...field}\n                      type={showPassword ? \"text\" : \"password\"}\n                      placeholder=\"Enter your password\"\n                      icon={<Lock className=\"text-gray-400\" size={18} />}\n                      error={!!form.formState.errors.password}\n                      className=\"pr-12\"\n                    />\n                    <button\n                      type=\"button\"\n                      onClick={() => setShowPassword(!showPassword)}\n                      className=\"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-blue-600 transition-colors\"\n                    >\n                      {showPassword ? <EyeOff size={18} /> : <Eye size={18} />}\n                    </button>\n                  </div>\n                </FormControl>\n                <FormMessage />\n              </FormItem>\n            )}\n          />\n\n          <div className=\"flex items-center justify-between\">\n            <label className=\"flex items-center\">\n              <input type=\"checkbox\" className=\"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500\" />\n              <span className=\"ml-2 text-sm text-gray-600\">Remember this device</span>\n            </label>\n            <button\n              type=\"button\"\n              onClick={onSwitchToForgotPassword}\n              className=\"text-sm text-blue-600 hover:text-purple-600 transition-colors\"\n            >\n              Forgot Password?\n            </button>\n          </div>\n\n          <Button\n            type=\"submit\"\n            className=\"w-full\"\n            disabled={loginMutation.isPending}\n          >\n            {loginMutation.isPending ? \"Signing In...\" : \"Login to Portal\"}\n            <ArrowRight className=\"ml-2\" size={16} />\n          </Button>\n        </form>\n      </Form>\n\n      {/* Social Login */}\n      <div className=\"mt-6\">\n        <div className=\"relative\">\n          <div className=\"absolute inset-0 flex items-center\">\n            <div className=\"w-full border-t border-gray-200\"></div>\n          </div>\n          <div className=\"relative flex justify-center text-sm\">\n            <span className=\"px-2 bg-white text-gray-500\">Or sign in with</span>\n          </div>\n        </div>\n\n        <div className=\"mt-4 grid grid-cols-3 gap-3\">\n          <Button variant=\"outline\" className=\"w-full\" onClick={() => toast({ title: \"Coming Soon\", description: \"Google login will be available soon\" })}>\n            <svg className=\"w-4 h-4 text-red-500\" viewBox=\"0 0 24 24\">\n              <path fill=\"currentColor\" d=\"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z\"/>\n              <path fill=\"currentColor\" d=\"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z\"/>\n              <path fill=\"currentColor\" d=\"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z\"/>\n              <path fill=\"currentColor\" d=\"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z\"/>\n            </svg>\n          </Button>\n          <Button variant=\"outline\" className=\"w-full\" onClick={() => toast({ title: \"Coming Soon\", description: \"Facebook login will be available soon\" })}>\n            <svg className=\"w-4 h-4 text-blue-600\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path d=\"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z\"/>\n            </svg>\n          </Button>\n          <Button variant=\"outline\" className=\"w-full\" onClick={() => toast({ title: \"Coming Soon\", description: \"Microsoft login will be available soon\" })}>\n            <svg className=\"w-4 h-4 text-blue-500\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path d=\"M11.4 24H0V12.6h11.4V24zM24 24H12.6V12.6H24V24zM11.4 11.4H0V0h11.4v11.4zM24 11.4H12.6V0H24v11.4z\"/>\n            </svg>\n          </Button>\n        </div>\n      </div>\n\n      {/* Register Link */}\n      <div className=\"mt-6 text-center\">\n        <span className=\"text-gray-600\">New student? </span>\n        <button\n          onClick={onSwitchToSignup}\n          className=\"text-blue-600 hover:text-purple-600 font-semibold transition-colors\"\n        >\n          Activate Your Account\n        </button>\n      </div>\n\n      {/* Security Notice */}\n      <div className=\"mt-6 p-4 bg-green-50 border border-green-200 rounded-lg\">\n        <div className=\"flex items-start\">\n          <svg className=\"w-5 h-5 text-green-600 mr-2 mt-0.5\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n            <path fillRule=\"evenodd\" d=\"M2.166 4.999A11.954 11.954 0 0010 1.944 11.954 11.954 0 0017.834 5c.11.65.166 1.32.166 2.001 0 5.225-3.34 9.67-8 11.317C5.34 16.67 2 12.225 2 7c0-.682.057-1.35.166-2.001zm11.541 3.708a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z\" clipRule=\"evenodd\" />\n          </svg>\n          <p className=\"text-sm text-green-600\">\n            Your credentials are securely encrypted and never shared with third parties.\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n}\n","path":null,"size_bytes":9284,"size_tokens":null},"client/src/components/dashboard/pages/SubjectResources.tsx":{"content":"export function SubjectResources({ user }: { user: any }) {\n  return (\n    <div>\n      <h2 className=\"text-2xl font-bold\">Subject Resources</h2>\n      <p>Resource library coming soon...</p>\n    </div>\n  );\n}","path":null,"size_bytes":207,"size_tokens":null},"client/src/components/ui/menubar.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as MenubarPrimitive from \"@radix-ui/react-menubar\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction MenubarMenu({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Menu>) {\n  return <MenubarPrimitive.Menu {...props} />\n}\n\nfunction MenubarGroup({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Group>) {\n  return <MenubarPrimitive.Group {...props} />\n}\n\nfunction MenubarPortal({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Portal>) {\n  return <MenubarPrimitive.Portal {...props} />\n}\n\nfunction MenubarRadioGroup({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.RadioGroup>) {\n  return <MenubarPrimitive.RadioGroup {...props} />\n}\n\nfunction MenubarSub({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Sub>) {\n  return <MenubarPrimitive.Sub data-slot=\"menubar-sub\" {...props} />\n}\n\nconst Menubar = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"flex h-10 items-center space-x-1 rounded-md border bg-background p-1\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubar.displayName = MenubarPrimitive.Root.displayName\n\nconst MenubarTrigger = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Trigger>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-3 py-1.5 text-sm font-medium outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarTrigger.displayName = MenubarPrimitive.Trigger.displayName\n\nconst MenubarSubTrigger = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <MenubarPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto h-4 w-4\" />\n  </MenubarPrimitive.SubTrigger>\n))\nMenubarSubTrigger.displayName = MenubarPrimitive.SubTrigger.displayName\n\nconst MenubarSubContent = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-menubar-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarSubContent.displayName = MenubarPrimitive.SubContent.displayName\n\nconst MenubarContent = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Content>\n>(\n  (\n    { className, align = \"start\", alignOffset = -4, sideOffset = 8, ...props },\n    ref\n  ) => (\n    <MenubarPrimitive.Portal>\n      <MenubarPrimitive.Content\n        ref={ref}\n        align={align}\n        alignOffset={alignOffset}\n        sideOffset={sideOffset}\n        className={cn(\n          \"z-50 min-w-[12rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-menubar-content-transform-origin]\",\n          className\n        )}\n        {...props}\n      />\n    </MenubarPrimitive.Portal>\n  )\n)\nMenubarContent.displayName = MenubarPrimitive.Content.displayName\n\nconst MenubarItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <MenubarPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarItem.displayName = MenubarPrimitive.Item.displayName\n\nconst MenubarCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <MenubarPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <MenubarPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </MenubarPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </MenubarPrimitive.CheckboxItem>\n))\nMenubarCheckboxItem.displayName = MenubarPrimitive.CheckboxItem.displayName\n\nconst MenubarRadioItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <MenubarPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <MenubarPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </MenubarPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </MenubarPrimitive.RadioItem>\n))\nMenubarRadioItem.displayName = MenubarPrimitive.RadioItem.displayName\n\nconst MenubarLabel = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <MenubarPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarLabel.displayName = MenubarPrimitive.Label.displayName\n\nconst MenubarSeparator = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nMenubarSeparator.displayName = MenubarPrimitive.Separator.displayName\n\nconst MenubarShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nMenubarShortcut.displayname = \"MenubarShortcut\"\n\nexport {\n  Menubar,\n  MenubarMenu,\n  MenubarTrigger,\n  MenubarContent,\n  MenubarItem,\n  MenubarSeparator,\n  MenubarLabel,\n  MenubarCheckboxItem,\n  MenubarRadioGroup,\n  MenubarRadioItem,\n  MenubarPortal,\n  MenubarSubContent,\n  MenubarSubTrigger,\n  MenubarGroup,\n  MenubarSub,\n  MenubarShortcut,\n}\n","path":null,"size_bytes":8605,"size_tokens":null},"client/src/components/dashboard/pages/Announcements.tsx":{"content":"import { useState } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { zodResolver } from \"@hookform/resolvers/zod\";\nimport { useMutation, useQueryClient } from \"@tanstack/react-query\";\nimport { z } from \"zod\";\nimport { Megaphone, Send, Pin, Clock, AlertCircle } from \"lucide-react\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Form, FormControl, FormField, FormItem, FormLabel, FormMessage } from \"@/components/ui/form\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { Input } from \"@/components/ui/input\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Alert, AlertDescription } from \"@/components/ui/alert\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { apiRequest } from \"@/lib/queryClient\";\n\nconst announcementSchema = z.object({\n  title: z.string().min(1, \"Title is required\"),\n  content: z.string().min(1, \"Content is required\"),\n});\n\ntype AnnouncementData = z.infer<typeof announcementSchema>;\n\nexport function Announcements({ user }: { user: any }) {\n  const [showNewAnnouncement, setShowNewAnnouncement] = useState(false);\n  const { toast } = useToast();\n  const queryClient = useQueryClient();\n\n  const form = useForm<AnnouncementData>({\n    resolver: zodResolver(announcementSchema),\n    defaultValues: {\n      title: \"\",\n      content: \"\",\n    },\n  });\n\n  const announcementMutation = useMutation({\n    mutationFn: async (data: AnnouncementData) => {\n      const response = await apiRequest(\"POST\", \"/api/announcements\", data);\n      return response.json();\n    },\n    onSuccess: () => {\n      toast({\n        title: \"Announcement Submitted\",\n        description: \"Your announcement has been submitted for admin approval.\",\n      });\n      form.reset();\n      setShowNewAnnouncement(false);\n      queryClient.invalidateQueries({ queryKey: [\"/api/announcements\"] });\n    },\n    onError: (error: Error) => {\n      toast({\n        title: \"Submission Failed\",\n        description: error.message,\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  const onSubmit = (data: AnnouncementData) => {\n    announcementMutation.mutate(data);\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h1 className=\"text-3xl font-bold text-gray-900 dark:text-white\">Announcements</h1>\n          <p className=\"text-gray-500 dark:text-gray-400 mt-2\">\n            Stay updated with important VU portal announcements\n          </p>\n        </div>\n        <Button onClick={() => setShowNewAnnouncement(!showNewAnnouncement)}>\n          <Megaphone className=\"mr-2\" size={16} />\n          New Announcement\n        </Button>\n      </div>\n\n      <Alert>\n        <AlertCircle className=\"h-4 w-4\" />\n        <AlertDescription>\n          Students can submit announcements for community events or important information. \n          All announcements require admin approval before being published.\n        </AlertDescription>\n      </Alert>\n\n      {/* New Announcement Form */}\n      {showNewAnnouncement && (\n        <Card>\n          <CardHeader>\n            <CardTitle className=\"flex items-center\">\n              <Megaphone className=\"mr-2\" size={24} />\n              Submit New Announcement\n            </CardTitle>\n            <CardDescription>\n              Share important information with the VU community\n            </CardDescription>\n          </CardHeader>\n          <CardContent>\n            <Form {...form}>\n              <form onSubmit={form.handleSubmit(onSubmit)} className=\"space-y-6\">\n                <FormField\n                  control={form.control}\n                  name=\"title\"\n                  render={({ field }) => (\n                    <FormItem>\n                      <FormLabel>Announcement Title</FormLabel>\n                      <FormControl>\n                        <Input\n                          placeholder=\"e.g., Study Group Formation for CS201\"\n                          {...field}\n                        />\n                      </FormControl>\n                      <FormMessage />\n                    </FormItem>\n                  )}\n                />\n\n                <FormField\n                  control={form.control}\n                  name=\"content\"\n                  render={({ field }) => (\n                    <FormItem>\n                      <FormLabel>Announcement Content</FormLabel>\n                      <FormControl>\n                        <Textarea\n                          placeholder=\"Provide detailed information about your announcement...\"\n                          className=\"min-h-[200px]\"\n                          {...field}\n                        />\n                      </FormControl>\n                      <FormMessage />\n                    </FormItem>\n                  )}\n                />\n\n                <div className=\"flex justify-end gap-2\">\n                  <Button \n                    type=\"button\" \n                    variant=\"outline\"\n                    onClick={() => setShowNewAnnouncement(false)}\n                  >\n                    Cancel\n                  </Button>\n                  <Button\n                    type=\"submit\"\n                    disabled={announcementMutation.isPending}\n                    className=\"flex items-center\"\n                  >\n                    {announcementMutation.isPending ? (\n                      \"Submitting...\"\n                    ) : (\n                      <>\n                        <Send className=\"mr-2\" size={16} />\n                        Submit for Approval\n                      </>\n                    )}\n                  </Button>\n                </div>\n              </form>\n            </Form>\n          </CardContent>\n        </Card>\n      )}\n\n      {/* Pinned Announcements */}\n      <div className=\"space-y-4\">\n        <div className=\"flex items-center\">\n          <Pin className=\"mr-2\" size={20} />\n          <h2 className=\"text-xl font-semibold\">Pinned Announcements</h2>\n        </div>\n        \n        <Card className=\"border-l-4 border-l-blue-500\">\n          <CardHeader className=\"pb-3\">\n            <div className=\"flex items-center justify-between\">\n              <CardTitle className=\"text-lg\">Welcome to VU Student Portal</CardTitle>\n              <div className=\"flex items-center space-x-2\">\n                <Badge variant=\"secondary\">\n                  <Pin className=\"mr-1\" size={12} />\n                  Pinned\n                </Badge>\n                <Badge variant=\"outline\">Admin</Badge>\n              </div>\n            </div>\n            <div className=\"flex items-center text-sm text-gray-500\">\n              <Clock className=\"mr-1\" size={14} />\n              Posted 1 day ago\n            </div>\n          </CardHeader>\n          <CardContent>\n            <p className=\"text-gray-700 dark:text-gray-300\">\n              Welcome to the VU Student Portal! This platform is designed to help VU students collaborate, \n              share resources, and support each other in their academic journey. Please follow community \n              guidelines and help maintain a positive learning environment.\n            </p>\n          </CardContent>\n        </Card>\n      </div>\n\n      {/* Recent Announcements */}\n      <div className=\"space-y-4\">\n        <h2 className=\"text-xl font-semibold\">Recent Announcements</h2>\n        \n        <Card>\n          <CardContent className=\"text-center py-12\">\n            <Megaphone className=\"mx-auto h-16 w-16 text-gray-400 mb-4\" />\n            <h3 className=\"text-lg font-semibold text-gray-900 dark:text-white mb-2\">\n              No Recent Announcements\n            </h3>\n            <p className=\"text-gray-500 mb-4\">\n              Check back later for community announcements and updates\n            </p>\n            <Button onClick={() => setShowNewAnnouncement(true)}>\n              Create First Announcement\n            </Button>\n          </CardContent>\n        </Card>\n      </div>\n\n      {/* Announcement Categories */}\n      <Card>\n        <CardHeader>\n          <CardTitle>Announcement Categories</CardTitle>\n          <CardDescription>\n            Different types of announcements you might see\n          </CardDescription>\n        </CardHeader>\n        <CardContent>\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\n            <div className=\"text-center p-4 border rounded-lg\">\n              <div className=\"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-2\">\n                ðŸ“š\n              </div>\n              <h3 className=\"font-semibold\">Academic</h3>\n              <p className=\"text-sm text-gray-500\">Course updates and academic information</p>\n            </div>\n            <div className=\"text-center p-4 border rounded-lg\">\n              <div className=\"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-2\">\n                ðŸŽ¯\n              </div>\n              <h3 className=\"font-semibold\">Events</h3>\n              <p className=\"text-sm text-gray-500\">Study groups and community events</p>\n            </div>\n            <div className=\"text-center p-4 border rounded-lg\">\n              <div className=\"w-12 h-12 bg-yellow-100 rounded-full flex items-center justify-center mx-auto mb-2\">\n                âš ï¸\n              </div>\n              <h3 className=\"font-semibold\">Important</h3>\n              <p className=\"text-sm text-gray-500\">Critical updates and deadlines</p>\n            </div>\n            <div className=\"text-center p-4 border rounded-lg\">\n              <div className=\"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-2\">\n                ðŸ’¡\n              </div>\n              <h3 className=\"font-semibold\">Tips</h3>\n              <p className=\"text-sm text-gray-500\">Study tips and helpful resources</p>\n            </div>\n          </div>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}","path":null,"size_bytes":10009,"size_tokens":null},"client/src/components/ui/collapsible.tsx":{"content":"\"use client\"\n\nimport * as CollapsiblePrimitive from \"@radix-ui/react-collapsible\"\n\nconst Collapsible = CollapsiblePrimitive.Root\n\nconst CollapsibleTrigger = CollapsiblePrimitive.CollapsibleTrigger\n\nconst CollapsibleContent = CollapsiblePrimitive.CollapsibleContent\n\nexport { Collapsible, CollapsibleTrigger, CollapsibleContent }\n","path":null,"size_bytes":329,"size_tokens":null},"server/vite.ts":{"content":"import express, { type Express } from \"express\";\nimport fs from \"fs\";\nimport path from \"path\";\nimport { createServer as createViteServer, createLogger } from \"vite\";\nimport { type Server } from \"http\";\nimport viteConfig from \"../vite.config\";\nimport { nanoid } from \"nanoid\";\n\nconst viteLogger = createLogger();\n\nexport function log(message: string, source = \"express\") {\n  const formattedTime = new Date().toLocaleTimeString(\"en-US\", {\n    hour: \"numeric\",\n    minute: \"2-digit\",\n    second: \"2-digit\",\n    hour12: true,\n  });\n\n  console.log(`${formattedTime} [${source}] ${message}`);\n}\n\nexport async function setupVite(app: Express, server: Server) {\n  const serverOptions = {\n    middlewareMode: true,\n    hmr: { server },\n    allowedHosts: true as const,\n  };\n\n  const vite = await createViteServer({\n    ...viteConfig,\n    configFile: false,\n    customLogger: {\n      ...viteLogger,\n      error: (msg, options) => {\n        viteLogger.error(msg, options);\n        process.exit(1);\n      },\n    },\n    server: serverOptions,\n    appType: \"custom\",\n  });\n\n  app.use(vite.middlewares);\n  app.use(\"*\", async (req, res, next) => {\n    const url = req.originalUrl;\n\n    try {\n      const clientTemplate = path.resolve(\n        import.meta.dirname,\n        \"..\",\n        \"client\",\n        \"index.html\",\n      );\n\n      // always reload the index.html file from disk incase it changes\n      let template = await fs.promises.readFile(clientTemplate, \"utf-8\");\n      template = template.replace(\n        `src=\"/src/main.tsx\"`,\n        `src=\"/src/main.tsx?v=${nanoid()}\"`,\n      );\n      const page = await vite.transformIndexHtml(url, template);\n      res.status(200).set({ \"Content-Type\": \"text/html\" }).end(page);\n    } catch (e) {\n      vite.ssrFixStacktrace(e as Error);\n      next(e);\n    }\n  });\n}\n\nexport function serveStatic(app: Express) {\n  const distPath = path.resolve(import.meta.dirname, \"public\");\n\n  if (!fs.existsSync(distPath)) {\n    throw new Error(\n      `Could not find the build directory: ${distPath}, make sure to build the client first`,\n    );\n  }\n\n  app.use(express.static(distPath));\n\n  // fall through to index.html if the file doesn't exist\n  app.use(\"*\", (_req, res) => {\n    res.sendFile(path.resolve(distPath, \"index.html\"));\n  });\n}\n","path":null,"size_bytes":2263,"size_tokens":null},"client/src/components/dashboard/pages/Discussions.tsx":{"content":"import { useState } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { zodResolver } from \"@hookform/resolvers/zod\";\nimport { useMutation, useQueryClient } from \"@tanstack/react-query\";\nimport { z } from \"zod\";\nimport { MessageSquare, Send, ThumbsUp, Users, Plus } from \"lucide-react\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Form, FormControl, FormField, FormItem, FormLabel, FormMessage } from \"@/components/ui/form\";\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { Input } from \"@/components/ui/input\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Avatar, AvatarFallback, AvatarImage } from \"@/components/ui/avatar\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { apiRequest } from \"@/lib/queryClient\";\n\nconst discussionSchema = z.object({\n  subject: z.string().optional(),\n  content: z.string().min(1, \"Discussion content is required\"),\n});\n\ntype DiscussionData = z.infer<typeof discussionSchema>;\n\nexport function Discussions({ user }: { user: any }) {\n  const [showNewDiscussion, setShowNewDiscussion] = useState(false);\n  const { toast } = useToast();\n  const queryClient = useQueryClient();\n\n  const form = useForm<DiscussionData>({\n    resolver: zodResolver(discussionSchema),\n    defaultValues: {\n      subject: \"\",\n      content: \"\",\n    },\n  });\n\n  const discussionMutation = useMutation({\n    mutationFn: async (data: DiscussionData) => {\n      const response = await apiRequest(\"POST\", \"/api/discussions\", data);\n      return response.json();\n    },\n    onSuccess: () => {\n      toast({\n        title: \"Discussion Posted\",\n        description: \"Your discussion has been posted successfully.\",\n      });\n      form.reset();\n      setShowNewDiscussion(false);\n      queryClient.invalidateQueries({ queryKey: [\"/api/discussions\"] });\n    },\n    onError: (error: Error) => {\n      toast({\n        title: \"Post Failed\",\n        description: error.message,\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  const onSubmit = (data: DiscussionData) => {\n    discussionMutation.mutate(data);\n  };\n\n  const subjects = user?.subjects || [];\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h1 className=\"text-3xl font-bold text-gray-900 dark:text-white\">Public Discussions</h1>\n          <p className=\"text-gray-500 dark:text-gray-400 mt-2\">\n            Ask questions and share knowledge with fellow VU students\n          </p>\n        </div>\n        <Button onClick={() => setShowNewDiscussion(!showNewDiscussion)}>\n          <Plus className=\"mr-2\" size={16} />\n          New Discussion\n        </Button>\n      </div>\n\n      {/* New Discussion Form */}\n      {showNewDiscussion && (\n        <Card>\n          <CardHeader>\n            <CardTitle className=\"flex items-center\">\n              <MessageSquare className=\"mr-2\" size={24} />\n              Start New Discussion\n            </CardTitle>\n            <CardDescription>\n              Share your questions or start a discussion on any VU topic\n            </CardDescription>\n          </CardHeader>\n          <CardContent>\n            <Form {...form}>\n              <form onSubmit={form.handleSubmit(onSubmit)} className=\"space-y-6\">\n                <FormField\n                  control={form.control}\n                  name=\"subject\"\n                  render={({ field }) => (\n                    <FormItem>\n                      <FormLabel>Subject (Optional)</FormLabel>\n                      <FormControl>\n                        <Select onValueChange={field.onChange} defaultValue={field.value}>\n                          <SelectTrigger>\n                            <SelectValue placeholder=\"Select subject or leave general\" />\n                          </SelectTrigger>\n                          <SelectContent>\n                            <SelectItem value=\"\">General Discussion</SelectItem>\n                            {subjects.map((subject: string) => (\n                              <SelectItem key={subject} value={subject}>\n                                {subject}\n                              </SelectItem>\n                            ))}\n                          </SelectContent>\n                        </Select>\n                      </FormControl>\n                      <FormMessage />\n                    </FormItem>\n                  )}\n                />\n\n                <FormField\n                  control={form.control}\n                  name=\"content\"\n                  render={({ field }) => (\n                    <FormItem>\n                      <FormLabel>Discussion Content</FormLabel>\n                      <FormControl>\n                        <Textarea\n                          placeholder=\"Share your question, experience, or start a discussion...\"\n                          className=\"min-h-[150px]\"\n                          {...field}\n                        />\n                      </FormControl>\n                      <FormMessage />\n                    </FormItem>\n                  )}\n                />\n\n                <div className=\"flex justify-end gap-2\">\n                  <Button \n                    type=\"button\" \n                    variant=\"outline\"\n                    onClick={() => setShowNewDiscussion(false)}\n                  >\n                    Cancel\n                  </Button>\n                  <Button\n                    type=\"submit\"\n                    disabled={discussionMutation.isPending}\n                    className=\"flex items-center\"\n                  >\n                    {discussionMutation.isPending ? (\n                      \"Posting...\"\n                    ) : (\n                      <>\n                        <Send className=\"mr-2\" size={16} />\n                        Post Discussion\n                      </>\n                    )}\n                  </Button>\n                </div>\n              </form>\n            </Form>\n          </CardContent>\n        </Card>\n      )}\n\n      {/* Discussion Feed */}\n      <div className=\"space-y-4\">\n        <h2 className=\"text-xl font-semibold\">Recent Discussions</h2>\n        \n        {/* Sample Discussion Card */}\n        <Card>\n          <CardContent className=\"p-6\">\n            <div className=\"flex items-start space-x-4\">\n              <Avatar className=\"h-10 w-10\">\n                <AvatarImage src=\"\" />\n                <AvatarFallback className=\"bg-blue-100 text-blue-600\">\n                  {user?.fullName?.charAt(0) || 'U'}\n                </AvatarFallback>\n              </Avatar>\n              <div className=\"flex-1\">\n                <div className=\"flex items-center space-x-2 mb-2\">\n                  <span className=\"font-semibold\">{user?.fullName || 'VU Student'}</span>\n                  <Badge variant=\"outline\" className=\"text-xs\">\n                    {user?.email?.replace(/\\d+/g, '***') || 'student@vu.edu.pk'}\n                  </Badge>\n                  <Badge variant=\"secondary\" className=\"text-xs\">CS201</Badge>\n                  <span className=\"text-sm text-gray-500\">2 hours ago</span>\n                </div>\n                <div className=\"text-gray-700 dark:text-gray-300 mb-3\">\n                  <p>Need help understanding pointers in C++. Can someone explain the difference between pass by value and pass by reference with examples?</p>\n                </div>\n                <div className=\"flex items-center space-x-4 text-sm text-gray-500\">\n                  <Button variant=\"ghost\" size=\"sm\" className=\"p-0 h-auto\">\n                    <ThumbsUp className=\"mr-1\" size={14} />\n                    5 likes\n                  </Button>\n                  <Button variant=\"ghost\" size=\"sm\" className=\"p-0 h-auto\">\n                    <MessageSquare className=\"mr-1\" size={14} />\n                    3 replies\n                  </Button>\n                  <Button variant=\"ghost\" size=\"sm\" className=\"p-0 h-auto text-blue-600\">\n                    Reply\n                  </Button>\n                </div>\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n\n        {/* Empty State */}\n        <Card>\n          <CardContent className=\"text-center py-12\">\n            <MessageSquare className=\"mx-auto h-16 w-16 text-gray-400 mb-4\" />\n            <h3 className=\"text-lg font-semibold text-gray-900 dark:text-white mb-2\">\n              No Discussions Yet\n            </h3>\n            <p className=\"text-gray-500 mb-4\">\n              Be the first to start a discussion and help build our community!\n            </p>\n            <Button onClick={() => setShowNewDiscussion(true)}>\n              Start First Discussion\n            </Button>\n          </CardContent>\n        </Card>\n      </div>\n\n      {/* Discussion Stats */}\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n        <Card>\n          <CardContent className=\"p-4\">\n            <div className=\"flex items-center\">\n              <MessageSquare className=\"h-8 w-8 text-blue-600\" />\n              <div className=\"ml-3\">\n                <p className=\"text-sm text-gray-500\">Total Discussions</p>\n                <p className=\"text-lg font-semibold\">1</p>\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n        \n        <Card>\n          <CardContent className=\"p-4\">\n            <div className=\"flex items-center\">\n              <ThumbsUp className=\"h-8 w-8 text-green-600\" />\n              <div className=\"ml-3\">\n                <p className=\"text-sm text-gray-500\">Total Likes</p>\n                <p className=\"text-lg font-semibold\">5</p>\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n\n        <Card>\n          <CardContent className=\"p-4\">\n            <div className=\"flex items-center\">\n              <Users className=\"h-8 w-8 text-purple-600\" />\n              <div className=\"ml-3\">\n                <p className=\"text-sm text-gray-500\">Active Members</p>\n                <p className=\"text-lg font-semibold\">1</p>\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n    </div>\n  );\n}","path":null,"size_bytes":10276,"size_tokens":null},"client/src/components/ui/pagination.tsx":{"content":"import * as React from \"react\"\nimport { ChevronLeft, ChevronRight, MoreHorizontal } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { ButtonProps, buttonVariants } from \"@/components/ui/button\"\n\nconst Pagination = ({ className, ...props }: React.ComponentProps<\"nav\">) => (\n  <nav\n    role=\"navigation\"\n    aria-label=\"pagination\"\n    className={cn(\"mx-auto flex w-full justify-center\", className)}\n    {...props}\n  />\n)\nPagination.displayName = \"Pagination\"\n\nconst PaginationContent = React.forwardRef<\n  HTMLUListElement,\n  React.ComponentProps<\"ul\">\n>(({ className, ...props }, ref) => (\n  <ul\n    ref={ref}\n    className={cn(\"flex flex-row items-center gap-1\", className)}\n    {...props}\n  />\n))\nPaginationContent.displayName = \"PaginationContent\"\n\nconst PaginationItem = React.forwardRef<\n  HTMLLIElement,\n  React.ComponentProps<\"li\">\n>(({ className, ...props }, ref) => (\n  <li ref={ref} className={cn(\"\", className)} {...props} />\n))\nPaginationItem.displayName = \"PaginationItem\"\n\ntype PaginationLinkProps = {\n  isActive?: boolean\n} & Pick<ButtonProps, \"size\"> &\n  React.ComponentProps<\"a\">\n\nconst PaginationLink = ({\n  className,\n  isActive,\n  size = \"icon\",\n  ...props\n}: PaginationLinkProps) => (\n  <a\n    aria-current={isActive ? \"page\" : undefined}\n    className={cn(\n      buttonVariants({\n        variant: isActive ? \"outline\" : \"ghost\",\n        size,\n      }),\n      className\n    )}\n    {...props}\n  />\n)\nPaginationLink.displayName = \"PaginationLink\"\n\nconst PaginationPrevious = ({\n  className,\n  ...props\n}: React.ComponentProps<typeof PaginationLink>) => (\n  <PaginationLink\n    aria-label=\"Go to previous page\"\n    size=\"default\"\n    className={cn(\"gap-1 pl-2.5\", className)}\n    {...props}\n  >\n    <ChevronLeft className=\"h-4 w-4\" />\n    <span>Previous</span>\n  </PaginationLink>\n)\nPaginationPrevious.displayName = \"PaginationPrevious\"\n\nconst PaginationNext = ({\n  className,\n  ...props\n}: React.ComponentProps<typeof PaginationLink>) => (\n  <PaginationLink\n    aria-label=\"Go to next page\"\n    size=\"default\"\n    className={cn(\"gap-1 pr-2.5\", className)}\n    {...props}\n  >\n    <span>Next</span>\n    <ChevronRight className=\"h-4 w-4\" />\n  </PaginationLink>\n)\nPaginationNext.displayName = \"PaginationNext\"\n\nconst PaginationEllipsis = ({\n  className,\n  ...props\n}: React.ComponentProps<\"span\">) => (\n  <span\n    aria-hidden\n    className={cn(\"flex h-9 w-9 items-center justify-center\", className)}\n    {...props}\n  >\n    <MoreHorizontal className=\"h-4 w-4\" />\n    <span className=\"sr-only\">More pages</span>\n  </span>\n)\nPaginationEllipsis.displayName = \"PaginationEllipsis\"\n\nexport {\n  Pagination,\n  PaginationContent,\n  PaginationEllipsis,\n  PaginationItem,\n  PaginationLink,\n  PaginationNext,\n  PaginationPrevious,\n}\n","path":null,"size_bytes":2751,"size_tokens":null},"client/src/components/dashboard/pages/AboutUs.tsx":{"content":"export function AboutUs() {\n  return (\n    <div>\n      <h2 className=\"text-2xl font-bold\">About Us / Our Process</h2>\n      <p>About page coming soon...</p>\n    </div>\n  );\n}","path":null,"size_bytes":174,"size_tokens":null},"client/src/components/dashboard/pages/AIChat.tsx":{"content":"import { useState } from \"react\";\nimport { Bot, Send, User, Sparkles, BookOpen } from \"lucide-react\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Avatar, AvatarFallback, AvatarImage } from \"@/components/ui/avatar\";\nimport { ScrollArea } from \"@/components/ui/scroll-area\";\n\ninterface ChatMessage {\n  id: string;\n  role: 'user' | 'assistant';\n  content: string;\n  timestamp: Date;\n}\n\nexport function AIChat({ user }: { user: any }) {\n  const [messages, setMessages] = useState<ChatMessage[]>([\n    {\n      id: '1',\n      role: 'assistant',\n      content: 'Hello! I\\'m your VU AI assistant. I can help you with questions about your courses, study tips, VU policies, and academic guidance. What would you like to know?',\n      timestamp: new Date()\n    }\n  ]);\n  const [inputMessage, setInputMessage] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n\n  const handleSendMessage = async () => {\n    if (!inputMessage.trim()) return;\n\n    const newMessage: ChatMessage = {\n      id: Date.now().toString(),\n      role: 'user',\n      content: inputMessage,\n      timestamp: new Date()\n    };\n\n    setMessages(prev => [...prev, newMessage]);\n    setInputMessage('');\n    setIsLoading(true);\n\n    // Simulate AI response\n    setTimeout(() => {\n      const aiResponse: ChatMessage = {\n        id: (Date.now() + 1).toString(),\n        role: 'assistant',\n        content: getAIResponse(inputMessage),\n        timestamp: new Date()\n      };\n      setMessages(prev => [...prev, aiResponse]);\n      setIsLoading(false);\n    }, 1500);\n  };\n\n  const getAIResponse = (message: string): string => {\n    const lowerMessage = message.toLowerCase();\n    \n    if (lowerMessage.includes('assignment') || lowerMessage.includes('homework')) {\n      return 'For assignments, I recommend:\\n\\n1. Read the requirements carefully\\n2. Break down the task into smaller parts\\n3. Start early to avoid last-minute stress\\n4. Use VU library resources\\n5. Ask your course instructor if you need clarification\\n\\nWould you like specific help with any particular assignment?';\n    }\n    \n    if (lowerMessage.includes('exam') || lowerMessage.includes('test')) {\n      return 'Here are some effective exam preparation strategies:\\n\\nðŸ“š Create a study schedule\\nðŸ“ Practice past papers\\nðŸŽ¯ Focus on key concepts\\nðŸ‘¥ Form study groups\\nðŸ’¤ Get adequate sleep\\n\\nWhich subject are you preparing for? I can provide more specific guidance.';\n    }\n    \n    if (lowerMessage.includes('gdb') || lowerMessage.includes('discussion board')) {\n      return 'For GDB (Graded Discussion Board) success:\\n\\nâœ… Participate early and regularly\\nâœ… Provide thoughtful, detailed responses\\nâœ… Support your points with examples\\nâœ… Engage respectfully with classmates\\nâœ… Follow the discussion guidelines\\n\\nNeed help with a specific GDB topic?';\n    }\n    \n    if (lowerMessage.includes('programming') || lowerMessage.includes('code')) {\n      return 'Programming tips for VU students:\\n\\nðŸ’» Practice coding daily\\nðŸ“– Read course materials thoroughly\\nðŸ” Debug systematically\\nðŸ“š Use online resources like VU\\'s LMS\\nðŸ‘¥ Join programming study groups\\n\\nWhat programming language or concept do you need help with?';\n    }\n    \n    return 'I understand you\\'re asking about VU-related topics. As your AI assistant, I can help with:\\n\\nðŸ“š Study strategies and tips\\nðŸ“ Assignment guidance\\nðŸŽ¯ Exam preparation\\nðŸ’¬ GDB participation\\nðŸ“– Course-specific questions\\nðŸŽ“ Academic planning\\n\\nCould you please be more specific about what you\\'d like help with?';\n  };\n\n  const suggestedQuestions = [\n    \"How do I prepare for midterm exams?\",\n    \"What are some effective study techniques?\",\n    \"How should I approach GDB discussions?\",\n    \"Tips for managing multiple assignments?\",\n    \"How to improve programming skills?\"\n  ];\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h1 className=\"text-3xl font-bold text-gray-900 dark:text-white\">AI Q&A Assistant</h1>\n          <p className=\"text-gray-500 dark:text-gray-400 mt-2\">\n            Get instant help with VU topics and academic guidance\n          </p>\n        </div>\n        <Badge variant=\"outline\" className=\"bg-purple-50 text-purple-700\">\n          <Sparkles className=\"mr-1\" size={14} />\n          AI Powered\n        </Badge>\n      </div>\n\n      <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n        {/* Chat Area */}\n        <div className=\"lg:col-span-2\">\n          <Card className=\"h-[600px] flex flex-col\">\n            <CardHeader className=\"pb-3\">\n              <CardTitle className=\"flex items-center\">\n                <Bot className=\"mr-2\" size={24} />\n                VU AI Assistant\n              </CardTitle>\n              <CardDescription>\n                Ask questions about VU courses, study tips, and academic guidance\n              </CardDescription>\n            </CardHeader>\n            \n            <CardContent className=\"flex-1 flex flex-col\">\n              <ScrollArea className=\"flex-1 pr-4 mb-4\">\n                <div className=\"space-y-4\">\n                  {messages.map((message) => (\n                    <div\n                      key={message.id}\n                      className={`flex items-start space-x-3 ${\n                        message.role === 'user' ? 'flex-row-reverse space-x-reverse' : ''\n                      }`}\n                    >\n                      <Avatar className=\"h-8 w-8\">\n                        {message.role === 'user' ? (\n                          <AvatarFallback className=\"bg-blue-100 text-blue-600\">\n                            <User size={16} />\n                          </AvatarFallback>\n                        ) : (\n                          <AvatarFallback className=\"bg-purple-100 text-purple-600\">\n                            <Bot size={16} />\n                          </AvatarFallback>\n                        )}\n                      </Avatar>\n                      \n                      <div className={`flex-1 ${message.role === 'user' ? 'text-right' : ''}`}>\n                        <div\n                          className={`inline-block p-3 rounded-lg max-w-[80%] ${\n                            message.role === 'user'\n                              ? 'bg-blue-600 text-white'\n                              : 'bg-gray-100 dark:bg-gray-800 text-gray-900 dark:text-gray-100'\n                          }`}\n                        >\n                          <p className=\"whitespace-pre-wrap\">{message.content}</p>\n                        </div>\n                        <p className=\"text-xs text-gray-500 mt-1\">\n                          {message.timestamp.toLocaleTimeString()}\n                        </p>\n                      </div>\n                    </div>\n                  ))}\n                  \n                  {isLoading && (\n                    <div className=\"flex items-start space-x-3\">\n                      <Avatar className=\"h-8 w-8\">\n                        <AvatarFallback className=\"bg-purple-100 text-purple-600\">\n                          <Bot size={16} />\n                        </AvatarFallback>\n                      </Avatar>\n                      <div className=\"bg-gray-100 dark:bg-gray-800 p-3 rounded-lg\">\n                        <div className=\"flex space-x-1\">\n                          <div className=\"w-2 h-2 bg-gray-400 rounded-full animate-bounce\"></div>\n                          <div className=\"w-2 h-2 bg-gray-400 rounded-full animate-bounce\" style={{ animationDelay: '0.1s' }}></div>\n                          <div className=\"w-2 h-2 bg-gray-400 rounded-full animate-bounce\" style={{ animationDelay: '0.2s' }}></div>\n                        </div>\n                      </div>\n                    </div>\n                  )}\n                </div>\n              </ScrollArea>\n              \n              <div className=\"flex space-x-2\">\n                <Textarea\n                  value={inputMessage}\n                  onChange={(e) => setInputMessage(e.target.value)}\n                  placeholder=\"Ask me anything about VU courses, study tips, or academic guidance...\"\n                  className=\"flex-1 min-h-[50px] max-h-[100px]\"\n                  onKeyDown={(e) => {\n                    if (e.key === 'Enter' && !e.shiftKey) {\n                      e.preventDefault();\n                      handleSendMessage();\n                    }\n                  }}\n                />\n                <Button\n                  onClick={handleSendMessage}\n                  disabled={!inputMessage.trim() || isLoading}\n                  className=\"px-4\"\n                >\n                  <Send size={16} />\n                </Button>\n              </div>\n            </CardContent>\n          </Card>\n        </div>\n\n        {/* Sidebar */}\n        <div className=\"space-y-6\">\n          {/* Suggested Questions */}\n          <Card>\n            <CardHeader>\n              <CardTitle className=\"text-lg\">Suggested Questions</CardTitle>\n              <CardDescription>\n                Click on any question to get started\n              </CardDescription>\n            </CardHeader>\n            <CardContent>\n              <div className=\"space-y-2\">\n                {suggestedQuestions.map((question, index) => (\n                  <Button\n                    key={index}\n                    variant=\"outline\"\n                    className=\"w-full text-left justify-start h-auto p-3 whitespace-normal\"\n                    onClick={() => setInputMessage(question)}\n                  >\n                    {question}\n                  </Button>\n                ))}\n              </div>\n            </CardContent>\n          </Card>\n\n          {/* AI Capabilities */}\n          <Card>\n            <CardHeader>\n              <CardTitle className=\"text-lg\">What I Can Help With</CardTitle>\n            </CardHeader>\n            <CardContent>\n              <div className=\"space-y-3\">\n                <div className=\"flex items-center space-x-2\">\n                  <BookOpen className=\"h-4 w-4 text-blue-600\" />\n                  <span className=\"text-sm\">Study strategies & tips</span>\n                </div>\n                <div className=\"flex items-center space-x-2\">\n                  <BookOpen className=\"h-4 w-4 text-green-600\" />\n                  <span className=\"text-sm\">Assignment guidance</span>\n                </div>\n                <div className=\"flex items-center space-x-2\">\n                  <BookOpen className=\"h-4 w-4 text-purple-600\" />\n                  <span className=\"text-sm\">Exam preparation</span>\n                </div>\n                <div className=\"flex items-center space-x-2\">\n                  <BookOpen className=\"h-4 w-4 text-orange-600\" />\n                  <span className=\"text-sm\">GDB participation</span>\n                </div>\n                <div className=\"flex items-center space-x-2\">\n                  <BookOpen className=\"h-4 w-4 text-red-600\" />\n                  <span className=\"text-sm\">Academic planning</span>\n                </div>\n              </div>\n            </CardContent>\n          </Card>\n\n          {/* Usage Stats */}\n          <Card>\n            <CardHeader>\n              <CardTitle className=\"text-lg\">Your AI Usage</CardTitle>\n            </CardHeader>\n            <CardContent>\n              <div className=\"space-y-2\">\n                <div className=\"flex justify-between\">\n                  <span className=\"text-sm text-gray-600\">Questions Asked</span>\n                  <span className=\"font-semibold\">{messages.filter(m => m.role === 'user').length}</span>\n                </div>\n                <div className=\"flex justify-between\">\n                  <span className=\"text-sm text-gray-600\">Responses Received</span>\n                  <span className=\"font-semibold\">{messages.filter(m => m.role === 'assistant').length}</span>\n                </div>\n              </div>\n            </CardContent>\n          </Card>\n        </div>\n      </div>\n    </div>\n  );\n}","path":null,"size_bytes":12199,"size_tokens":null},"client/src/components/dashboard/pages/ImportantAnnouncements.tsx":{"content":"export function ImportantAnnouncements({ user }: { user: any }) {\n  return (\n    <div>\n      <h2 className=\"text-2xl font-bold\">Important Announcements</h2>\n      <p>Announcements coming soon...</p>\n    </div>\n  );\n}","path":null,"size_bytes":216,"size_tokens":null},"client/src/components/dashboard/pages/About.tsx":{"content":"import { BookOpen, Users, Upload, MessageSquare, Award, Zap, Heart, Target } from \"lucide-react\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Button } from \"@/components/ui/button\";\n\nexport function About({ user }: { user: any }) {\n  const features = [\n    {\n      icon: <Upload className=\"h-6 w-6\" />,\n      title: \"Upload & Share\",\n      description: \"Share handouts, notes, guides, past papers, and solutions with the community\",\n      color: \"bg-blue-500\"\n    },\n    {\n      icon: <MessageSquare className=\"h-6 w-6\" />,\n      title: \"Discussions\",\n      description: \"Ask questions, start discussions, and help fellow students learn\",\n      color: \"bg-green-500\"\n    },\n    {\n      icon: <Award className=\"h-6 w-6\" />,\n      title: \"Earn Badges\",\n      description: \"Get recognized for your contributions with community badges and achievements\",\n      color: \"bg-yellow-500\"\n    },\n    {\n      icon: <Zap className=\"h-6 w-6\" />,\n      title: \"AI Assistant\",\n      description: \"Get instant help with VU topics and academic guidance from our AI bot\",\n      color: \"bg-purple-500\"\n    }\n  ];\n\n  const workflow = [\n    {\n      step: 1,\n      title: \"Sign Up\",\n      description: \"Create your account with VU email verification\"\n    },\n    {\n      step: 2,\n      title: \"Setup Profile\",\n      description: \"Select your degree program and subjects\"\n    },\n    {\n      step: 3,\n      title: \"Explore Dashboard\",\n      description: \"Access all features from the main dashboard\"\n    },\n    {\n      step: 4,\n      title: \"Contribute\",\n      description: \"Upload materials, join discussions, earn badges\"\n    }\n  ];\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"text-center space-y-4\">\n        <h1 className=\"text-4xl font-bold text-gray-900 dark:text-white\">About VU Student Portal</h1>\n        <p className=\"text-xl text-gray-600 dark:text-gray-400 max-w-3xl mx-auto\">\n          A comprehensive platform designed to help Virtual University students collaborate, \n          share resources, and support each other in their academic journey.\n        </p>\n        <Badge variant=\"outline\" className=\"bg-blue-50 text-blue-700 text-lg px-4 py-2\">\n          <Heart className=\"mr-2\" size={16} />\n          Built by VU Students, for VU Students\n        </Badge>\n      </div>\n\n      {/* Mission Statement */}\n      <Card className=\"border-blue-200 bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20\">\n        <CardHeader className=\"text-center\">\n          <CardTitle className=\"text-2xl text-blue-800 dark:text-blue-200\">Our Mission</CardTitle>\n        </CardHeader>\n        <CardContent className=\"text-center\">\n          <p className=\"text-lg text-blue-700 dark:text-blue-300 leading-relaxed\">\n            To create a supportive, collaborative environment where VU students can easily access study materials, \n            share knowledge, get help with assignments, and build meaningful connections with their peers.\n          </p>\n        </CardContent>\n      </Card>\n\n      {/* Key Features */}\n      <div className=\"space-y-4\">\n        <h2 className=\"text-2xl font-semibold text-center\">Key Features</h2>\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\n          {features.map((feature, index) => (\n            <Card key={index} className=\"text-center hover:shadow-lg transition-shadow\">\n              <CardHeader>\n                <div className={`w-16 h-16 ${feature.color} rounded-full flex items-center justify-center mx-auto text-white mb-4`}>\n                  {feature.icon}\n                </div>\n                <CardTitle className=\"text-xl\">{feature.title}</CardTitle>\n              </CardHeader>\n              <CardContent>\n                <p className=\"text-gray-600 dark:text-gray-300\">{feature.description}</p>\n              </CardContent>\n            </Card>\n          ))}\n        </div>\n      </div>\n\n      {/* How It Works */}\n      <Card>\n        <CardHeader className=\"text-center\">\n          <CardTitle className=\"text-2xl\">How It Works</CardTitle>\n          <CardDescription>\n            Simple steps to get started and make the most of VU Student Portal\n          </CardDescription>\n        </CardHeader>\n        <CardContent>\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\n            {workflow.map((item) => (\n              <div key={item.step} className=\"text-center\">\n                <div className=\"w-12 h-12 bg-blue-600 text-white rounded-full flex items-center justify-center mx-auto mb-4 text-lg font-bold\">\n                  {item.step}\n                </div>\n                <h3 className=\"font-semibold text-lg mb-2\">{item.title}</h3>\n                <p className=\"text-gray-600 dark:text-gray-300\">{item.description}</p>\n              </div>\n            ))}\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* What You Can Do */}\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n        <Card>\n          <CardHeader>\n            <CardTitle className=\"flex items-center\">\n              <BookOpen className=\"mr-2\" size={24} />\n              Academic Resources\n            </CardTitle>\n          </CardHeader>\n          <CardContent className=\"space-y-3\">\n            <div className=\"flex items-center space-x-2\">\n              <div className=\"w-2 h-2 bg-blue-600 rounded-full\"></div>\n              <span>Upload and download handouts, notes, and guides</span>\n            </div>\n            <div className=\"flex items-center space-x-2\">\n              <div className=\"w-2 h-2 bg-blue-600 rounded-full\"></div>\n              <span>Access past papers and guess papers</span>\n            </div>\n            <div className=\"flex items-center space-x-2\">\n              <div className=\"w-2 h-2 bg-blue-600 rounded-full\"></div>\n              <span>Share assignment and GDB solutions</span>\n            </div>\n            <div className=\"flex items-center space-x-2\">\n              <div className=\"w-2 h-2 bg-blue-600 rounded-full\"></div>\n              <span>Organize content by subject and type</span>\n            </div>\n          </CardContent>\n        </Card>\n\n        <Card>\n          <CardHeader>\n            <CardTitle className=\"flex items-center\">\n              <Users className=\"mr-2\" size={24} />\n              Community Features\n            </CardTitle>\n          </CardHeader>\n          <CardContent className=\"space-y-3\">\n            <div className=\"flex items-center space-x-2\">\n              <div className=\"w-2 h-2 bg-green-600 rounded-full\"></div>\n              <span>Start and participate in discussions</span>\n            </div>\n            <div className=\"flex items-center space-x-2\">\n              <div className=\"w-2 h-2 bg-green-600 rounded-full\"></div>\n              <span>Get help from AI assistant</span>\n            </div>\n            <div className=\"flex items-center space-x-2\">\n              <div className=\"w-2 h-2 bg-green-600 rounded-full\"></div>\n              <span>Earn badges for contributions</span>\n            </div>\n            <div className=\"flex items-center space-x-2\">\n              <div className=\"w-2 h-2 bg-green-600 rounded-full\"></div>\n              <span>Connect with study groups</span>\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n\n      {/* Guidelines */}\n      <Card className=\"border-amber-200 bg-amber-50 dark:bg-amber-900/20\">\n        <CardHeader>\n          <CardTitle className=\"text-amber-800 dark:text-amber-200 flex items-center\">\n            <Target className=\"mr-2\" size={24} />\n            Community Guidelines\n          </CardTitle>\n        </CardHeader>\n        <CardContent className=\"space-y-3 text-amber-800 dark:text-amber-200\">\n          <p><strong>Be Respectful:</strong> Treat all community members with respect and kindness</p>\n          <p><strong>Share Quality Content:</strong> Upload accurate, helpful, and relevant study materials</p>\n          <p><strong>Help Others:</strong> Answer questions and provide constructive feedback</p>\n          <p><strong>Follow VU Policies:</strong> Respect academic integrity and university guidelines</p>\n          <p><strong>Stay On Topic:</strong> Keep discussions focused on VU academics and studies</p>\n        </CardContent>\n      </Card>\n\n      {/* Admin Approval Process */}\n      <Card>\n        <CardHeader>\n          <CardTitle>Content Approval Process</CardTitle>\n          <CardDescription>\n            Understanding how content moderation works to maintain quality\n          </CardDescription>\n        </CardHeader>\n        <CardContent>\n          <div className=\"space-y-4\">\n            <div className=\"flex items-start space-x-3\">\n              <div className=\"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center mt-1\">\n                <span className=\"text-sm font-bold text-blue-600\">1</span>\n              </div>\n              <div>\n                <h4 className=\"font-semibold\">Submit Content</h4>\n                <p className=\"text-gray-600 dark:text-gray-300\">Upload materials, solutions, or announcements</p>\n              </div>\n            </div>\n            <div className=\"flex items-start space-x-3\">\n              <div className=\"w-8 h-8 bg-yellow-100 rounded-full flex items-center justify-center mt-1\">\n                <span className=\"text-sm font-bold text-yellow-600\">2</span>\n              </div>\n              <div>\n                <h4 className=\"font-semibold\">Admin Review</h4>\n                <p className=\"text-gray-600 dark:text-gray-300\">Admins review content for quality and relevance</p>\n              </div>\n            </div>\n            <div className=\"flex items-start space-x-3\">\n              <div className=\"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center mt-1\">\n                <span className=\"text-sm font-bold text-green-600\">3</span>\n              </div>\n              <div>\n                <h4 className=\"font-semibold\">Publication</h4>\n                <p className=\"text-gray-600 dark:text-gray-300\">Approved content becomes available to all students</p>\n              </div>\n            </div>\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* Contact & Support */}\n      <Card className=\"text-center\">\n        <CardHeader>\n          <CardTitle>Need Help or Have Suggestions?</CardTitle>\n          <CardDescription>\n            We're here to help make your VU experience better\n          </CardDescription>\n        </CardHeader>\n        <CardContent className=\"space-y-4\">\n          <p className=\"text-gray-600 dark:text-gray-300\">\n            This platform is continuously evolving based on student feedback. \n            If you encounter any issues or have ideas for improvement, please let us know!\n          </p>\n          <div className=\"flex justify-center gap-4\">\n            <Button>Join Our Community</Button>\n            <Button variant=\"outline\">Report an Issue</Button>\n          </div>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}","path":null,"size_bytes":11072,"size_tokens":null},"client/src/pages/not-found.tsx":{"content":"import { Card, CardContent } from \"@/components/ui/card\";\nimport { AlertCircle } from \"lucide-react\";\n\nexport default function NotFound() {\n  return (\n    <div className=\"min-h-screen w-full flex items-center justify-center bg-gray-50\">\n      <Card className=\"w-full max-w-md mx-4\">\n        <CardContent className=\"pt-6\">\n          <div className=\"flex mb-4 gap-2\">\n            <AlertCircle className=\"h-8 w-8 text-red-500\" />\n            <h1 className=\"text-2xl font-bold text-gray-900\">404 Page Not Found</h1>\n          </div>\n\n          <p className=\"mt-4 text-sm text-gray-600\">\n            Did you forget to add the page to the router?\n          </p>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n","path":null,"size_bytes":711,"size_tokens":null},"client/src/components/ui/input.tsx":{"content":"import * as React from \"react\"\nimport { cn } from \"@/lib/utils\"\n\nexport interface InputProps\n  extends React.InputHTMLAttributes<HTMLInputElement> {\n  icon?: React.ReactNode;\n  error?: boolean;\n}\n\nconst Input = React.forwardRef<HTMLInputElement, InputProps>(\n  ({ className, type, icon, error, ...props }, ref) => {\n    return (\n      <div className=\"relative\">\n        {icon && (\n          <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\n            {icon}\n          </div>\n        )}\n        <input\n          type={type}\n          className={cn(\n            \"flex h-12 w-full rounded-lg border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-0 disabled:cursor-not-allowed disabled:opacity-50 transition-all duration-300\",\n            icon && \"pl-10\",\n            error && \"border-destructive focus-visible:ring-destructive\",\n            \"focus-visible:transform focus-visible:-translate-y-0.5 focus-visible:shadow-lg\",\n            className\n          )}\n          ref={ref}\n          {...props}\n        />\n      </div>\n    )\n  }\n)\nInput.displayName = \"Input\"\n\nexport { Input }\n","path":null,"size_bytes":1334,"size_tokens":null},"client/src/components/ui/separator.tsx":{"content":"import * as React from \"react\"\nimport * as SeparatorPrimitive from \"@radix-ui/react-separator\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Separator = React.forwardRef<\n  React.ElementRef<typeof SeparatorPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SeparatorPrimitive.Root>\n>(\n  (\n    { className, orientation = \"horizontal\", decorative = true, ...props },\n    ref\n  ) => (\n    <SeparatorPrimitive.Root\n      ref={ref}\n      decorative={decorative}\n      orientation={orientation}\n      className={cn(\n        \"shrink-0 bg-border\",\n        orientation === \"horizontal\" ? \"h-[1px] w-full\" : \"h-full w-[1px]\",\n        className\n      )}\n      {...props}\n    />\n  )\n)\nSeparator.displayName = SeparatorPrimitive.Root.displayName\n\nexport { Separator }\n","path":null,"size_bytes":756,"size_tokens":null},"client/src/hooks/useAuth.ts":{"content":"import { useQuery } from \"@tanstack/react-query\";\nimport { apiRequest } from \"@/lib/queryClient\";\n\nexport function useAuth() {\n  const { data: user, isLoading } = useQuery({\n    queryKey: [\"/api/auth/user\"],\n    queryFn: async () => {\n      const response = await apiRequest(\"GET\", \"/api/auth/user\");\n      return response.json();\n    },\n    retry: false,\n  });\n\n  return {\n    user,\n    isLoading,\n    isAuthenticated: !!user,\n  };\n}","path":null,"size_bytes":434,"size_tokens":null},"client/src/components/dashboard/pages/PublicDiscussions.tsx":{"content":"export function PublicDiscussions({ user }: { user: any }) {\n  return (\n    <div>\n      <h2 className=\"text-2xl font-bold\">Public Discussions</h2>\n      <p>Discussion forum coming soon...</p>\n    </div>\n  );\n}","path":null,"size_bytes":209,"size_tokens":null},"client/src/components/ui/button.tsx":{"content":"import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center whitespace-nowrap rounded-lg text-sm font-semibold ring-offset-background transition-all duration-300 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 transform hover:-translate-y-0.5 shadow-lg hover:shadow-xl\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-destructive-foreground hover:bg-destructive/90\",\n        outline:\n          \"border border-input bg-background hover:bg-accent hover:text-accent-foreground\",\n        secondary:\n          \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        ghost: \"hover:bg-accent hover:text-accent-foreground\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n        success: \"bg-green-600 text-white hover:bg-green-700 focus-visible:ring-green-300\",\n        accent: \"bg-purple-600 text-white hover:bg-purple-700 focus-visible:ring-purple-300\",\n      },\n      size: {\n        default: \"h-12 px-6 py-3\",\n        sm: \"h-9 rounded-md px-3\",\n        lg: \"h-14 rounded-md px-8\",\n        icon: \"h-10 w-10\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"button\"\n    return (\n      <Comp\n        className={cn(buttonVariants({ variant, size, className }))}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nButton.displayName = \"Button\"\n\nexport { Button, buttonVariants }\n","path":null,"size_bytes":2091,"size_tokens":null},"client/src/components/ui/calendar.tsx":{"content":"import * as React from \"react\"\nimport { ChevronLeft, ChevronRight } from \"lucide-react\"\nimport { DayPicker } from \"react-day-picker\"\n\nimport { cn } from \"@/lib/utils\"\nimport { buttonVariants } from \"@/components/ui/button\"\n\nexport type CalendarProps = React.ComponentProps<typeof DayPicker>\n\nfunction Calendar({\n  className,\n  classNames,\n  showOutsideDays = true,\n  ...props\n}: CalendarProps) {\n  return (\n    <DayPicker\n      showOutsideDays={showOutsideDays}\n      className={cn(\"p-3\", className)}\n      classNames={{\n        months: \"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0\",\n        month: \"space-y-4\",\n        caption: \"flex justify-center pt-1 relative items-center\",\n        caption_label: \"text-sm font-medium\",\n        nav: \"space-x-1 flex items-center\",\n        nav_button: cn(\n          buttonVariants({ variant: \"outline\" }),\n          \"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100\"\n        ),\n        nav_button_previous: \"absolute left-1\",\n        nav_button_next: \"absolute right-1\",\n        table: \"w-full border-collapse space-y-1\",\n        head_row: \"flex\",\n        head_cell:\n          \"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]\",\n        row: \"flex w-full mt-2\",\n        cell: \"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20\",\n        day: cn(\n          buttonVariants({ variant: \"ghost\" }),\n          \"h-9 w-9 p-0 font-normal aria-selected:opacity-100\"\n        ),\n        day_range_end: \"day-range-end\",\n        day_selected:\n          \"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground\",\n        day_today: \"bg-accent text-accent-foreground\",\n        day_outside:\n          \"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground\",\n        day_disabled: \"text-muted-foreground opacity-50\",\n        day_range_middle:\n          \"aria-selected:bg-accent aria-selected:text-accent-foreground\",\n        day_hidden: \"invisible\",\n        ...classNames,\n      }}\n      components={{\n        IconLeft: ({ className, ...props }) => (\n          <ChevronLeft className={cn(\"h-4 w-4\", className)} {...props} />\n        ),\n        IconRight: ({ className, ...props }) => (\n          <ChevronRight className={cn(\"h-4 w-4\", className)} {...props} />\n        ),\n      }}\n      {...props}\n    />\n  )\n}\nCalendar.displayName = \"Calendar\"\n\nexport { Calendar }\n","path":null,"size_bytes":2695,"size_tokens":null},"client/src/index.css":{"content":"@tailwind base;\n@tailwind components;\n@tailwind utilities;\n\n:root {\n  --background: hsl(0, 0%, 100%);\n  --foreground: hsl(224, 71.4%, 4.1%);\n  --muted: hsl(220, 14.3%, 95.9%);\n  --muted-foreground: hsl(220, 8.9%, 46.1%);\n  --popover: hsl(0, 0%, 100%);\n  --popover-foreground: hsl(224, 71.4%, 4.1%);\n  --card: hsl(0, 0%, 100%);\n  --card-foreground: hsl(224, 71.4%, 4.1%);\n  --border: hsl(220, 13%, 91%);\n  --input: hsl(220, 13%, 91%);\n  --primary: hsl(207, 90%, 54%);\n  --primary-foreground: hsl(210, 40%, 98%);\n  --secondary: hsl(220, 14.3%, 95.9%);\n  --secondary-foreground: hsl(220.9, 39.3%, 11%);\n  --accent: hsl(220, 14.3%, 95.9%);\n  --accent-foreground: hsl(220.9, 39.3%, 11%);\n  --destructive: hsl(0, 84.2%, 60.2%);\n  --destructive-foreground: hsl(210, 40%, 98%);\n  --ring: hsl(224, 71.4%, 4.1%);\n  --radius: 0.75rem;\n}\n\n.dark {\n  --background: hsl(224, 71.4%, 4.1%);\n  --foreground: hsl(210, 40%, 98%);\n  --muted: hsl(223, 47%, 11%);\n  --muted-foreground: hsl(215.4, 16.3%, 56.9%);\n  --popover: hsl(224, 71.4%, 4.1%);\n  --popover-foreground: hsl(210, 40%, 98%);\n  --card: hsl(224, 71.4%, 4.1%);\n  --card-foreground: hsl(210, 40%, 98%);\n  --border: hsl(215, 27.9%, 16.9%);\n  --input: hsl(215, 27.9%, 16.9%);\n  --primary: hsl(207, 90%, 54%);\n  --primary-foreground: hsl(210, 40%, 98%);\n  --secondary: hsl(215, 27.9%, 16.9%);\n  --secondary-foreground: hsl(210, 40%, 98%);\n  --accent: hsl(215, 27.9%, 16.9%);\n  --accent-foreground: hsl(210, 40%, 98%);\n  --destructive: hsl(0, 62.8%, 30.6%);\n  --destructive-foreground: hsl(210, 40%, 98%);\n  --ring: hsl(216, 12.2%, 83.9%);\n}\n\n@layer base {\n  * {\n    @apply border-border;\n  }\n\n  body {\n    @apply font-sans antialiased bg-background text-foreground;\n    font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', sans-serif;\n  }\n\n  /* Glassmorphism utilities */\n  .glassmorphism {\n    background: rgba(255, 255, 255, 0.15);\n    backdrop-filter: blur(12px);\n    -webkit-backdrop-filter: blur(12px);\n    border: 1px solid rgba(255, 255, 255, 0.2);\n  }\n\n  .glassmorphism-card {\n    background: rgba(255, 255, 255, 0.9);\n    backdrop-filter: blur(20px);\n    -webkit-backdrop-filter: blur(20px);\n    border: 1px solid rgba(255, 255, 255, 0.3);\n  }\n\n  /* Custom scrollbar */\n  ::-webkit-scrollbar {\n    width: 6px;\n  }\n\n  ::-webkit-scrollbar-track {\n    background: hsl(var(--muted));\n  }\n\n  ::-webkit-scrollbar-thumb {\n    background: hsl(var(--muted-foreground));\n    border-radius: 3px;\n  }\n\n  ::-webkit-scrollbar-thumb:hover {\n    background: hsl(var(--primary));\n  }\n}\n","path":null,"size_bytes":2574,"size_tokens":null},"client/src/components/ui/tooltip.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as TooltipPrimitive from \"@radix-ui/react-tooltip\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst TooltipProvider = TooltipPrimitive.Provider\n\nconst Tooltip = TooltipPrimitive.Root\n\nconst TooltipTrigger = TooltipPrimitive.Trigger\n\nconst TooltipContent = React.forwardRef<\n  React.ElementRef<typeof TooltipPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TooltipPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <TooltipPrimitive.Content\n    ref={ref}\n    sideOffset={sideOffset}\n    className={cn(\n      \"z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nTooltipContent.displayName = TooltipPrimitive.Content.displayName\n\nexport { Tooltip, TooltipTrigger, TooltipContent, TooltipProvider }\n","path":null,"size_bytes":1209,"size_tokens":null},"client/src/components/ui/dropdown-menu.tsx":{"content":"import * as React from \"react\"\nimport * as DropdownMenuPrimitive from \"@radix-ui/react-dropdown-menu\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst DropdownMenu = DropdownMenuPrimitive.Root\n\nconst DropdownMenuTrigger = DropdownMenuPrimitive.Trigger\n\nconst DropdownMenuGroup = DropdownMenuPrimitive.Group\n\nconst DropdownMenuPortal = DropdownMenuPrimitive.Portal\n\nconst DropdownMenuSub = DropdownMenuPrimitive.Sub\n\nconst DropdownMenuRadioGroup = DropdownMenuPrimitive.RadioGroup\n\nconst DropdownMenuSubTrigger = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto\" />\n  </DropdownMenuPrimitive.SubTrigger>\n))\nDropdownMenuSubTrigger.displayName =\n  DropdownMenuPrimitive.SubTrigger.displayName\n\nconst DropdownMenuSubContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuSubContent.displayName =\n  DropdownMenuPrimitive.SubContent.displayName\n\nconst DropdownMenuContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <DropdownMenuPrimitive.Portal>\n    <DropdownMenuPrimitive.Content\n      ref={ref}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]\",\n        className\n      )}\n      {...props}\n    />\n  </DropdownMenuPrimitive.Portal>\n))\nDropdownMenuContent.displayName = DropdownMenuPrimitive.Content.displayName\n\nconst DropdownMenuItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuItem.displayName = DropdownMenuPrimitive.Item.displayName\n\nconst DropdownMenuCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <DropdownMenuPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.CheckboxItem>\n))\nDropdownMenuCheckboxItem.displayName =\n  DropdownMenuPrimitive.CheckboxItem.displayName\n\nconst DropdownMenuRadioItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.RadioItem>\n))\nDropdownMenuRadioItem.displayName = DropdownMenuPrimitive.RadioItem.displayName\n\nconst DropdownMenuLabel = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuLabel.displayName = DropdownMenuPrimitive.Label.displayName\n\nconst DropdownMenuSeparator = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nDropdownMenuSeparator.displayName = DropdownMenuPrimitive.Separator.displayName\n\nconst DropdownMenuShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\"ml-auto text-xs tracking-widest opacity-60\", className)}\n      {...props}\n    />\n  )\n}\nDropdownMenuShortcut.displayName = \"DropdownMenuShortcut\"\n\nexport {\n  DropdownMenu,\n  DropdownMenuTrigger,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuCheckboxItem,\n  DropdownMenuRadioItem,\n  DropdownMenuLabel,\n  DropdownMenuSeparator,\n  DropdownMenuShortcut,\n  DropdownMenuGroup,\n  DropdownMenuPortal,\n  DropdownMenuSub,\n  DropdownMenuSubContent,\n  DropdownMenuSubTrigger,\n  DropdownMenuRadioGroup,\n}\n","path":null,"size_bytes":7609,"size_tokens":null},"vite.config.ts":{"content":"import { defineConfig } from \"vite\";\nimport react from \"@vitejs/plugin-react\";\nimport path from \"path\";\nimport runtimeErrorOverlay from \"@replit/vite-plugin-runtime-error-modal\";\n\nexport default defineConfig({\n  plugins: [\n    react(),\n    runtimeErrorOverlay(),\n    ...(process.env.NODE_ENV !== \"production\" &&\n    process.env.REPL_ID !== undefined\n      ? [\n          await import(\"@replit/vite-plugin-cartographer\").then((m) =>\n            m.cartographer(),\n          ),\n        ]\n      : []),\n  ],\n  resolve: {\n    alias: {\n      \"@\": path.resolve(import.meta.dirname, \"client\", \"src\"),\n      \"@shared\": path.resolve(import.meta.dirname, \"shared\"),\n      \"@assets\": path.resolve(import.meta.dirname, \"attached_assets\"),\n    },\n  },\n  root: path.resolve(import.meta.dirname, \"client\"),\n  build: {\n    outDir: path.resolve(import.meta.dirname, \"dist/public\"),\n    emptyOutDir: true,\n  },\n  server: {\n    fs: {\n      strict: true,\n      deny: [\"**/.*\"],\n    },\n  },\n});\n","path":null,"size_bytes":971,"size_tokens":null},"client/src/lib/utils.ts":{"content":"import { clsx, type ClassValue } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n","path":null,"size_bytes":166,"size_tokens":null},"client/src/components/ui/card.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"rounded-lg border bg-card text-card-foreground shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n))\nCard.displayName = \"Card\"\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n    {...props}\n  />\n))\nCardHeader.displayName = \"CardHeader\"\n\nconst CardTitle = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"text-2xl font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nCardTitle.displayName = \"CardTitle\"\n\nconst CardDescription = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nCardDescription.displayName = \"CardDescription\"\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n))\nCardContent.displayName = \"CardContent\"\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-6 pt-0\", className)}\n    {...props}\n  />\n))\nCardFooter.displayName = \"CardFooter\"\n\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }\n","path":null,"size_bytes":1858,"size_tokens":null},"server/routes.ts":{"content":"import type { Express } from \"express\";\nimport { createServer, type Server } from \"http\";\nimport { storage } from \"./storage\";\nimport { insertUserSchema, loginSchema, forgotPasswordSchema, otpVerificationSchema, resetPasswordSchema } from \"@shared/schema\";\nimport bcrypt from \"bcrypt\";\n\nexport async function registerRoutes(app: Express): Promise<Server> {\n  // Helper function to generate 6-digit OTP\n  const generateOTP = (): string => {\n    return Math.floor(100000 + Math.random() * 900000).toString();\n  };\n\n  // Register new user (create pending user and send OTP)\n  app.post(\"/api/auth/signup\", async (req, res) => {\n    try {\n      const userData = insertUserSchema.parse(req.body);\n      \n      // Check if user already exists in main users table\n      const existingUser = await storage.getUserByEmail(userData.email);\n      if (existingUser) {\n        return res.status(400).json({ message: \"User already exists with this email\" });\n      }\n\n      const existingUsername = await storage.getUserByUsername(userData.username);\n      if (existingUsername) {\n        return res.status(400).json({ message: \"Username is already taken\" });\n      }\n\n      // Hash password\n      const hashedPassword = await bcrypt.hash(userData.password, 10);\n      \n      // Create pending user (not saved to main users table yet)\n      const pendingUser = await storage.createPendingUser({\n        ...userData,\n        password: hashedPassword,\n      });\n\n      // Generate OTP for email verification\n      const otpCode = generateOTP();\n      const expiresAt = new Date();\n      expiresAt.setMinutes(expiresAt.getMinutes() + 10); // 10 minutes expiry\n\n      await storage.createOtpCode({\n        email: pendingUser.email,\n        code: otpCode,\n        expiresAt,\n      });\n\n      // Console-based OTP for development (Bug 3 fix)\n      console.log(`ðŸ” SIGNUP OTP for ${pendingUser.email}: ${otpCode} (expires in 10 minutes)`);\n      console.log(`ðŸ“§ Email: ${pendingUser.email}`);\n      console.log(`ðŸ‘¤ Full Name: ${pendingUser.fullName}`);\n      console.log(`ðŸ†” Username: ${pendingUser.username}`);\n\n      res.status(201).json({ \n        message: \"Registration initiated. Please check your email for verification code.\",\n        email: pendingUser.email \n      });\n    } catch (error: any) {\n      if (error.errors) {\n        return res.status(400).json({ message: error.errors[0].message });\n      }\n      res.status(500).json({ message: \"Internal server error\" });\n    }\n  });\n\n  // Login user\n  app.post(\"/api/auth/login\", async (req, res) => {\n    try {\n      const loginData = loginSchema.parse(req.body);\n      \n      // Find user\n      const user = await storage.getUserByEmail(loginData.email);\n      if (!user) {\n        return res.status(401).json({ message: \"Invalid email or password\" });\n      }\n\n      // Verify password\n      const isValidPassword = await bcrypt.compare(loginData.password, user.password);\n      if (!isValidPassword) {\n        return res.status(401).json({ message: \"Invalid email or password\" });\n      }\n\n      // Admin users bypass verification check\n      if (user.role === \"admin\") {\n        (req.session as any).userId = user.id;\n        const { password, ...userWithoutPassword } = user;\n        console.log(`âœ… Admin login successful for: ${user.email}`);\n        return res.json({ \n          message: \"Admin login successful\",\n          user: userWithoutPassword \n        });\n      }\n\n      // Regular users must verify their email and have VU domain\n      if (!loginData.email.endsWith(\"@vu.edu.pk\")) {\n        return res.status(403).json({ \n          message: \"Only VU students with @vu.edu.pk emails can access this portal\"\n        });\n      }\n\n      if (!user.isVerified) {\n        return res.status(403).json({ \n          message: \"Please verify your email before logging in\",\n          requiresVerification: true,\n          email: user.email\n        });\n      }\n\n      // Create session for regular users\n      (req.session as any).userId = user.id;\n      \n      // Return user data (excluding password)\n      const { password, ...userWithoutPassword } = user;\n      console.log(`âœ… Student login successful for: ${user.email}`);\n      res.json({ \n        message: \"Login successful\",\n        user: userWithoutPassword \n      });\n    } catch (error: any) {\n      if (error.errors) {\n        return res.status(400).json({ message: error.errors[0].message });\n      }\n      res.status(500).json({ message: \"Internal server error\" });\n    }\n  });\n\n  // User profile setup\n  app.post(\"/api/user/setup-profile\", async (req: any, res) => {\n    try {\n      const { degreeProgram, subjects } = req.body;\n      \n      if (!degreeProgram || !subjects || !Array.isArray(subjects) || subjects.length === 0) {\n        return res.status(400).json({ \n          message: \"Degree program and at least one subject are required\" \n        });\n      }\n\n      // Get user ID from session\n      const userId = (req.session as any)?.userId;\n      if (!userId) {\n        return res.status(401).json({ message: \"Not authenticated\" });\n      }\n      \n      const updatedUser = await storage.updateUserProfile(userId, degreeProgram, subjects);\n      \n      if (!updatedUser) {\n        return res.status(404).json({ message: \"User not found\" });\n      }\n\n      // Remove password from response\n      const { password, ...userWithoutPassword } = updatedUser;\n      \n      res.json({ \n        message: \"Profile setup completed successfully\",\n        user: userWithoutPassword \n      });\n    } catch (error) {\n      console.error(\"Error setting up profile:\", error);\n      res.status(500).json({ message: \"Internal server error\" });\n    }\n  });\n\n  // Forgot password\n  app.post(\"/api/auth/forgot-password\", async (req, res) => {\n    try {\n      const { email } = forgotPasswordSchema.parse(req.body);\n      \n      // Check if user exists\n      const user = await storage.getUserByEmail(email);\n      if (!user) {\n        return res.status(404).json({ message: \"No account found with this email address\" });\n      }\n\n      // Generate OTP\n      const otpCode = generateOTP();\n      const expiresAt = new Date();\n      expiresAt.setMinutes(expiresAt.getMinutes() + 10); // 10 minutes expiry\n\n      await storage.createOtpCode({\n        email,\n        code: otpCode,\n        expiresAt,\n      });\n\n      // Console-based OTP for development (Bug 3 fix)\n      console.log(`ðŸ” PASSWORD RESET OTP for ${email}: ${otpCode} (expires in 10 minutes)`);\n\n      res.json({ \n        message: \"Password reset code sent to your email\",\n        email \n      });\n    } catch (error: any) {\n      if (error.errors) {\n        return res.status(400).json({ message: error.errors[0].message });\n      }\n      res.status(500).json({ message: \"Internal server error\" });\n    }\n  });\n\n  // Verify OTP and complete user registration\n  app.post(\"/api/auth/verify-otp\", async (req, res) => {\n    try {\n      const { email, code } = otpVerificationSchema.parse(req.body);\n      \n      // Find valid OTP\n      const otpRecord = await storage.getValidOtpCode(email, code);\n      if (!otpRecord) {\n        return res.status(400).json({ message: \"Invalid or expired verification code\" });\n      }\n\n      // Check if there's a pending user for this email\n      const pendingUser = await storage.getPendingUserByEmail(email);\n      if (pendingUser) {\n        // Mark OTP as used for signup flow\n        await storage.markOtpAsUsed(otpRecord.id);\n\n        // Create the actual user from pending user data\n        const user = await storage.createUser({\n          username: pendingUser.username,\n          fullName: pendingUser.fullName,\n          email: pendingUser.email,\n          password: pendingUser.password,\n        });\n\n        // Set user as verified since they completed OTP\n        await storage.updateUser(user.id, { isVerified: true });\n\n        // Clean up pending user data\n        await storage.deletePendingUser(email);\n\n        console.log(`âœ… User registration completed for: ${user.email}`);\n        console.log(`ðŸ‘¤ Username: ${user.username}, Full Name: ${user.fullName}`);\n\n        res.json({ \n          message: \"Email verified and registration completed successfully\",\n          user: { id: user.id, username: user.username, email: user.email, fullName: user.fullName }\n        });\n      } else {\n        // For existing users (forgot password flow) - don't mark OTP as used yet\n        const user = await storage.getUserByEmail(email);\n        if (user) {\n          res.json({ \n            message: \"OTP verified successfully. You can now reset your password.\",\n            canResetPassword: true,\n            email: user.email\n          });\n        } else {\n          res.status(404).json({ message: \"User not found\" });\n        }\n      }\n    } catch (error: any) {\n      if (error.errors) {\n        return res.status(400).json({ message: error.errors[0].message });\n      }\n      res.status(500).json({ message: \"Internal server error\" });\n    }\n  });\n\n  // Resend OTP\n  app.post(\"/api/auth/resend-otp\", async (req, res) => {\n    try {\n      const { email } = forgotPasswordSchema.parse(req.body);\n      \n      // Check if user exists\n      const user = await storage.getUserByEmail(email);\n      if (!user) {\n        return res.status(404).json({ message: \"No account found with this email address\" });\n      }\n\n      // Generate new OTP\n      const otpCode = generateOTP();\n      const expiresAt = new Date();\n      expiresAt.setMinutes(expiresAt.getMinutes() + 10); // 10 minutes expiry\n\n      await storage.createOtpCode({\n        email,\n        code: otpCode,\n        expiresAt,\n      });\n\n      // Console-based OTP for development (Bug 3 fix)\n      console.log(`ðŸ” RESEND OTP for ${email}: ${otpCode} (expires in 10 minutes)`);\n\n      res.json({ \n        message: \"New verification code sent to your email\",\n        email \n      });\n    } catch (error: any) {\n      if (error.errors) {\n        return res.status(400).json({ message: error.errors[0].message });\n      }\n      res.status(500).json({ message: \"Internal server error\" });\n    }\n  });\n\n  // Cleanup expired OTPs periodically\n  setInterval(async () => {\n    await storage.cleanupExpiredOtps();\n  }, 5 * 60 * 1000); // Every 5 minutes\n\n  // Reset password after OTP verification\n  app.post(\"/api/auth/reset-password\", async (req, res) => {\n    try {\n      const { email, code, newPassword } = resetPasswordSchema.parse(req.body);\n      \n      // Check if OTP is still valid using the method that doesn't require unused status\n      const otpRecord = await storage.checkOtpCodeValidity(email, code);\n      if (!otpRecord) {\n        return res.status(400).json({ message: \"Invalid or expired verification code\" });\n      }\n\n      // Find user\n      const user = await storage.getUserByEmail(email);\n      if (!user) {\n        return res.status(404).json({ message: \"User not found\" });\n      }\n\n      // Hash new password\n      const hashedPassword = await bcrypt.hash(newPassword, 10);\n      \n      // Update user password\n      await storage.updateUser(user.id, { password: hashedPassword });\n\n      // Mark OTP as used\n      await storage.markOtpAsUsed(otpRecord.id);\n\n      console.log(`ðŸ” Password reset successful for: ${user.email}`);\n\n      res.json({ \n        message: \"Password updated successfully. You can now log in with your new password.\"\n      });\n    } catch (error: any) {\n      if (error.errors) {\n        return res.status(400).json({ message: error.errors[0].message });\n      }\n      res.status(500).json({ message: \"Internal server error\" });\n    }\n  });\n\n  // Get current authenticated user\n  app.get(\"/api/auth/user\", async (req: any, res) => {\n    try {\n      if (!(req.session as any)?.userId) {\n        return res.status(401).json({ message: \"Not authenticated\" });\n      }\n\n      const user = await storage.getUser((req.session as any).userId);\n      if (!user) {\n        req.session.destroy(() => {});\n        return res.status(401).json({ message: \"User not found\" });\n      }\n\n      // Return user data (excluding password)\n      const { password, ...userWithoutPassword } = user;\n      res.json(userWithoutPassword);\n    } catch (error) {\n      console.error(\"Error fetching user:\", error);\n      res.status(500).json({ message: \"Internal server error\" });\n    }\n  });\n\n  // Logout user\n  app.post(\"/api/auth/logout\", async (req: any, res) => {\n    req.session.destroy((err: any) => {\n      if (err) {\n        return res.status(500).json({ message: \"Could not log out\" });\n      }\n      res.json({ message: \"Logged out successfully\" });\n    });\n  });\n\n  const httpServer = createServer(app);\n  return httpServer;\n}\n","path":null,"size_bytes":12630,"size_tokens":null},"client/src/components/dashboard/pages/UploadArea.tsx":{"content":"import { useState } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { zodResolver } from \"@hookform/resolvers/zod\";\nimport { useMutation, useQueryClient } from \"@tanstack/react-query\";\nimport { z } from \"zod\";\nimport { Upload, FileText, Link, Send, AlertCircle, CheckCircle } from \"lucide-react\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Form, FormControl, FormField, FormItem, FormLabel, FormMessage } from \"@/components/ui/form\";\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { Input } from \"@/components/ui/input\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Alert, AlertDescription } from \"@/components/ui/alert\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { apiRequest } from \"@/lib/queryClient\";\n\nconst uploadSchema = z.object({\n  subject: z.string().min(1, \"Please select a subject\"),\n  uploadType: z.string().min(1, \"Please select upload type\"),\n  title: z.string().min(1, \"Title is required\"),\n  description: z.string().optional(),\n  content: z.string().optional(),\n  externalLink: z.string().url().optional().or(z.literal(\"\")),\n});\n\ntype UploadData = z.infer<typeof uploadSchema>;\n\nconst uploadTypes = [\n  { value: \"handout\", label: \"ðŸ“š Handout\" },\n  { value: \"notes\", label: \"ðŸ“ Notes\" },\n  { value: \"guide\", label: \"ðŸ“– Study Guide\" },\n  { value: \"past_paper\", label: \"ðŸ“‹ Past Paper\" },\n  { value: \"guess_paper\", label: \"ðŸŽ¯ Guess Paper\" },\n];\n\nexport function UploadArea({ user }: { user: any }) {\n  const [activeTab, setActiveTab] = useState(\"file\");\n  const { toast } = useToast();\n  const queryClient = useQueryClient();\n\n  const form = useForm<UploadData>({\n    resolver: zodResolver(uploadSchema),\n    defaultValues: {\n      subject: \"\",\n      uploadType: \"\",\n      title: \"\",\n      description: \"\",\n      content: \"\",\n      externalLink: \"\",\n    },\n  });\n\n  const uploadMutation = useMutation({\n    mutationFn: async (data: UploadData) => {\n      const response = await apiRequest(\"POST\", \"/api/uploads\", data);\n      return response.json();\n    },\n    onSuccess: () => {\n      toast({\n        title: \"Upload Submitted\",\n        description: \"Your upload has been submitted for admin approval.\",\n      });\n      form.reset();\n      queryClient.invalidateQueries({ queryKey: [\"/api/uploads\"] });\n    },\n    onError: (error: Error) => {\n      toast({\n        title: \"Upload Failed\",\n        description: error.message,\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  const onSubmit = (data: UploadData) => {\n    // Add content based on active tab\n    const submitData = {\n      ...data,\n      contentType: activeTab,\n    };\n    uploadMutation.mutate(submitData);\n  };\n\n  const subjects = user?.subjects || [];\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h1 className=\"text-3xl font-bold text-gray-900 dark:text-white\">Upload Area</h1>\n          <p className=\"text-gray-500 dark:text-gray-400 mt-2\">\n            Share your study materials with fellow VU students\n          </p>\n        </div>\n        <Badge variant=\"outline\" className=\"bg-blue-50 text-blue-700\">\n          ðŸ“‹ Admin Approval Required\n        </Badge>\n      </div>\n\n      <Alert>\n        <AlertCircle className=\"h-4 w-4\" />\n        <AlertDescription>\n          All uploads require admin approval before becoming publicly available. \n          Make sure to select the correct subject and provide accurate descriptions.\n        </AlertDescription>\n      </Alert>\n\n      <Card>\n        <CardHeader>\n          <CardTitle className=\"flex items-center\">\n            <Upload className=\"mr-2\" size={24} />\n            Upload Study Material\n          </CardTitle>\n          <CardDescription>\n            Choose how you want to share your content: upload a file, write text, or share a link\n          </CardDescription>\n        </CardHeader>\n        <CardContent>\n          <Form {...form}>\n            <form onSubmit={form.handleSubmit(onSubmit)} className=\"space-y-6\">\n              {/* Subject Selection */}\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                <FormField\n                  control={form.control}\n                  name=\"subject\"\n                  render={({ field }) => (\n                    <FormItem>\n                      <FormLabel>Subject</FormLabel>\n                      <FormControl>\n                        <Select onValueChange={field.onChange} defaultValue={field.value}>\n                          <SelectTrigger>\n                            <SelectValue placeholder=\"Select subject\" />\n                          </SelectTrigger>\n                          <SelectContent>\n                            {subjects.map((subject: string) => (\n                              <SelectItem key={subject} value={subject}>\n                                {subject}\n                              </SelectItem>\n                            ))}\n                          </SelectContent>\n                        </Select>\n                      </FormControl>\n                      <FormMessage />\n                    </FormItem>\n                  )}\n                />\n\n                <FormField\n                  control={form.control}\n                  name=\"uploadType\"\n                  render={({ field }) => (\n                    <FormItem>\n                      <FormLabel>Upload Type</FormLabel>\n                      <FormControl>\n                        <Select onValueChange={field.onChange} defaultValue={field.value}>\n                          <SelectTrigger>\n                            <SelectValue placeholder=\"Select type\" />\n                          </SelectTrigger>\n                          <SelectContent>\n                            {uploadTypes.map((type) => (\n                              <SelectItem key={type.value} value={type.value}>\n                                {type.label}\n                              </SelectItem>\n                            ))}\n                          </SelectContent>\n                        </Select>\n                      </FormControl>\n                      <FormMessage />\n                    </FormItem>\n                  )}\n                />\n              </div>\n\n              {/* Title */}\n              <FormField\n                control={form.control}\n                name=\"title\"\n                render={({ field }) => (\n                  <FormItem>\n                    <FormLabel>Title</FormLabel>\n                    <FormControl>\n                      <Input\n                        placeholder=\"Enter a descriptive title for your upload\"\n                        {...field}\n                      />\n                    </FormControl>\n                    <FormMessage />\n                  </FormItem>\n                )}\n              />\n\n              {/* Content Tabs */}\n              <div className=\"space-y-4\">\n                <Tabs value={activeTab} onValueChange={setActiveTab}>\n                  <TabsList className=\"grid w-full grid-cols-3\">\n                    <TabsTrigger value=\"file\" className=\"flex items-center\">\n                      <Upload className=\"mr-2\" size={16} />\n                      File Upload\n                    </TabsTrigger>\n                    <TabsTrigger value=\"text\" className=\"flex items-center\">\n                      <FileText className=\"mr-2\" size={16} />\n                      Text Content\n                    </TabsTrigger>\n                    <TabsTrigger value=\"link\" className=\"flex items-center\">\n                      <Link className=\"mr-2\" size={16} />\n                      External Link\n                    </TabsTrigger>\n                  </TabsList>\n\n                  <TabsContent value=\"file\" className=\"space-y-4\">\n                    <div className=\"border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg p-8 text-center\">\n                      <Upload className=\"mx-auto h-12 w-12 text-gray-400 mb-4\" />\n                      <p className=\"text-gray-600 dark:text-gray-300 mb-2\">\n                        Drag and drop your file here, or click to browse\n                      </p>\n                      <p className=\"text-sm text-gray-500\">\n                        Supported formats: PDF, DOC, DOCX, PNG, JPG (Max 10MB)\n                      </p>\n                      <Button type=\"button\" variant=\"outline\" className=\"mt-4\">\n                        Choose File\n                      </Button>\n                    </div>\n                  </TabsContent>\n\n                  <TabsContent value=\"text\">\n                    <FormField\n                      control={form.control}\n                      name=\"content\"\n                      render={({ field }) => (\n                        <FormItem>\n                          <FormLabel>Content</FormLabel>\n                          <FormControl>\n                            <Textarea\n                              placeholder=\"Write your content here...\"\n                              className=\"min-h-[200px]\"\n                              {...field}\n                            />\n                          </FormControl>\n                          <FormMessage />\n                        </FormItem>\n                      )}\n                    />\n                  </TabsContent>\n\n                  <TabsContent value=\"link\">\n                    <FormField\n                      control={form.control}\n                      name=\"externalLink\"\n                      render={({ field }) => (\n                        <FormItem>\n                          <FormLabel>External Link</FormLabel>\n                          <FormControl>\n                            <Input\n                              placeholder=\"https://example.com/resource\"\n                              {...field}\n                            />\n                          </FormControl>\n                          <FormMessage />\n                        </FormItem>\n                      )}\n                    />\n                  </TabsContent>\n                </Tabs>\n              </div>\n\n              {/* Description */}\n              <FormField\n                control={form.control}\n                name=\"description\"\n                render={({ field }) => (\n                  <FormItem>\n                    <FormLabel>Description (Optional)</FormLabel>\n                    <FormControl>\n                      <Textarea\n                        placeholder=\"Add any additional details about your upload...\"\n                        {...field}\n                      />\n                    </FormControl>\n                    <FormMessage />\n                  </FormItem>\n                )}\n              />\n\n              {/* Submit Button */}\n              <div className=\"flex justify-end\">\n                <Button\n                  type=\"submit\"\n                  disabled={uploadMutation.isPending}\n                  className=\"flex items-center\"\n                >\n                  {uploadMutation.isPending ? (\n                    \"Submitting...\"\n                  ) : (\n                    <>\n                      <Send className=\"mr-2\" size={16} />\n                      Submit for Approval\n                    </>\n                  )}\n                </Button>\n              </div>\n            </form>\n          </Form>\n        </CardContent>\n      </Card>\n\n      {/* Recent Uploads */}\n      <Card>\n        <CardHeader>\n          <CardTitle>Your Recent Uploads</CardTitle>\n          <CardDescription>\n            Track the status of your submitted materials\n          </CardDescription>\n        </CardHeader>\n        <CardContent>\n          <div className=\"text-center py-8 text-gray-500\">\n            <Upload className=\"mx-auto h-12 w-12 mb-4 opacity-50\" />\n            <p>No uploads yet. Submit your first material above!</p>\n          </div>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}","path":null,"size_bytes":12146,"size_tokens":null},"client/src/components/dashboard/Sidebar.tsx":{"content":"import { useState } from \"react\";\nimport { \n  LayoutDashboard, \n  BookOpen, \n  Upload, \n  MessageSquare, \n  Megaphone, \n  Lightbulb, \n  Bot, \n  TestTube, \n  Award, \n  Library, \n  Users, \n  Info,\n  LogOut,\n  User,\n  Settings\n} from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { useToast } from \"@/hooks/use-toast\";\n\ninterface SidebarProps {\n  user: any;\n  activePage: string;\n  onPageChange: (page: string) => void;\n}\n\ninterface NavItem {\n  id: string;\n  label: string;\n  icon: any;\n  badge?: string;\n}\n\nexport function Sidebar({ user, activePage, onPageChange }: SidebarProps) {\n  const { toast } = useToast();\n  const [isCollapsed, setIsCollapsed] = useState(false);\n\n  const navItems: NavItem[] = [\n    { id: \"dashboard\", label: \"Dashboard\", icon: LayoutDashboard },\n    { id: \"subjects\", label: \"My Subjects\", icon: BookOpen },\n    { id: \"upload\", label: \"Upload Area\", icon: Upload },\n    { id: \"discussions\", label: \"Public Discussions\", icon: MessageSquare },\n    { id: \"announcements\", label: \"Important Announcements\", icon: Megaphone },\n    { id: \"solutions\", label: \"Assignment & GDB Solutions\", icon: Lightbulb },\n    { id: \"ai-chat\", label: \"Ask AI\", icon: Bot },\n    { id: \"exam-chat\", label: \"Exam-Time Chat\", icon: TestTube, badge: \"EXAM\" },\n    { id: \"badges\", label: \"Badges\", icon: Award },\n    { id: \"resources\", label: \"Subject Resources\", icon: Library },\n    { id: \"about\", label: \"About Us / Our Process\", icon: Info },\n    { id: \"team\", label: \"Our Team & Join Community\", icon: Users },\n    { id: \"settings\", label: \"Settings\", icon: Settings },\n  ];\n\n  const handleLogout = async () => {\n    try {\n      window.location.href = \"/api/logout\";\n    } catch (error) {\n      toast({\n        title: \"Logout Failed\",\n        description: \"There was an error logging out. Please try again.\",\n        variant: \"destructive\",\n      });\n    }\n  };\n\n  const maskEmail = (email: string) => {\n    const [localPart, domain] = email.split('@');\n    const maskedLocal = localPart.substring(0, 8) + '****';\n    return `${maskedLocal}@${domain}`;\n  };\n\n  return (\n    <div className={`fixed left-0 top-0 h-full bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 transition-all duration-300 ${isCollapsed ? 'w-16' : 'w-64'} z-50`}>\n      <div className=\"flex flex-col h-full\">\n        {/* Header */}\n        <div className=\"p-4 border-b border-gray-200 dark:border-gray-700\">\n          <div className=\"flex items-center space-x-3\">\n            <div className=\"w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center\">\n              <span className=\"text-white font-bold text-sm\">VU</span>\n            </div>\n            {!isCollapsed && (\n              <div className=\"flex-1\">\n                <h1 className=\"font-bold text-gray-900 dark:text-white\">VU Portal</h1>\n                <p className=\"text-xs text-gray-500 dark:text-gray-400\">Student Support</p>\n              </div>\n            )}\n          </div>\n        </div>\n\n        {/* User Profile */}\n        {!isCollapsed && (\n          <div className=\"p-4 border-b border-gray-200 dark:border-gray-700\">\n            <div className=\"flex items-center space-x-3\">\n              <div className=\"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center\">\n                <User className=\"text-white\" size={20} />\n              </div>\n              <div className=\"flex-1 min-w-0\">\n                <p className=\"font-medium text-gray-900 dark:text-white truncate\">\n                  {user?.fullName}\n                </p>\n                <p className=\"text-sm text-gray-500 dark:text-gray-400 truncate\">\n                  {maskEmail(user?.email || '')}\n                </p>\n                {user?.role === 'admin' && (\n                  <span className=\"inline-block px-2 py-1 text-xs bg-red-100 text-red-800 rounded-full\">\n                    Admin\n                  </span>\n                )}\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Navigation */}\n        <nav className=\"flex-1 overflow-y-auto py-4\">\n          <div className=\"space-y-1 px-2\">\n            {navItems.map((item) => {\n              const Icon = item.icon;\n              const isActive = activePage === item.id;\n              \n              // Hide exam chat if not enabled\n              if (item.id === 'exam-chat') {\n                // This would check system settings for exam chat enabled\n                return null;\n              }\n\n              return (\n                <button\n                  key={item.id}\n                  onClick={() => onPageChange(item.id)}\n                  className={`w-full flex items-center px-3 py-2 rounded-lg text-left transition-colors ${\n                    isActive\n                      ? 'bg-blue-100 dark:bg-blue-900 text-blue-900 dark:text-blue-100'\n                      : 'text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700'\n                  }`}\n                >\n                  <Icon size={20} className=\"flex-shrink-0\" />\n                  {!isCollapsed && (\n                    <>\n                      <span className=\"ml-3 flex-1\">{item.label}</span>\n                      {item.badge && (\n                        <span className=\"ml-2 px-2 py-1 text-xs bg-orange-100 text-orange-800 rounded-full\">\n                          {item.badge}\n                        </span>\n                      )}\n                    </>\n                  )}\n                </button>\n              );\n            })}\n          </div>\n        </nav>\n\n        {/* Footer */}\n        <div className=\"p-4 border-t border-gray-200 dark:border-gray-700\">\n          {!isCollapsed && (\n            <div className=\"space-y-2\">\n              <Button\n                variant=\"ghost\"\n                size=\"sm\"\n                className=\"w-full justify-start\"\n                onClick={() => onPageChange('settings')}\n              >\n                <Settings size={16} className=\"mr-2\" />\n                Settings\n              </Button>\n              <Button\n                variant=\"ghost\"\n                size=\"sm\"\n                className=\"w-full justify-start text-red-600 hover:text-red-700 hover:bg-red-50\"\n                onClick={handleLogout}\n              >\n                <LogOut size={16} className=\"mr-2\" />\n                Logout\n              </Button>\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}","path":null,"size_bytes":6464,"size_tokens":null},"client/src/components/ui/checkbox.tsx":{"content":"import * as React from \"react\"\nimport * as CheckboxPrimitive from \"@radix-ui/react-checkbox\"\nimport { Check } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Checkbox = React.forwardRef<\n  React.ElementRef<typeof CheckboxPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof CheckboxPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <CheckboxPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground\",\n      className\n    )}\n    {...props}\n  >\n    <CheckboxPrimitive.Indicator\n      className={cn(\"flex items-center justify-center text-current\")}\n    >\n      <Check className=\"h-4 w-4\" />\n    </CheckboxPrimitive.Indicator>\n  </CheckboxPrimitive.Root>\n))\nCheckbox.displayName = CheckboxPrimitive.Root.displayName\n\nexport { Checkbox }\n","path":null,"size_bytes":1056,"size_tokens":null},"client/src/components/ui/context-menu.tsx":{"content":"import * as React from \"react\"\nimport * as ContextMenuPrimitive from \"@radix-ui/react-context-menu\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ContextMenu = ContextMenuPrimitive.Root\n\nconst ContextMenuTrigger = ContextMenuPrimitive.Trigger\n\nconst ContextMenuGroup = ContextMenuPrimitive.Group\n\nconst ContextMenuPortal = ContextMenuPrimitive.Portal\n\nconst ContextMenuSub = ContextMenuPrimitive.Sub\n\nconst ContextMenuRadioGroup = ContextMenuPrimitive.RadioGroup\n\nconst ContextMenuSubTrigger = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <ContextMenuPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto h-4 w-4\" />\n  </ContextMenuPrimitive.SubTrigger>\n))\nContextMenuSubTrigger.displayName = ContextMenuPrimitive.SubTrigger.displayName\n\nconst ContextMenuSubContent = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-context-menu-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nContextMenuSubContent.displayName = ContextMenuPrimitive.SubContent.displayName\n\nconst ContextMenuContent = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.Portal>\n    <ContextMenuPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"z-50 max-h-[--radix-context-menu-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md animate-in fade-in-80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-context-menu-content-transform-origin]\",\n        className\n      )}\n      {...props}\n    />\n  </ContextMenuPrimitive.Portal>\n))\nContextMenuContent.displayName = ContextMenuPrimitive.Content.displayName\n\nconst ContextMenuItem = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <ContextMenuPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nContextMenuItem.displayName = ContextMenuPrimitive.Item.displayName\n\nconst ContextMenuCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <ContextMenuPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <ContextMenuPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </ContextMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </ContextMenuPrimitive.CheckboxItem>\n))\nContextMenuCheckboxItem.displayName =\n  ContextMenuPrimitive.CheckboxItem.displayName\n\nconst ContextMenuRadioItem = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <ContextMenuPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <ContextMenuPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </ContextMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </ContextMenuPrimitive.RadioItem>\n))\nContextMenuRadioItem.displayName = ContextMenuPrimitive.RadioItem.displayName\n\nconst ContextMenuLabel = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <ContextMenuPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold text-foreground\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nContextMenuLabel.displayName = ContextMenuPrimitive.Label.displayName\n\nconst ContextMenuSeparator = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-border\", className)}\n    {...props}\n  />\n))\nContextMenuSeparator.displayName = ContextMenuPrimitive.Separator.displayName\n\nconst ContextMenuShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nContextMenuShortcut.displayName = \"ContextMenuShortcut\"\n\nexport {\n  ContextMenu,\n  ContextMenuTrigger,\n  ContextMenuContent,\n  ContextMenuItem,\n  ContextMenuCheckboxItem,\n  ContextMenuRadioItem,\n  ContextMenuLabel,\n  ContextMenuSeparator,\n  ContextMenuShortcut,\n  ContextMenuGroup,\n  ContextMenuPortal,\n  ContextMenuSub,\n  ContextMenuSubContent,\n  ContextMenuSubTrigger,\n  ContextMenuRadioGroup,\n}\n","path":null,"size_bytes":7428,"size_tokens":null},"client/src/pages/auth.tsx":{"content":"import { useState } from \"react\";\nimport { GraduationCap, Book, Users, TrendingUp } from \"lucide-react\";\nimport { AuthFormWrapper } from \"@/components/auth/AuthFormWrapper\";\nimport { LoginForm } from \"@/components/auth/LoginForm\";\nimport { SignupForm } from \"@/components/auth/SignupForm\";\nimport { ForgotPasswordForm } from \"@/components/auth/ForgotPasswordForm\";\nimport { OTPVerificationForm } from \"@/components/auth/OTPVerificationForm\";\nimport { ResetPasswordForm } from \"@/components/auth/ResetPasswordForm\";\n\ntype AuthView = \"login\" | \"signup\" | \"forgotPassword\" | \"otpVerification\" | \"resetPassword\";\n\nexport default function AuthPage() {\n  const [currentView, setCurrentView] = useState<AuthView>(\"login\");\n  const [verificationEmail, setVerificationEmail] = useState(\"\");\n  const [fromSignup, setFromSignup] = useState(false);\n  const [otpCode, setOtpCode] = useState(\"\");\n\n  const switchToOTP = (email: string, isFromSignup = false) => {\n    setVerificationEmail(email);\n    setFromSignup(isFromSignup);\n    setCurrentView(\"otpVerification\");\n  };\n\n  const switchToResetPassword = (email: string, code: string) => {\n    setVerificationEmail(email);\n    setOtpCode(code);\n    setCurrentView(\"resetPassword\");\n  };\n\n  const renderCurrentForm = () => {\n    switch (currentView) {\n      case \"signup\":\n        return (\n          <SignupForm\n            onSwitchToLogin={() => setCurrentView(\"login\")}\n            onSwitchToOTP={(email) => switchToOTP(email, true)}\n          />\n        );\n      case \"forgotPassword\":\n        return (\n          <ForgotPasswordForm\n            onSwitchToLogin={() => setCurrentView(\"login\")}\n            onSwitchToOTP={switchToOTP}\n          />\n        );\n      case \"otpVerification\":\n        return (\n          <OTPVerificationForm\n            email={verificationEmail}\n            fromSignup={fromSignup}\n            onSwitchToLogin={() => setCurrentView(\"login\")}\n            onSwitchToSignup={() => setCurrentView(\"signup\")}\n            onSwitchToForgotPassword={() => setCurrentView(\"forgotPassword\")}\n            onSwitchToResetPassword={switchToResetPassword}\n          />\n        );\n      case \"resetPassword\":\n        return (\n          <ResetPasswordForm\n            email={verificationEmail}\n            otpCode={otpCode}\n            onSuccess={() => setCurrentView(\"login\")}\n            onBackToLogin={() => setCurrentView(\"login\")}\n          />\n        );\n      default:\n        return (\n          <LoginForm\n            onSwitchToSignup={() => setCurrentView(\"signup\")}\n            onSwitchToForgotPassword={() => setCurrentView(\"forgotPassword\")}\n            onSwitchToOTP={switchToOTP}\n          />\n        );\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-r from-blue-700 to-cyan-500 flex\">\n      {/* Left Side - Welcome Section */}\n      <div className=\"hidden lg:flex lg:w-1/2 relative overflow-hidden\">\n        <div className=\"flex flex-col justify-center items-start p-12 z-10 relative\">\n          {/* VU Branding */}\n          <div className=\"mb-8\">\n            <div className=\"flex items-center mb-4\">\n              <div className=\"w-12 h-12 bg-white/20 rounded-full flex items-center justify-center backdrop-blur-sm border border-white/30 mr-4\">\n                <GraduationCap className=\"text-white\" size={24} />\n              </div>\n              <div>\n                <h1 className=\"text-white text-2xl font-bold\">VU Portal</h1>\n                <p className=\"text-white/80 text-sm\">Virtual University of Pakistan</p>\n              </div>\n            </div>\n            <h2 className=\"text-white text-3xl font-bold mb-4\">Welcome to Student Portal</h2>\n            <p className=\"text-white/90 text-lg leading-relaxed\">\n              Access your personalized dashboard, course materials, and join our vibrant academic community.\n            </p>\n          </div>\n\n          {/* Feature Cards */}\n          <div className=\"space-y-4 w-full max-w-md\">\n            <div className=\"bg-white/15 backdrop-blur-sm rounded-xl p-4 hover:bg-white/20 transition-all duration-300 border border-white/20\">\n              <div className=\"flex items-center\">\n                <div className=\"w-10 h-10 bg-white/20 rounded-lg flex items-center justify-center mr-4\">\n                  <Book className=\"text-white\" size={20} />\n                </div>\n                <div>\n                  <h3 className=\"text-white font-semibold\">Academic Resources</h3>\n                  <p className=\"text-white/70 text-sm\">Access syllabus, lectures, and past papers anytime</p>\n                </div>\n              </div>\n            </div>\n\n            <div className=\"bg-white/15 backdrop-blur-sm rounded-xl p-4 hover:bg-white/20 transition-all duration-300 border border-white/20\">\n              <div className=\"flex items-center\">\n                <div className=\"w-10 h-10 bg-white/20 rounded-lg flex items-center justify-center mr-4\">\n                  <Users className=\"text-white\" size={20} />\n                </div>\n                <div>\n                  <h3 className=\"text-white font-semibold\">Collaborative Learning</h3>\n                  <p className=\"text-white/70 text-sm\">Connect with peers and instructors</p>\n                </div>\n              </div>\n            </div>\n\n            <div className=\"bg-white/15 backdrop-blur-sm rounded-xl p-4 hover:bg-white/20 transition-all duration-300 border border-white/20\">\n              <div className=\"flex items-center\">\n                <div className=\"w-10 h-10 bg-white/20 rounded-lg flex items-center justify-center mr-4\">\n                  <TrendingUp className=\"text-white\" size={20} />\n                </div>\n                <div>\n                  <h3 className=\"text-white font-semibold\">Progress Tracking</h3>\n                  <p className=\"text-white/70 text-sm\">Monitor your academic performance</p>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Background decoration */}\n        <div className=\"absolute top-0 right-0 w-64 h-64 bg-white/5 rounded-full -translate-y-32 translate-x-32\"></div>\n        <div className=\"absolute bottom-0 left-0 w-96 h-96 bg-white/5 rounded-full translate-y-48 -translate-x-48\"></div>\n      </div>\n\n      {/* Right Side - Authentication Forms */}\n      <div className=\"w-full lg:w-1/2 flex items-center justify-center p-6 lg:p-12\">\n        <AuthFormWrapper>\n          {renderCurrentForm()}\n        </AuthFormWrapper>\n      </div>\n    </div>\n  );\n}\n","path":null,"size_bytes":6470,"size_tokens":null},"client/src/components/ui/aspect-ratio.tsx":{"content":"import * as AspectRatioPrimitive from \"@radix-ui/react-aspect-ratio\"\n\nconst AspectRatio = AspectRatioPrimitive.Root\n\nexport { AspectRatio }\n","path":null,"size_bytes":140,"size_tokens":null},"client/src/components/dashboard/SetupProfile.tsx":{"content":"import { useState } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { zodResolver } from \"@hookform/resolvers/zod\";\nimport { useMutation, useQueryClient } from \"@tanstack/react-query\";\nimport { z } from \"zod\";\nimport { GraduationCap, BookOpen, CheckCircle } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Form, FormControl, FormField, FormItem, FormLabel, FormMessage } from \"@/components/ui/form\";\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\nimport { Checkbox } from \"@/components/ui/checkbox\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { apiRequest } from \"@/lib/queryClient\";\n\nconst setupSchema = z.object({\n  degreeProgram: z.string().min(1, \"Please select your degree program\"),\n  subjects: z.array(z.string()).min(1, \"Please select at least one subject\"),\n});\n\ntype SetupData = z.infer<typeof setupSchema>;\n\ninterface SetupProfileProps {\n  user: any;\n}\n\nconst degreePrograms = [\n  { value: \"BSCS\", label: \"BS Computer Science\" },\n  { value: \"BSIT\", label: \"BS Information Technology\" },\n  { value: \"BSSE\", label: \"BS Software Engineering\" },\n  { value: \"MCS\", label: \"MS Computer Science\" },\n  { value: \"MIT\", label: \"MS Information Technology\" },\n  { value: \"MBA\", label: \"Master of Business Administration\" },\n  { value: \"BBA\", label: \"Bachelor of Business Administration\" },\n  { value: \"BSPHY\", label: \"BS Physics\" },\n  { value: \"BSMATH\", label: \"BS Mathematics\" },\n];\n\nconst subjectsByDegree: Record<string, string[]> = {\n  BSCS: [\n    \"CS201 - Introduction to Programming\",\n    \"CS301 - Data Structures\",\n    \"CS401 - Computer Architecture\",\n    \"CS501 - Software Engineering\",\n    \"MTH601 - Operations Research\",\n    \"MTH632 - Differential Equations\",\n    \"STA630 - Research Methods\",\n  ],\n  BSIT: [\n    \"CS201 - Introduction to Programming\",\n    \"CS301 - Data Structures\", \n    \"IT430 - E-Commerce\",\n    \"IT630 - Knowledge Management\",\n    \"STA630 - Research Methods\",\n  ],\n  BSSE: [\n    \"CS201 - Introduction to Programming\",\n    \"CS301 - Data Structures\",\n    \"CS501 - Software Engineering\",\n    \"CS506 - Web Design and Development\",\n    \"SWE622 - Software Project Management\",\n  ],\n  MCS: [\n    \"CS701 - Advanced Computer Architecture\",\n    \"CS702 - Advanced Algorithms\",\n    \"CS703 - Advanced Database Systems\",\n    \"STA630 - Research Methods\",\n  ],\n  // Add more degree-specific subjects as needed\n};\n\nexport function SetupProfile({ user }: SetupProfileProps) {\n  const [step, setStep] = useState(1);\n  const { toast } = useToast();\n  const queryClient = useQueryClient();\n\n  const form = useForm<SetupData>({\n    resolver: zodResolver(setupSchema),\n    defaultValues: {\n      degreeProgram: \"\",\n      subjects: [],\n    },\n  });\n\n  const selectedDegree = form.watch(\"degreeProgram\");\n  const availableSubjects = selectedDegree ? subjectsByDegree[selectedDegree] || [] : [];\n\n  const setupMutation = useMutation({\n    mutationFn: async (data: SetupData) => {\n      const response = await apiRequest(\"POST\", \"/api/user/setup-profile\", data);\n      return response.json();\n    },\n    onSuccess: () => {\n      toast({\n        title: \"Profile Setup Complete\",\n        description: \"Welcome to VU Portal! You can now access all features.\",\n      });\n      // Invalidate and refetch user data\n      queryClient.invalidateQueries({ queryKey: [\"/api/auth/user\"] });\n    },\n    onError: (error: Error) => {\n      toast({\n        title: \"Setup Failed\",\n        description: error.message,\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  const onSubmit = (data: SetupData) => {\n    setupMutation.mutate(data);\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800 flex items-center justify-center p-6\">\n      <Card className=\"w-full max-w-2xl\">\n        <CardHeader className=\"text-center\">\n          <div className=\"w-16 h-16 bg-blue-100 dark:bg-blue-900 rounded-full flex items-center justify-center mx-auto mb-4\">\n            <GraduationCap className=\"text-blue-600 dark:text-blue-400\" size={32} />\n          </div>\n          <CardTitle className=\"text-2xl\">Welcome to VU Portal!</CardTitle>\n          <CardDescription>\n            Let's set up your profile to personalize your experience\n          </CardDescription>\n        </CardHeader>\n\n        <CardContent>\n          <Form {...form}>\n            <form onSubmit={form.handleSubmit(onSubmit)} className=\"space-y-6\">\n              {/* Step 1: Degree Program */}\n              <div className={`transition-opacity duration-300 ${step === 1 ? 'opacity-100' : 'opacity-50'}`}>\n                <FormField\n                  control={form.control}\n                  name=\"degreeProgram\"\n                  render={({ field }) => (\n                    <FormItem>\n                      <FormLabel className=\"text-lg font-semibold\">\n                        ðŸŽ“ Select Your Degree Program\n                      </FormLabel>\n                      <FormControl>\n                        <Select onValueChange={field.onChange} defaultValue={field.value}>\n                          <SelectTrigger className=\"h-12\">\n                            <SelectValue placeholder=\"Choose your degree program\" />\n                          </SelectTrigger>\n                          <SelectContent>\n                            {degreePrograms.map((degree) => (\n                              <SelectItem key={degree.value} value={degree.value}>\n                                {degree.label}\n                              </SelectItem>\n                            ))}\n                          </SelectContent>\n                        </Select>\n                      </FormControl>\n                      <FormMessage />\n                    </FormItem>\n                  )}\n                />\n\n                {selectedDegree && (\n                  <div className=\"mt-6\">\n                    <Button\n                      type=\"button\"\n                      onClick={() => setStep(2)}\n                      className=\"w-full\"\n                      size=\"lg\"\n                    >\n                      Next: Select Subjects\n                    </Button>\n                  </div>\n                )}\n              </div>\n\n              {/* Step 2: Subjects */}\n              {selectedDegree && (\n                <div className={`transition-opacity duration-300 ${step === 2 ? 'opacity-100' : 'opacity-50'}`}>\n                  <FormField\n                    control={form.control}\n                    name=\"subjects\"\n                    render={() => (\n                      <FormItem>\n                        <FormLabel className=\"text-lg font-semibold flex items-center\">\n                          <BookOpen className=\"mr-2\" size={20} />\n                          ðŸ“š Select Your Subjects\n                        </FormLabel>\n                        <FormControl>\n                          <div className=\"grid grid-cols-1 gap-3 max-h-60 overflow-y-auto p-4 border rounded-lg\">\n                            {availableSubjects.map((subject) => (\n                              <FormField\n                                key={subject}\n                                control={form.control}\n                                name=\"subjects\"\n                                render={({ field }) => (\n                                  <FormItem className=\"flex flex-row items-start space-x-3 space-y-0\">\n                                    <FormControl>\n                                      <Checkbox\n                                        checked={field.value?.includes(subject)}\n                                        onCheckedChange={(checked) => {\n                                          const updatedValues = checked\n                                            ? [...(field.value || []), subject]\n                                            : field.value?.filter((value) => value !== subject) || [];\n                                          field.onChange(updatedValues);\n                                        }}\n                                      />\n                                    </FormControl>\n                                    <FormLabel className=\"text-sm font-normal cursor-pointer\">\n                                      {subject}\n                                    </FormLabel>\n                                  </FormItem>\n                                )}\n                              />\n                            ))}\n                          </div>\n                        </FormControl>\n                        <FormMessage />\n                      </FormItem>\n                    )}\n                  />\n\n                  <div className=\"flex gap-3 mt-6\">\n                    <Button\n                      type=\"button\"\n                      variant=\"outline\"\n                      onClick={() => setStep(1)}\n                      className=\"flex-1\"\n                    >\n                      Back\n                    </Button>\n                    <Button\n                      type=\"submit\"\n                      disabled={setupMutation.isPending}\n                      className=\"flex-1\"\n                      size=\"lg\"\n                    >\n                      {setupMutation.isPending ? (\n                        \"Setting up...\"\n                      ) : (\n                        <>\n                          <CheckCircle className=\"mr-2\" size={20} />\n                          Complete Setup\n                        </>\n                      )}\n                    </Button>\n                  </div>\n                </div>\n              )}\n            </form>\n          </Form>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}","path":null,"size_bytes":9808,"size_tokens":null},"client/src/main.tsx":{"content":"import { createRoot } from \"react-dom/client\";\nimport App from \"./App\";\nimport \"./index.css\";\n\ncreateRoot(document.getElementById(\"root\")!).render(<App />);\n","path":null,"size_bytes":157,"size_tokens":null},"client/src/components/ui/toggle.tsx":{"content":"import * as React from \"react\"\nimport * as TogglePrimitive from \"@radix-ui/react-toggle\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst toggleVariants = cva(\n  \"inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 gap-2\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-transparent\",\n        outline:\n          \"border border-input bg-transparent hover:bg-accent hover:text-accent-foreground\",\n      },\n      size: {\n        default: \"h-10 px-3 min-w-10\",\n        sm: \"h-9 px-2.5 min-w-9\",\n        lg: \"h-11 px-5 min-w-11\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nconst Toggle = React.forwardRef<\n  React.ElementRef<typeof TogglePrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof TogglePrimitive.Root> &\n    VariantProps<typeof toggleVariants>\n>(({ className, variant, size, ...props }, ref) => (\n  <TogglePrimitive.Root\n    ref={ref}\n    className={cn(toggleVariants({ variant, size, className }))}\n    {...props}\n  />\n))\n\nToggle.displayName = TogglePrimitive.Root.displayName\n\nexport { Toggle, toggleVariants }\n","path":null,"size_bytes":1527,"size_tokens":null},"client/src/hooks/use-toast.ts":{"content":"import * as React from \"react\"\n\nimport type {\n  ToastActionElement,\n  ToastProps,\n} from \"@/components/ui/toast\"\n\nconst TOAST_LIMIT = 1\nconst TOAST_REMOVE_DELAY = 1000000\n\ntype ToasterToast = ToastProps & {\n  id: string\n  title?: React.ReactNode\n  description?: React.ReactNode\n  action?: ToastActionElement\n}\n\nconst actionTypes = {\n  ADD_TOAST: \"ADD_TOAST\",\n  UPDATE_TOAST: \"UPDATE_TOAST\",\n  DISMISS_TOAST: \"DISMISS_TOAST\",\n  REMOVE_TOAST: \"REMOVE_TOAST\",\n} as const\n\nlet count = 0\n\nfunction genId() {\n  count = (count + 1) % Number.MAX_SAFE_INTEGER\n  return count.toString()\n}\n\ntype ActionType = typeof actionTypes\n\ntype Action =\n  | {\n      type: ActionType[\"ADD_TOAST\"]\n      toast: ToasterToast\n    }\n  | {\n      type: ActionType[\"UPDATE_TOAST\"]\n      toast: Partial<ToasterToast>\n    }\n  | {\n      type: ActionType[\"DISMISS_TOAST\"]\n      toastId?: ToasterToast[\"id\"]\n    }\n  | {\n      type: ActionType[\"REMOVE_TOAST\"]\n      toastId?: ToasterToast[\"id\"]\n    }\n\ninterface State {\n  toasts: ToasterToast[]\n}\n\nconst toastTimeouts = new Map<string, ReturnType<typeof setTimeout>>()\n\nconst addToRemoveQueue = (toastId: string) => {\n  if (toastTimeouts.has(toastId)) {\n    return\n  }\n\n  const timeout = setTimeout(() => {\n    toastTimeouts.delete(toastId)\n    dispatch({\n      type: \"REMOVE_TOAST\",\n      toastId: toastId,\n    })\n  }, TOAST_REMOVE_DELAY)\n\n  toastTimeouts.set(toastId, timeout)\n}\n\nexport const reducer = (state: State, action: Action): State => {\n  switch (action.type) {\n    case \"ADD_TOAST\":\n      return {\n        ...state,\n        toasts: [action.toast, ...state.toasts].slice(0, TOAST_LIMIT),\n      }\n\n    case \"UPDATE_TOAST\":\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === action.toast.id ? { ...t, ...action.toast } : t\n        ),\n      }\n\n    case \"DISMISS_TOAST\": {\n      const { toastId } = action\n\n      // ! Side effects ! - This could be extracted into a dismissToast() action,\n      // but I'll keep it here for simplicity\n      if (toastId) {\n        addToRemoveQueue(toastId)\n      } else {\n        state.toasts.forEach((toast) => {\n          addToRemoveQueue(toast.id)\n        })\n      }\n\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === toastId || toastId === undefined\n            ? {\n                ...t,\n                open: false,\n              }\n            : t\n        ),\n      }\n    }\n    case \"REMOVE_TOAST\":\n      if (action.toastId === undefined) {\n        return {\n          ...state,\n          toasts: [],\n        }\n      }\n      return {\n        ...state,\n        toasts: state.toasts.filter((t) => t.id !== action.toastId),\n      }\n  }\n}\n\nconst listeners: Array<(state: State) => void> = []\n\nlet memoryState: State = { toasts: [] }\n\nfunction dispatch(action: Action) {\n  memoryState = reducer(memoryState, action)\n  listeners.forEach((listener) => {\n    listener(memoryState)\n  })\n}\n\ntype Toast = Omit<ToasterToast, \"id\">\n\nfunction toast({ ...props }: Toast) {\n  const id = genId()\n\n  const update = (props: ToasterToast) =>\n    dispatch({\n      type: \"UPDATE_TOAST\",\n      toast: { ...props, id },\n    })\n  const dismiss = () => dispatch({ type: \"DISMISS_TOAST\", toastId: id })\n\n  dispatch({\n    type: \"ADD_TOAST\",\n    toast: {\n      ...props,\n      id,\n      open: true,\n      onOpenChange: (open) => {\n        if (!open) dismiss()\n      },\n    },\n  })\n\n  return {\n    id: id,\n    dismiss,\n    update,\n  }\n}\n\nfunction useToast() {\n  const [state, setState] = React.useState<State>(memoryState)\n\n  React.useEffect(() => {\n    listeners.push(setState)\n    return () => {\n      const index = listeners.indexOf(setState)\n      if (index > -1) {\n        listeners.splice(index, 1)\n      }\n    }\n  }, [state])\n\n  return {\n    ...state,\n    toast,\n    dismiss: (toastId?: string) => dispatch({ type: \"DISMISS_TOAST\", toastId }),\n  }\n}\n\nexport { useToast, toast }\n","path":null,"size_bytes":3895,"size_tokens":null},"client/src/components/ui/breadcrumb.tsx":{"content":"import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { ChevronRight, MoreHorizontal } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Breadcrumb = React.forwardRef<\n  HTMLElement,\n  React.ComponentPropsWithoutRef<\"nav\"> & {\n    separator?: React.ReactNode\n  }\n>(({ ...props }, ref) => <nav ref={ref} aria-label=\"breadcrumb\" {...props} />)\nBreadcrumb.displayName = \"Breadcrumb\"\n\nconst BreadcrumbList = React.forwardRef<\n  HTMLOListElement,\n  React.ComponentPropsWithoutRef<\"ol\">\n>(({ className, ...props }, ref) => (\n  <ol\n    ref={ref}\n    className={cn(\n      \"flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5\",\n      className\n    )}\n    {...props}\n  />\n))\nBreadcrumbList.displayName = \"BreadcrumbList\"\n\nconst BreadcrumbItem = React.forwardRef<\n  HTMLLIElement,\n  React.ComponentPropsWithoutRef<\"li\">\n>(({ className, ...props }, ref) => (\n  <li\n    ref={ref}\n    className={cn(\"inline-flex items-center gap-1.5\", className)}\n    {...props}\n  />\n))\nBreadcrumbItem.displayName = \"BreadcrumbItem\"\n\nconst BreadcrumbLink = React.forwardRef<\n  HTMLAnchorElement,\n  React.ComponentPropsWithoutRef<\"a\"> & {\n    asChild?: boolean\n  }\n>(({ asChild, className, ...props }, ref) => {\n  const Comp = asChild ? Slot : \"a\"\n\n  return (\n    <Comp\n      ref={ref}\n      className={cn(\"transition-colors hover:text-foreground\", className)}\n      {...props}\n    />\n  )\n})\nBreadcrumbLink.displayName = \"BreadcrumbLink\"\n\nconst BreadcrumbPage = React.forwardRef<\n  HTMLSpanElement,\n  React.ComponentPropsWithoutRef<\"span\">\n>(({ className, ...props }, ref) => (\n  <span\n    ref={ref}\n    role=\"link\"\n    aria-disabled=\"true\"\n    aria-current=\"page\"\n    className={cn(\"font-normal text-foreground\", className)}\n    {...props}\n  />\n))\nBreadcrumbPage.displayName = \"BreadcrumbPage\"\n\nconst BreadcrumbSeparator = ({\n  children,\n  className,\n  ...props\n}: React.ComponentProps<\"li\">) => (\n  <li\n    role=\"presentation\"\n    aria-hidden=\"true\"\n    className={cn(\"[&>svg]:w-3.5 [&>svg]:h-3.5\", className)}\n    {...props}\n  >\n    {children ?? <ChevronRight />}\n  </li>\n)\nBreadcrumbSeparator.displayName = \"BreadcrumbSeparator\"\n\nconst BreadcrumbEllipsis = ({\n  className,\n  ...props\n}: React.ComponentProps<\"span\">) => (\n  <span\n    role=\"presentation\"\n    aria-hidden=\"true\"\n    className={cn(\"flex h-9 w-9 items-center justify-center\", className)}\n    {...props}\n  >\n    <MoreHorizontal className=\"h-4 w-4\" />\n    <span className=\"sr-only\">More</span>\n  </span>\n)\nBreadcrumbEllipsis.displayName = \"BreadcrumbElipssis\"\n\nexport {\n  Breadcrumb,\n  BreadcrumbList,\n  BreadcrumbItem,\n  BreadcrumbLink,\n  BreadcrumbPage,\n  BreadcrumbSeparator,\n  BreadcrumbEllipsis,\n}\n","path":null,"size_bytes":2712,"size_tokens":null},"client/src/components/dashboard/pages/AiChat.tsx":{"content":"export function AiChat({ user }: { user: any }) {\n  return (\n    <div>\n      <h2 className=\"text-2xl font-bold\">Ask AI</h2>\n      <p>AI chat functionality coming soon...</p>\n    </div>\n  );\n}","path":null,"size_bytes":191,"size_tokens":null},"client/src/components/ui/input-otp.tsx":{"content":"import * as React from \"react\"\nimport { OTPInput, OTPInputContext } from \"input-otp\"\nimport { Dot } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst InputOTP = React.forwardRef<\n  React.ElementRef<typeof OTPInput>,\n  React.ComponentPropsWithoutRef<typeof OTPInput>\n>(({ className, containerClassName, ...props }, ref) => (\n  <OTPInput\n    ref={ref}\n    containerClassName={cn(\n      \"flex items-center gap-2 has-[:disabled]:opacity-50\",\n      containerClassName\n    )}\n    className={cn(\"disabled:cursor-not-allowed\", className)}\n    {...props}\n  />\n))\nInputOTP.displayName = \"InputOTP\"\n\nconst InputOTPGroup = React.forwardRef<\n  React.ElementRef<\"div\">,\n  React.ComponentPropsWithoutRef<\"div\">\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"flex items-center\", className)} {...props} />\n))\nInputOTPGroup.displayName = \"InputOTPGroup\"\n\nconst InputOTPSlot = React.forwardRef<\n  React.ElementRef<\"div\">,\n  React.ComponentPropsWithoutRef<\"div\"> & { index: number }\n>(({ index, className, ...props }, ref) => {\n  const inputOTPContext = React.useContext(OTPInputContext)\n  const { char, hasFakeCaret, isActive } = inputOTPContext.slots[index]\n\n  return (\n    <div\n      ref={ref}\n      className={cn(\n        \"relative flex h-10 w-10 items-center justify-center border-y border-r border-input text-sm transition-all first:rounded-l-md first:border-l last:rounded-r-md\",\n        isActive && \"z-10 ring-2 ring-ring ring-offset-background\",\n        className\n      )}\n      {...props}\n    >\n      {char}\n      {hasFakeCaret && (\n        <div className=\"pointer-events-none absolute inset-0 flex items-center justify-center\">\n          <div className=\"h-4 w-px animate-caret-blink bg-foreground duration-1000\" />\n        </div>\n      )}\n    </div>\n  )\n})\nInputOTPSlot.displayName = \"InputOTPSlot\"\n\nconst InputOTPSeparator = React.forwardRef<\n  React.ElementRef<\"div\">,\n  React.ComponentPropsWithoutRef<\"div\">\n>(({ ...props }, ref) => (\n  <div ref={ref} role=\"separator\" {...props}>\n    <Dot />\n  </div>\n))\nInputOTPSeparator.displayName = \"InputOTPSeparator\"\n\nexport { InputOTP, InputOTPGroup, InputOTPSlot, InputOTPSeparator }\n","path":null,"size_bytes":2154,"size_tokens":null},"postcss.config.js":{"content":"export default {\n  plugins: {\n    tailwindcss: {},\n    autoprefixer: {},\n  },\n}\n","path":null,"size_bytes":80,"size_tokens":null},"client/src/components/ui/popover.tsx":{"content":"import * as React from \"react\"\nimport * as PopoverPrimitive from \"@radix-ui/react-popover\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Popover = PopoverPrimitive.Root\n\nconst PopoverTrigger = PopoverPrimitive.Trigger\n\nconst PopoverContent = React.forwardRef<\n  React.ElementRef<typeof PopoverPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof PopoverPrimitive.Content>\n>(({ className, align = \"center\", sideOffset = 4, ...props }, ref) => (\n  <PopoverPrimitive.Portal>\n    <PopoverPrimitive.Content\n      ref={ref}\n      align={align}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]\",\n        className\n      )}\n      {...props}\n    />\n  </PopoverPrimitive.Portal>\n))\nPopoverContent.displayName = PopoverPrimitive.Content.displayName\n\nexport { Popover, PopoverTrigger, PopoverContent }\n","path":null,"size_bytes":1280,"size_tokens":null},"client/src/components/ui/progress.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as ProgressPrimitive from \"@radix-ui/react-progress\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Progress = React.forwardRef<\n  React.ElementRef<typeof ProgressPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ProgressPrimitive.Root>\n>(({ className, value, ...props }, ref) => (\n  <ProgressPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative h-4 w-full overflow-hidden rounded-full bg-secondary\",\n      className\n    )}\n    {...props}\n  >\n    <ProgressPrimitive.Indicator\n      className=\"h-full w-full flex-1 bg-primary transition-all\"\n      style={{ transform: `translateX(-${100 - (value || 0)}%)` }}\n    />\n  </ProgressPrimitive.Root>\n))\nProgress.displayName = ProgressPrimitive.Root.displayName\n\nexport { Progress }\n","path":null,"size_bytes":791,"size_tokens":null},"client/src/components/ui/radio-group.tsx":{"content":"import * as React from \"react\"\nimport * as RadioGroupPrimitive from \"@radix-ui/react-radio-group\"\nimport { Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst RadioGroup = React.forwardRef<\n  React.ElementRef<typeof RadioGroupPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Root>\n>(({ className, ...props }, ref) => {\n  return (\n    <RadioGroupPrimitive.Root\n      className={cn(\"grid gap-2\", className)}\n      {...props}\n      ref={ref}\n    />\n  )\n})\nRadioGroup.displayName = RadioGroupPrimitive.Root.displayName\n\nconst RadioGroupItem = React.forwardRef<\n  React.ElementRef<typeof RadioGroupPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Item>\n>(({ className, ...props }, ref) => {\n  return (\n    <RadioGroupPrimitive.Item\n      ref={ref}\n      className={cn(\n        \"aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    >\n      <RadioGroupPrimitive.Indicator className=\"flex items-center justify-center\">\n        <Circle className=\"h-2.5 w-2.5 fill-current text-current\" />\n      </RadioGroupPrimitive.Indicator>\n    </RadioGroupPrimitive.Item>\n  )\n})\nRadioGroupItem.displayName = RadioGroupPrimitive.Item.displayName\n\nexport { RadioGroup, RadioGroupItem }\n","path":null,"size_bytes":1467,"size_tokens":null},"tailwind.config.ts":{"content":"import type { Config } from \"tailwindcss\";\n\nexport default {\n  darkMode: [\"class\"],\n  content: [\"./client/index.html\", \"./client/src/**/*.{js,jsx,ts,tsx}\"],\n  theme: {\n    extend: {\n      borderRadius: {\n        lg: \"var(--radius)\",\n        md: \"calc(var(--radius) - 2px)\",\n        sm: \"calc(var(--radius) - 4px)\",\n      },\n      colors: {\n        background: \"var(--background)\",\n        foreground: \"var(--foreground)\",\n        card: {\n          DEFAULT: \"var(--card)\",\n          foreground: \"var(--card-foreground)\",\n        },\n        popover: {\n          DEFAULT: \"var(--popover)\",\n          foreground: \"var(--popover-foreground)\",\n        },\n        primary: {\n          DEFAULT: \"var(--primary)\",\n          foreground: \"var(--primary-foreground)\",\n        },\n        secondary: {\n          DEFAULT: \"var(--secondary)\",\n          foreground: \"var(--secondary-foreground)\",\n        },\n        muted: {\n          DEFAULT: \"var(--muted)\",\n          foreground: \"var(--muted-foreground)\",\n        },\n        accent: {\n          DEFAULT: \"var(--accent)\",\n          foreground: \"var(--accent-foreground)\",\n        },\n        destructive: {\n          DEFAULT: \"var(--destructive)\",\n          foreground: \"var(--destructive-foreground)\",\n        },\n        border: \"var(--border)\",\n        input: \"var(--input)\",\n        ring: \"var(--ring)\",\n        chart: {\n          \"1\": \"var(--chart-1)\",\n          \"2\": \"var(--chart-2)\",\n          \"3\": \"var(--chart-3)\",\n          \"4\": \"var(--chart-4)\",\n          \"5\": \"var(--chart-5)\",\n        },\n        sidebar: {\n          DEFAULT: \"var(--sidebar-background)\",\n          foreground: \"var(--sidebar-foreground)\",\n          primary: \"var(--sidebar-primary)\",\n          \"primary-foreground\": \"var(--sidebar-primary-foreground)\",\n          accent: \"var(--sidebar-accent)\",\n          \"accent-foreground\": \"var(--sidebar-accent-foreground)\",\n          border: \"var(--sidebar-border)\",\n          ring: \"var(--sidebar-ring)\",\n        },\n      },\n      keyframes: {\n        \"accordion-down\": {\n          from: {\n            height: \"0\",\n          },\n          to: {\n            height: \"var(--radix-accordion-content-height)\",\n          },\n        },\n        \"accordion-up\": {\n          from: {\n            height: \"var(--radix-accordion-content-height)\",\n          },\n          to: {\n            height: \"0\",\n          },\n        },\n      },\n      animation: {\n        \"accordion-down\": \"accordion-down 0.2s ease-out\",\n        \"accordion-up\": \"accordion-up 0.2s ease-out\",\n      },\n    },\n  },\n  plugins: [require(\"tailwindcss-animate\"), require(\"@tailwindcss/typography\")],\n} satisfies Config;\n","path":null,"size_bytes":2627,"size_tokens":null},"server/db.ts":{"content":"import { Pool, neonConfig } from '@neondatabase/serverless';\nimport { drizzle } from 'drizzle-orm/neon-serverless';\nimport ws from \"ws\";\nimport * as schema from \"@shared/schema\";\n\nneonConfig.webSocketConstructor = ws;\n\nif (!process.env.DATABASE_URL) {\n  throw new Error(\n    \"DATABASE_URL must be set. Did you forget to provision a database?\",\n  );\n}\n\nexport const pool = new Pool({ connectionString: process.env.DATABASE_URL });\nexport const db = drizzle({ client: pool, schema });\n","path":null,"size_bytes":483,"size_tokens":null},"client/src/components/dashboard/pages/Solutions.tsx":{"content":"import { useState } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { zodResolver } from \"@hookform/resolvers/zod\";\nimport { useMutation, useQueryClient } from \"@tanstack/react-query\";\nimport { z } from \"zod\";\nimport { FileCheck, Send, AlertCircle, ThumbsUp, Users } from \"lucide-react\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Form, FormControl, FormField, FormItem, FormLabel, FormMessage } from \"@/components/ui/form\";\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { Input } from \"@/components/ui/input\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Alert, AlertDescription } from \"@/components/ui/alert\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { apiRequest } from \"@/lib/queryClient\";\n\nconst solutionSchema = z.object({\n  subject: z.string().min(1, \"Please select a subject\"),\n  solutionType: z.string().min(1, \"Please select solution type\"),\n  title: z.string().min(1, \"Title is required\"),\n  description: z.string().optional(),\n  content: z.string().min(1, \"Solution content is required\"),\n});\n\ntype SolutionData = z.infer<typeof solutionSchema>;\n\nconst solutionTypes = [\n  { value: \"assignment\", label: \"ðŸ“ Assignment Solution\" },\n  { value: \"gdb\", label: \"ðŸ’¬ GDB Solution\" },\n  { value: \"quiz\", label: \"â“ Quiz Solution\" },\n];\n\nexport function Solutions({ user }: { user: any }) {\n  const { toast } = useToast();\n  const queryClient = useQueryClient();\n\n  const form = useForm<SolutionData>({\n    resolver: zodResolver(solutionSchema),\n    defaultValues: {\n      subject: \"\",\n      solutionType: \"\",\n      title: \"\",\n      description: \"\",\n      content: \"\",\n    },\n  });\n\n  const solutionMutation = useMutation({\n    mutationFn: async (data: SolutionData) => {\n      const response = await apiRequest(\"POST\", \"/api/solutions\", data);\n      return response.json();\n    },\n    onSuccess: () => {\n      toast({\n        title: \"Solution Submitted\",\n        description: \"Your solution has been submitted for admin approval.\",\n      });\n      form.reset();\n      queryClient.invalidateQueries({ queryKey: [\"/api/solutions\"] });\n    },\n    onError: (error: Error) => {\n      toast({\n        title: \"Submission Failed\",\n        description: error.message,\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  const onSubmit = (data: SolutionData) => {\n    solutionMutation.mutate(data);\n  };\n\n  const subjects = user?.subjects || [];\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h1 className=\"text-3xl font-bold text-gray-900 dark:text-white\">Assignment & GDB Solutions</h1>\n          <p className=\"text-gray-500 dark:text-gray-400 mt-2\">\n            Share your solutions to help fellow VU students\n          </p>\n        </div>\n        <Badge variant=\"outline\" className=\"bg-green-50 text-green-700\">\n          ðŸ¤ Community Driven\n        </Badge>\n      </div>\n\n      <Alert>\n        <AlertCircle className=\"h-4 w-4\" />\n        <AlertDescription>\n          Submit your assignment and GDB solutions to help other students. All submissions require admin approval.\n          Solutions with helpful votes will earn you community badges!\n        </AlertDescription>\n      </Alert>\n\n      {/* Submit Solution Form */}\n      <Card>\n        <CardHeader>\n          <CardTitle className=\"flex items-center\">\n            <FileCheck className=\"mr-2\" size={24} />\n            Submit Your Solution\n          </CardTitle>\n          <CardDescription>\n            Share your assignment or GDB solution with detailed explanation\n          </CardDescription>\n        </CardHeader>\n        <CardContent>\n          <Form {...form}>\n            <form onSubmit={form.handleSubmit(onSubmit)} className=\"space-y-6\">\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                <FormField\n                  control={form.control}\n                  name=\"subject\"\n                  render={({ field }) => (\n                    <FormItem>\n                      <FormLabel>Subject</FormLabel>\n                      <FormControl>\n                        <Select onValueChange={field.onChange} defaultValue={field.value}>\n                          <SelectTrigger>\n                            <SelectValue placeholder=\"Select subject\" />\n                          </SelectTrigger>\n                          <SelectContent>\n                            {subjects.map((subject: string) => (\n                              <SelectItem key={subject} value={subject}>\n                                {subject}\n                              </SelectItem>\n                            ))}\n                          </SelectContent>\n                        </Select>\n                      </FormControl>\n                      <FormMessage />\n                    </FormItem>\n                  )}\n                />\n\n                <FormField\n                  control={form.control}\n                  name=\"solutionType\"\n                  render={({ field }) => (\n                    <FormItem>\n                      <FormLabel>Solution Type</FormLabel>\n                      <FormControl>\n                        <Select onValueChange={field.onChange} defaultValue={field.value}>\n                          <SelectTrigger>\n                            <SelectValue placeholder=\"Select type\" />\n                          </SelectTrigger>\n                          <SelectContent>\n                            {solutionTypes.map((type) => (\n                              <SelectItem key={type.value} value={type.value}>\n                                {type.label}\n                              </SelectItem>\n                            ))}\n                          </SelectContent>\n                        </Select>\n                      </FormControl>\n                      <FormMessage />\n                    </FormItem>\n                  )}\n                />\n              </div>\n\n              <FormField\n                control={form.control}\n                name=\"title\"\n                render={({ field }) => (\n                  <FormItem>\n                    <FormLabel>Solution Title</FormLabel>\n                    <FormControl>\n                      <Input\n                        placeholder=\"e.g., Assignment 1 Solution - Data Structures\"\n                        {...field}\n                      />\n                    </FormControl>\n                    <FormMessage />\n                  </FormItem>\n                )}\n              />\n\n              <FormField\n                control={form.control}\n                name=\"content\"\n                render={({ field }) => (\n                  <FormItem>\n                    <FormLabel>Solution Content</FormLabel>\n                    <FormControl>\n                      <Textarea\n                        placeholder=\"Provide your complete solution with step-by-step explanation...\"\n                        className=\"min-h-[300px]\"\n                        {...field}\n                      />\n                    </FormControl>\n                    <FormMessage />\n                  </FormItem>\n                )}\n              />\n\n              <FormField\n                control={form.control}\n                name=\"description\"\n                render={({ field }) => (\n                  <FormItem>\n                    <FormLabel>Additional Notes (Optional)</FormLabel>\n                    <FormControl>\n                      <Textarea\n                        placeholder=\"Any additional notes or tips for other students...\"\n                        {...field}\n                      />\n                    </FormControl>\n                    <FormMessage />\n                  </FormItem>\n                )}\n              />\n\n              <div className=\"flex justify-end\">\n                <Button\n                  type=\"submit\"\n                  disabled={solutionMutation.isPending}\n                  className=\"flex items-center\"\n                >\n                  {solutionMutation.isPending ? (\n                    \"Submitting...\"\n                  ) : (\n                    <>\n                      <Send className=\"mr-2\" size={16} />\n                      Submit Solution\n                    </>\n                  )}\n                </Button>\n              </div>\n            </form>\n          </Form>\n        </CardContent>\n      </Card>\n\n      {/* Recent Solutions */}\n      <Card>\n        <CardHeader>\n          <CardTitle>Community Solutions</CardTitle>\n          <CardDescription>\n            Browse solutions shared by fellow VU students\n          </CardDescription>\n        </CardHeader>\n        <CardContent>\n          <div className=\"text-center py-8 text-gray-500\">\n            <FileCheck className=\"mx-auto h-12 w-12 mb-4 opacity-50\" />\n            <p>No solutions available yet. Be the first to share your solution!</p>\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* Solution Stats */}\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n        <Card>\n          <CardContent className=\"p-4\">\n            <div className=\"flex items-center\">\n              <FileCheck className=\"h-8 w-8 text-blue-600\" />\n              <div className=\"ml-3\">\n                <p className=\"text-sm text-gray-500\">Total Solutions</p>\n                <p className=\"text-lg font-semibold\">0</p>\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n        \n        <Card>\n          <CardContent className=\"p-4\">\n            <div className=\"flex items-center\">\n              <ThumbsUp className=\"h-8 w-8 text-green-600\" />\n              <div className=\"ml-3\">\n                <p className=\"text-sm text-gray-500\">Helpful Votes</p>\n                <p className=\"text-lg font-semibold\">0</p>\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n\n        <Card>\n          <CardContent className=\"p-4\">\n            <div className=\"flex items-center\">\n              <Users className=\"h-8 w-8 text-purple-600\" />\n              <div className=\"ml-3\">\n                <p className=\"text-sm text-gray-500\">Contributors</p>\n                <p className=\"text-lg font-semibold\">0</p>\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n    </div>\n  );\n}","path":null,"size_bytes":10477,"size_tokens":null},"client/src/components/ui/scroll-area.tsx":{"content":"import * as React from \"react\"\nimport * as ScrollAreaPrimitive from \"@radix-ui/react-scroll-area\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ScrollArea = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.Root>\n>(({ className, children, ...props }, ref) => (\n  <ScrollAreaPrimitive.Root\n    ref={ref}\n    className={cn(\"relative overflow-hidden\", className)}\n    {...props}\n  >\n    <ScrollAreaPrimitive.Viewport className=\"h-full w-full rounded-[inherit]\">\n      {children}\n    </ScrollAreaPrimitive.Viewport>\n    <ScrollBar />\n    <ScrollAreaPrimitive.Corner />\n  </ScrollAreaPrimitive.Root>\n))\nScrollArea.displayName = ScrollAreaPrimitive.Root.displayName\n\nconst ScrollBar = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>\n>(({ className, orientation = \"vertical\", ...props }, ref) => (\n  <ScrollAreaPrimitive.ScrollAreaScrollbar\n    ref={ref}\n    orientation={orientation}\n    className={cn(\n      \"flex touch-none select-none transition-colors\",\n      orientation === \"vertical\" &&\n        \"h-full w-2.5 border-l border-l-transparent p-[1px]\",\n      orientation === \"horizontal\" &&\n        \"h-2.5 flex-col border-t border-t-transparent p-[1px]\",\n      className\n    )}\n    {...props}\n  >\n    <ScrollAreaPrimitive.ScrollAreaThumb className=\"relative flex-1 rounded-full bg-border\" />\n  </ScrollAreaPrimitive.ScrollAreaScrollbar>\n))\nScrollBar.displayName = ScrollAreaPrimitive.ScrollAreaScrollbar.displayName\n\nexport { ScrollArea, ScrollBar }\n","path":null,"size_bytes":1642,"size_tokens":null},"client/src/components/ui/chart.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as RechartsPrimitive from \"recharts\"\n\nimport { cn } from \"@/lib/utils\"\n\n// Format: { THEME_NAME: CSS_SELECTOR }\nconst THEMES = { light: \"\", dark: \".dark\" } as const\n\nexport type ChartConfig = {\n  [k in string]: {\n    label?: React.ReactNode\n    icon?: React.ComponentType\n  } & (\n    | { color?: string; theme?: never }\n    | { color?: never; theme: Record<keyof typeof THEMES, string> }\n  )\n}\n\ntype ChartContextProps = {\n  config: ChartConfig\n}\n\nconst ChartContext = React.createContext<ChartContextProps | null>(null)\n\nfunction useChart() {\n  const context = React.useContext(ChartContext)\n\n  if (!context) {\n    throw new Error(\"useChart must be used within a <ChartContainer />\")\n  }\n\n  return context\n}\n\nconst ChartContainer = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> & {\n    config: ChartConfig\n    children: React.ComponentProps<\n      typeof RechartsPrimitive.ResponsiveContainer\n    >[\"children\"]\n  }\n>(({ id, className, children, config, ...props }, ref) => {\n  const uniqueId = React.useId()\n  const chartId = `chart-${id || uniqueId.replace(/:/g, \"\")}`\n\n  return (\n    <ChartContext.Provider value={{ config }}>\n      <div\n        data-chart={chartId}\n        ref={ref}\n        className={cn(\n          \"flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none\",\n          className\n        )}\n        {...props}\n      >\n        <ChartStyle id={chartId} config={config} />\n        <RechartsPrimitive.ResponsiveContainer>\n          {children}\n        </RechartsPrimitive.ResponsiveContainer>\n      </div>\n    </ChartContext.Provider>\n  )\n})\nChartContainer.displayName = \"Chart\"\n\nconst ChartStyle = ({ id, config }: { id: string; config: ChartConfig }) => {\n  const colorConfig = Object.entries(config).filter(\n    ([, config]) => config.theme || config.color\n  )\n\n  if (!colorConfig.length) {\n    return null\n  }\n\n  return (\n    <style\n      dangerouslySetInnerHTML={{\n        __html: Object.entries(THEMES)\n          .map(\n            ([theme, prefix]) => `\n${prefix} [data-chart=${id}] {\n${colorConfig\n  .map(([key, itemConfig]) => {\n    const color =\n      itemConfig.theme?.[theme as keyof typeof itemConfig.theme] ||\n      itemConfig.color\n    return color ? `  --color-${key}: ${color};` : null\n  })\n  .join(\"\\n\")}\n}\n`\n          )\n          .join(\"\\n\"),\n      }}\n    />\n  )\n}\n\nconst ChartTooltip = RechartsPrimitive.Tooltip\n\nconst ChartTooltipContent = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<typeof RechartsPrimitive.Tooltip> &\n    React.ComponentProps<\"div\"> & {\n      hideLabel?: boolean\n      hideIndicator?: boolean\n      indicator?: \"line\" | \"dot\" | \"dashed\"\n      nameKey?: string\n      labelKey?: string\n    }\n>(\n  (\n    {\n      active,\n      payload,\n      className,\n      indicator = \"dot\",\n      hideLabel = false,\n      hideIndicator = false,\n      label,\n      labelFormatter,\n      labelClassName,\n      formatter,\n      color,\n      nameKey,\n      labelKey,\n    },\n    ref\n  ) => {\n    const { config } = useChart()\n\n    const tooltipLabel = React.useMemo(() => {\n      if (hideLabel || !payload?.length) {\n        return null\n      }\n\n      const [item] = payload\n      const key = `${labelKey || item?.dataKey || item?.name || \"value\"}`\n      const itemConfig = getPayloadConfigFromPayload(config, item, key)\n      const value =\n        !labelKey && typeof label === \"string\"\n          ? config[label as keyof typeof config]?.label || label\n          : itemConfig?.label\n\n      if (labelFormatter) {\n        return (\n          <div className={cn(\"font-medium\", labelClassName)}>\n            {labelFormatter(value, payload)}\n          </div>\n        )\n      }\n\n      if (!value) {\n        return null\n      }\n\n      return <div className={cn(\"font-medium\", labelClassName)}>{value}</div>\n    }, [\n      label,\n      labelFormatter,\n      payload,\n      hideLabel,\n      labelClassName,\n      config,\n      labelKey,\n    ])\n\n    if (!active || !payload?.length) {\n      return null\n    }\n\n    const nestLabel = payload.length === 1 && indicator !== \"dot\"\n\n    return (\n      <div\n        ref={ref}\n        className={cn(\n          \"grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl\",\n          className\n        )}\n      >\n        {!nestLabel ? tooltipLabel : null}\n        <div className=\"grid gap-1.5\">\n          {payload.map((item, index) => {\n            const key = `${nameKey || item.name || item.dataKey || \"value\"}`\n            const itemConfig = getPayloadConfigFromPayload(config, item, key)\n            const indicatorColor = color || item.payload.fill || item.color\n\n            return (\n              <div\n                key={item.dataKey}\n                className={cn(\n                  \"flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground\",\n                  indicator === \"dot\" && \"items-center\"\n                )}\n              >\n                {formatter && item?.value !== undefined && item.name ? (\n                  formatter(item.value, item.name, item, index, item.payload)\n                ) : (\n                  <>\n                    {itemConfig?.icon ? (\n                      <itemConfig.icon />\n                    ) : (\n                      !hideIndicator && (\n                        <div\n                          className={cn(\n                            \"shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]\",\n                            {\n                              \"h-2.5 w-2.5\": indicator === \"dot\",\n                              \"w-1\": indicator === \"line\",\n                              \"w-0 border-[1.5px] border-dashed bg-transparent\":\n                                indicator === \"dashed\",\n                              \"my-0.5\": nestLabel && indicator === \"dashed\",\n                            }\n                          )}\n                          style={\n                            {\n                              \"--color-bg\": indicatorColor,\n                              \"--color-border\": indicatorColor,\n                            } as React.CSSProperties\n                          }\n                        />\n                      )\n                    )}\n                    <div\n                      className={cn(\n                        \"flex flex-1 justify-between leading-none\",\n                        nestLabel ? \"items-end\" : \"items-center\"\n                      )}\n                    >\n                      <div className=\"grid gap-1.5\">\n                        {nestLabel ? tooltipLabel : null}\n                        <span className=\"text-muted-foreground\">\n                          {itemConfig?.label || item.name}\n                        </span>\n                      </div>\n                      {item.value && (\n                        <span className=\"font-mono font-medium tabular-nums text-foreground\">\n                          {item.value.toLocaleString()}\n                        </span>\n                      )}\n                    </div>\n                  </>\n                )}\n              </div>\n            )\n          })}\n        </div>\n      </div>\n    )\n  }\n)\nChartTooltipContent.displayName = \"ChartTooltip\"\n\nconst ChartLegend = RechartsPrimitive.Legend\n\nconst ChartLegendContent = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> &\n    Pick<RechartsPrimitive.LegendProps, \"payload\" | \"verticalAlign\"> & {\n      hideIcon?: boolean\n      nameKey?: string\n    }\n>(\n  (\n    { className, hideIcon = false, payload, verticalAlign = \"bottom\", nameKey },\n    ref\n  ) => {\n    const { config } = useChart()\n\n    if (!payload?.length) {\n      return null\n    }\n\n    return (\n      <div\n        ref={ref}\n        className={cn(\n          \"flex items-center justify-center gap-4\",\n          verticalAlign === \"top\" ? \"pb-3\" : \"pt-3\",\n          className\n        )}\n      >\n        {payload.map((item) => {\n          const key = `${nameKey || item.dataKey || \"value\"}`\n          const itemConfig = getPayloadConfigFromPayload(config, item, key)\n\n          return (\n            <div\n              key={item.value}\n              className={cn(\n                \"flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground\"\n              )}\n            >\n              {itemConfig?.icon && !hideIcon ? (\n                <itemConfig.icon />\n              ) : (\n                <div\n                  className=\"h-2 w-2 shrink-0 rounded-[2px]\"\n                  style={{\n                    backgroundColor: item.color,\n                  }}\n                />\n              )}\n              {itemConfig?.label}\n            </div>\n          )\n        })}\n      </div>\n    )\n  }\n)\nChartLegendContent.displayName = \"ChartLegend\"\n\n// Helper to extract item config from a payload.\nfunction getPayloadConfigFromPayload(\n  config: ChartConfig,\n  payload: unknown,\n  key: string\n) {\n  if (typeof payload !== \"object\" || payload === null) {\n    return undefined\n  }\n\n  const payloadPayload =\n    \"payload\" in payload &&\n    typeof payload.payload === \"object\" &&\n    payload.payload !== null\n      ? payload.payload\n      : undefined\n\n  let configLabelKey: string = key\n\n  if (\n    key in payload &&\n    typeof payload[key as keyof typeof payload] === \"string\"\n  ) {\n    configLabelKey = payload[key as keyof typeof payload] as string\n  } else if (\n    payloadPayload &&\n    key in payloadPayload &&\n    typeof payloadPayload[key as keyof typeof payloadPayload] === \"string\"\n  ) {\n    configLabelKey = payloadPayload[\n      key as keyof typeof payloadPayload\n    ] as string\n  }\n\n  return configLabelKey in config\n    ? config[configLabelKey]\n    : config[key as keyof typeof config]\n}\n\nexport {\n  ChartContainer,\n  ChartTooltip,\n  ChartTooltipContent,\n  ChartLegend,\n  ChartLegendContent,\n  ChartStyle,\n}\n","path":null,"size_bytes":10481,"size_tokens":null},"client/src/components/ui/slider.tsx":{"content":"import * as React from \"react\"\nimport * as SliderPrimitive from \"@radix-ui/react-slider\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Slider = React.forwardRef<\n  React.ElementRef<typeof SliderPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SliderPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <SliderPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative flex w-full touch-none select-none items-center\",\n      className\n    )}\n    {...props}\n  >\n    <SliderPrimitive.Track className=\"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary\">\n      <SliderPrimitive.Range className=\"absolute h-full bg-primary\" />\n    </SliderPrimitive.Track>\n    <SliderPrimitive.Thumb className=\"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50\" />\n  </SliderPrimitive.Root>\n))\nSlider.displayName = SliderPrimitive.Root.displayName\n\nexport { Slider }\n","path":null,"size_bytes":1077,"size_tokens":null},"client/src/components/ui/switch.tsx":{"content":"import * as React from \"react\"\nimport * as SwitchPrimitives from \"@radix-ui/react-switch\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Switch = React.forwardRef<\n  React.ElementRef<typeof SwitchPrimitives.Root>,\n  React.ComponentPropsWithoutRef<typeof SwitchPrimitives.Root>\n>(({ className, ...props }, ref) => (\n  <SwitchPrimitives.Root\n    className={cn(\n      \"peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  >\n    <SwitchPrimitives.Thumb\n      className={cn(\n        \"pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0\"\n      )}\n    />\n  </SwitchPrimitives.Root>\n))\nSwitch.displayName = SwitchPrimitives.Root.displayName\n\nexport { Switch }\n","path":null,"size_bytes":1139,"size_tokens":null},"client/src/components/ui/hover-card.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as HoverCardPrimitive from \"@radix-ui/react-hover-card\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst HoverCard = HoverCardPrimitive.Root\n\nconst HoverCardTrigger = HoverCardPrimitive.Trigger\n\nconst HoverCardContent = React.forwardRef<\n  React.ElementRef<typeof HoverCardPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof HoverCardPrimitive.Content>\n>(({ className, align = \"center\", sideOffset = 4, ...props }, ref) => (\n  <HoverCardPrimitive.Content\n    ref={ref}\n    align={align}\n    sideOffset={sideOffset}\n    className={cn(\n      \"z-50 w-64 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-hover-card-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nHoverCardContent.displayName = HoverCardPrimitive.Content.displayName\n\nexport { HoverCard, HoverCardTrigger, HoverCardContent }\n","path":null,"size_bytes":1251,"size_tokens":null},"client/src/components/dashboard/pages/Badges.tsx":{"content":"import { Award, Star, Users, Upload, MessageSquare, TrendingUp } from \"lucide-react\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Progress } from \"@/components/ui/progress\";\nimport { Button } from \"@/components/ui/button\";\n\ninterface BadgeInfo {\n  id: string;\n  name: string;\n  description: string;\n  icon: React.ReactNode;\n  color: string;\n  earned: boolean;\n  progress?: number;\n  requirement: string;\n}\n\nexport function Badges({ user }: { user: any }) {\n  const badges: BadgeInfo[] = [\n    {\n      id: 'first-upload',\n      name: 'First Contributor',\n      description: 'Upload your first study material',\n      icon: <Upload className=\"h-6 w-6\" />,\n      color: 'bg-blue-500',\n      earned: false,\n      progress: 0,\n      requirement: 'Upload 1 study material'\n    },\n    {\n      id: 'helpful-solver',\n      name: 'Helpful Solver',\n      description: 'Get 10 helpful votes on your solutions',\n      icon: <Star className=\"h-6 w-6\" />,\n      color: 'bg-yellow-500',\n      earned: false,\n      progress: 0,\n      requirement: 'Receive 10 helpful votes'\n    },\n    {\n      id: 'discussion-starter',\n      name: 'Discussion Starter',\n      description: 'Start 5 discussions in the community',\n      icon: <MessageSquare className=\"h-6 w-6\" />,\n      color: 'bg-green-500',\n      earned: false,\n      progress: 0,\n      requirement: 'Start 5 discussions'\n    },\n    {\n      id: 'community-star',\n      name: 'Community Star',\n      description: 'Get 50 likes across all your contributions',\n      icon: <TrendingUp className=\"h-6 w-6\" />,\n      color: 'bg-purple-500',\n      earned: false,\n      progress: 0,\n      requirement: 'Receive 50 total likes'\n    },\n    {\n      id: 'team-player',\n      name: 'Team Player',\n      description: 'Help 20 fellow students with solutions',\n      icon: <Users className=\"h-6 w-6\" />,\n      color: 'bg-indigo-500',\n      earned: false,\n      progress: 0,\n      requirement: 'Help 20 students'\n    },\n    {\n      id: 'knowledge-sharer',\n      name: 'Knowledge Sharer',\n      description: 'Upload 10 different study materials',\n      icon: <Award className=\"h-6 w-6\" />,\n      color: 'bg-orange-500',\n      earned: false,\n      progress: 0,\n      requirement: 'Upload 10 materials'\n    }\n  ];\n\n  const earnedBadges = badges.filter(badge => badge.earned);\n  const availableBadges = badges.filter(badge => !badge.earned);\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h1 className=\"text-3xl font-bold text-gray-900 dark:text-white\">Badges & Achievements</h1>\n          <p className=\"text-gray-500 dark:text-gray-400 mt-2\">\n            Earn badges by contributing to the VU community\n          </p>\n        </div>\n        <div className=\"text-right\">\n          <p className=\"text-2xl font-bold text-blue-600\">{earnedBadges.length}</p>\n          <p className=\"text-sm text-gray-500\">Badges Earned</p>\n        </div>\n      </div>\n\n      {/* Badge Progress Overview */}\n      <Card>\n        <CardHeader>\n          <CardTitle>Your Badge Progress</CardTitle>\n          <CardDescription>\n            Complete community activities to earn badges and recognition\n          </CardDescription>\n        </CardHeader>\n        <CardContent>\n          <div className=\"space-y-4\">\n            <div className=\"flex items-center justify-between\">\n              <span className=\"text-sm font-medium\">Overall Progress</span>\n              <span className=\"text-sm text-gray-500\">\n                {earnedBadges.length} of {badges.length} badges earned\n              </span>\n            </div>\n            <Progress value={(earnedBadges.length / badges.length) * 100} className=\"h-2\" />\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* Earned Badges */}\n      {earnedBadges.length > 0 && (\n        <div className=\"space-y-4\">\n          <h2 className=\"text-xl font-semibold flex items-center\">\n            <Award className=\"mr-2\" size={24} />\n            Earned Badges ({earnedBadges.length})\n          </h2>\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n            {earnedBadges.map((badge) => (\n              <Card key={badge.id} className=\"border-2 border-yellow-200 bg-yellow-50 dark:bg-yellow-900/20\">\n                <CardHeader className=\"pb-3\">\n                  <div className=\"flex items-center space-x-3\">\n                    <div className={`p-3 rounded-full ${badge.color} text-white`}>\n                      {badge.icon}\n                    </div>\n                    <div>\n                      <CardTitle className=\"text-lg\">{badge.name}</CardTitle>\n                      <Badge variant=\"secondary\" className=\"mt-1\">\n                        âœ… Earned\n                      </Badge>\n                    </div>\n                  </div>\n                </CardHeader>\n                <CardContent>\n                  <p className=\"text-gray-600 dark:text-gray-300\">{badge.description}</p>\n                  <p className=\"text-sm text-gray-500 mt-2\">{badge.requirement}</p>\n                </CardContent>\n              </Card>\n            ))}\n          </div>\n        </div>\n      )}\n\n      {/* Available Badges */}\n      <div className=\"space-y-4\">\n        <h2 className=\"text-xl font-semibold flex items-center\">\n          <Star className=\"mr-2\" size={24} />\n          Available Badges ({availableBadges.length})\n        </h2>\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n          {availableBadges.map((badge) => (\n            <Card key={badge.id} className=\"hover:shadow-lg transition-shadow\">\n              <CardHeader className=\"pb-3\">\n                <div className=\"flex items-center space-x-3\">\n                  <div className={`p-3 rounded-full ${badge.color} text-white opacity-60`}>\n                    {badge.icon}\n                  </div>\n                  <div>\n                    <CardTitle className=\"text-lg\">{badge.name}</CardTitle>\n                    <Badge variant=\"outline\" className=\"mt-1\">\n                      Not Earned\n                    </Badge>\n                  </div>\n                </div>\n              </CardHeader>\n              <CardContent className=\"space-y-3\">\n                <p className=\"text-gray-600 dark:text-gray-300\">{badge.description}</p>\n                <p className=\"text-sm text-gray-500\">{badge.requirement}</p>\n                {typeof badge.progress === 'number' && (\n                  <div className=\"space-y-2\">\n                    <div className=\"flex justify-between text-sm\">\n                      <span>Progress</span>\n                      <span>{badge.progress}%</span>\n                    </div>\n                    <Progress value={badge.progress} className=\"h-2\" />\n                  </div>\n                )}\n              </CardContent>\n            </Card>\n          ))}\n        </div>\n      </div>\n\n      {/* Badge Categories */}\n      <Card>\n        <CardHeader>\n          <CardTitle>Badge Categories</CardTitle>\n          <CardDescription>\n            Different ways to earn recognition in the VU community\n          </CardDescription>\n        </CardHeader>\n        <CardContent>\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\n            <div className=\"text-center p-4 border rounded-lg\">\n              <div className=\"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-2\">\n                <Upload className=\"h-6 w-6 text-blue-600\" />\n              </div>\n              <h3 className=\"font-semibold\">Contributor</h3>\n              <p className=\"text-sm text-gray-500\">Upload and share study materials</p>\n            </div>\n            <div className=\"text-center p-4 border rounded-lg\">\n              <div className=\"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-2\">\n                <MessageSquare className=\"h-6 w-6 text-green-600\" />\n              </div>\n              <h3 className=\"font-semibold\">Communicator</h3>\n              <p className=\"text-sm text-gray-500\">Start discussions and help others</p>\n            </div>\n            <div className=\"text-center p-4 border rounded-lg\">\n              <div className=\"w-12 h-12 bg-yellow-100 rounded-full flex items-center justify-center mx-auto mb-2\">\n                <Star className=\"h-6 w-6 text-yellow-600\" />\n              </div>\n              <h3 className=\"font-semibold\">Helper</h3>\n              <p className=\"text-sm text-gray-500\">Provide helpful solutions</p>\n            </div>\n            <div className=\"text-center p-4 border rounded-lg\">\n              <div className=\"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-2\">\n                <Users className=\"h-6 w-6 text-purple-600\" />\n              </div>\n              <h3 className=\"font-semibold\">Community</h3>\n              <p className=\"text-sm text-gray-500\">Build strong community connections</p>\n            </div>\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* Getting Started */}\n      {earnedBadges.length === 0 && (\n        <Card className=\"border-blue-200 bg-blue-50 dark:bg-blue-900/20\">\n          <CardHeader>\n            <CardTitle className=\"text-blue-800 dark:text-blue-200\">Start Your Badge Journey!</CardTitle>\n            <CardDescription className=\"text-blue-600 dark:text-blue-300\">\n              Here's how you can earn your first badge\n            </CardDescription>\n          </CardHeader>\n          <CardContent className=\"space-y-4\">\n            <div className=\"space-y-3\">\n              <div className=\"flex items-center space-x-3\">\n                <div className=\"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center\">\n                  <span className=\"text-sm font-bold text-blue-600\">1</span>\n                </div>\n                <p className=\"text-blue-800 dark:text-blue-200\">Upload your first study material to earn \"First Contributor\"</p>\n              </div>\n              <div className=\"flex items-center space-x-3\">\n                <div className=\"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center\">\n                  <span className=\"text-sm font-bold text-blue-600\">2</span>\n                </div>\n                <p className=\"text-blue-800 dark:text-blue-200\">Start a discussion to work towards \"Discussion Starter\"</p>\n              </div>\n              <div className=\"flex items-center space-x-3\">\n                <div className=\"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center\">\n                  <span className=\"text-sm font-bold text-blue-600\">3</span>\n                </div>\n                <p className=\"text-blue-800 dark:text-blue-200\">Help other students with solutions to become a \"Helpful Solver\"</p>\n              </div>\n            </div>\n            <div className=\"flex gap-2 pt-2\">\n              <Button className=\"bg-blue-600 hover:bg-blue-700\">Upload Material</Button>\n              <Button variant=\"outline\" className=\"border-blue-300 text-blue-600\">Start Discussion</Button>\n            </div>\n          </CardContent>\n        </Card>\n      )}\n    </div>\n  );\n}","path":null,"size_bytes":11219,"size_tokens":null},"drizzle.config.ts":{"content":"import { defineConfig } from \"drizzle-kit\";\n\nif (!process.env.DATABASE_URL) {\n  throw new Error(\"DATABASE_URL, ensure the database is provisioned\");\n}\n\nexport default defineConfig({\n  out: \"./migrations\",\n  schema: \"./shared/schema.ts\",\n  dialect: \"postgresql\",\n  dbCredentials: {\n    url: process.env.DATABASE_URL,\n  },\n});\n","path":null,"size_bytes":325,"size_tokens":null},"client/src/components/dashboard/DashboardContent.tsx":{"content":"import { DashboardHome } from \"./pages/DashboardHome\";\nimport { MySubjects } from \"./pages/MySubjects\";\nimport { UploadArea } from \"./pages/UploadArea\";\nimport { Solutions } from \"./pages/Solutions\";\nimport { Discussions } from \"./pages/Discussions\";\nimport { Announcements } from \"./pages/Announcements\";\nimport { AIChat } from \"./pages/AIChat\";\nimport { Badges } from \"./pages/Badges\";\nimport { About } from \"./pages/About\";\nimport { SettingsPage } from \"./pages/SettingsPage\";\n\ninterface DashboardContentProps {\n  user: any;\n  activePage: string;\n}\n\nexport function DashboardContent({ user, activePage }: DashboardContentProps) {\n  const renderPage = () => {\n    switch (activePage) {\n      case \"dashboard\":\n        return <DashboardHome user={user} />;\n      case \"subjects\":\n        return <MySubjects user={user} />;\n      case \"upload\":\n        return <UploadArea user={user} />;\n      case \"discussions\":\n        return <Discussions user={user} />;\n      case \"announcements\":\n        return <Announcements user={user} />;\n      case \"solutions\":\n        return <Solutions user={user} />;\n      case \"ai-chat\":\n        return <AIChat user={user} />;\n      case \"badges\":\n        return <Badges user={user} />;\n      case \"about\":\n        return <About user={user} />;\n      case \"settings\":\n        return <SettingsPage user={user} />;\n      case \"team\":\n        return <div className=\"p-8 text-center\"><h2 className=\"text-2xl font-bold\">Our Team - Coming Soon</h2></div>;\n      case \"exam-chat\":\n        return <div className=\"p-8 text-center\"><h2 className=\"text-2xl font-bold\">Exam Chat - Coming Soon</h2></div>;\n      case \"resources\":\n        return <div className=\"p-8 text-center\"><h2 className=\"text-2xl font-bold\">Subject Resources - Coming Soon</h2></div>;\n      default:\n        return <DashboardHome user={user} />;\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 dark:bg-gray-900\">\n      <div className=\"p-6\">\n        {renderPage()}\n      </div>\n    </div>\n  );\n}","path":null,"size_bytes":2004,"size_tokens":null},"client/src/components/dashboard/pages/SolutionsPage.tsx":{"content":"export function SolutionsPage({ user }: { user: any }) {\n  return (\n    <div>\n      <h2 className=\"text-2xl font-bold\">Assignment & GDB Solutions</h2>\n      <p>Solutions sharing coming soon...</p>\n    </div>\n  );\n}","path":null,"size_bytes":214,"size_tokens":null},"client/src/components/ui/toast.tsx":{"content":"import * as React from \"react\"\nimport * as ToastPrimitives from \"@radix-ui/react-toast\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ToastProvider = ToastPrimitives.Provider\n\nconst ToastViewport = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Viewport>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Viewport>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Viewport\n    ref={ref}\n    className={cn(\n      \"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]\",\n      className\n    )}\n    {...props}\n  />\n))\nToastViewport.displayName = ToastPrimitives.Viewport.displayName\n\nconst toastVariants = cva(\n  \"group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full\",\n  {\n    variants: {\n      variant: {\n        default: \"border bg-background text-foreground\",\n        destructive:\n          \"destructive group border-destructive bg-destructive text-destructive-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nconst Toast = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Root>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Root> &\n    VariantProps<typeof toastVariants>\n>(({ className, variant, ...props }, ref) => {\n  return (\n    <ToastPrimitives.Root\n      ref={ref}\n      className={cn(toastVariants({ variant }), className)}\n      {...props}\n    />\n  )\n})\nToast.displayName = ToastPrimitives.Root.displayName\n\nconst ToastAction = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Action>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Action>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Action\n    ref={ref}\n    className={cn(\n      \"inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive\",\n      className\n    )}\n    {...props}\n  />\n))\nToastAction.displayName = ToastPrimitives.Action.displayName\n\nconst ToastClose = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Close>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Close>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Close\n    ref={ref}\n    className={cn(\n      \"absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600\",\n      className\n    )}\n    toast-close=\"\"\n    {...props}\n  >\n    <X className=\"h-4 w-4\" />\n  </ToastPrimitives.Close>\n))\nToastClose.displayName = ToastPrimitives.Close.displayName\n\nconst ToastTitle = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Title>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Title>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Title\n    ref={ref}\n    className={cn(\"text-sm font-semibold\", className)}\n    {...props}\n  />\n))\nToastTitle.displayName = ToastPrimitives.Title.displayName\n\nconst ToastDescription = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Description>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Description>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Description\n    ref={ref}\n    className={cn(\"text-sm opacity-90\", className)}\n    {...props}\n  />\n))\nToastDescription.displayName = ToastPrimitives.Description.displayName\n\ntype ToastProps = React.ComponentPropsWithoutRef<typeof Toast>\n\ntype ToastActionElement = React.ReactElement<typeof ToastAction>\n\nexport {\n  type ToastProps,\n  type ToastActionElement,\n  ToastProvider,\n  ToastViewport,\n  Toast,\n  ToastTitle,\n  ToastDescription,\n  ToastClose,\n  ToastAction,\n}\n","path":null,"size_bytes":4845,"size_tokens":null},"client/src/components/ui/select.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as SelectPrimitive from \"@radix-ui/react-select\"\nimport { Check, ChevronDown, ChevronUp } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Select = SelectPrimitive.Root\n\nconst SelectGroup = SelectPrimitive.Group\n\nconst SelectValue = SelectPrimitive.Value\n\nconst SelectTrigger = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <SelectPrimitive.Icon asChild>\n      <ChevronDown className=\"h-4 w-4 opacity-50\" />\n    </SelectPrimitive.Icon>\n  </SelectPrimitive.Trigger>\n))\nSelectTrigger.displayName = SelectPrimitive.Trigger.displayName\n\nconst SelectScrollUpButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollUpButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollUpButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollUpButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronUp className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollUpButton>\n))\nSelectScrollUpButton.displayName = SelectPrimitive.ScrollUpButton.displayName\n\nconst SelectScrollDownButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollDownButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollDownButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollDownButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronDown className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollDownButton>\n))\nSelectScrollDownButton.displayName =\n  SelectPrimitive.ScrollDownButton.displayName\n\nconst SelectContent = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Content>\n>(({ className, children, position = \"popper\", ...props }, ref) => (\n  <SelectPrimitive.Portal>\n    <SelectPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]\",\n        position === \"popper\" &&\n          \"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1\",\n        className\n      )}\n      position={position}\n      {...props}\n    >\n      <SelectScrollUpButton />\n      <SelectPrimitive.Viewport\n        className={cn(\n          \"p-1\",\n          position === \"popper\" &&\n            \"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]\"\n        )}\n      >\n        {children}\n      </SelectPrimitive.Viewport>\n      <SelectScrollDownButton />\n    </SelectPrimitive.Content>\n  </SelectPrimitive.Portal>\n))\nSelectContent.displayName = SelectPrimitive.Content.displayName\n\nconst SelectLabel = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Label>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Label\n    ref={ref}\n    className={cn(\"py-1.5 pl-8 pr-2 text-sm font-semibold\", className)}\n    {...props}\n  />\n))\nSelectLabel.displayName = SelectPrimitive.Label.displayName\n\nconst SelectItem = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Item>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <SelectPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </SelectPrimitive.ItemIndicator>\n    </span>\n\n    <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\n  </SelectPrimitive.Item>\n))\nSelectItem.displayName = SelectPrimitive.Item.displayName\n\nconst SelectSeparator = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nSelectSeparator.displayName = SelectPrimitive.Separator.displayName\n\nexport {\n  Select,\n  SelectGroup,\n  SelectValue,\n  SelectTrigger,\n  SelectContent,\n  SelectLabel,\n  SelectItem,\n  SelectSeparator,\n  SelectScrollUpButton,\n  SelectScrollDownButton,\n}\n","path":null,"size_bytes":5742,"size_tokens":null},"client/src/components/ui/dialog.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Dialog = DialogPrimitive.Root\n\nconst DialogTrigger = DialogPrimitive.Trigger\n\nconst DialogPortal = DialogPrimitive.Portal\n\nconst DialogClose = DialogPrimitive.Close\n\nconst DialogOverlay = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Overlay\n    ref={ref}\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogOverlay.displayName = DialogPrimitive.Overlay.displayName\n\nconst DialogContent = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DialogPortal>\n    <DialogOverlay />\n    <DialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <DialogPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </DialogPrimitive.Close>\n    </DialogPrimitive.Content>\n  </DialogPortal>\n))\nDialogContent.displayName = DialogPrimitive.Content.displayName\n\nconst DialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-1.5 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogHeader.displayName = \"DialogHeader\"\n\nconst DialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogFooter.displayName = \"DialogFooter\"\n\nconst DialogTitle = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogTitle.displayName = DialogPrimitive.Title.displayName\n\nconst DialogDescription = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nDialogDescription.displayName = DialogPrimitive.Description.displayName\n\nexport {\n  Dialog,\n  DialogPortal,\n  DialogOverlay,\n  DialogClose,\n  DialogTrigger,\n  DialogContent,\n  DialogHeader,\n  DialogFooter,\n  DialogTitle,\n  DialogDescription,\n}\n","path":null,"size_bytes":3848,"size_tokens":null},"server/index.ts":{"content":"import express, { type Request, Response, NextFunction } from \"express\";\nimport session from \"express-session\";\nimport { registerRoutes } from \"./routes\";\nimport { setupVite, serveStatic, log } from \"./vite\";\n\nconst app = express();\napp.use(express.json());\napp.use(express.urlencoded({ extended: false }));\n\n// Session management\napp.use(session({\n  secret: process.env.SESSION_SECRET || 'vu-portal-secret-key',\n  resave: false,\n  saveUninitialized: false,\n  cookie: {\n    secure: false, // Set to true in production with HTTPS\n    httpOnly: true,\n    maxAge: 24 * 60 * 60 * 1000 // 24 hours\n  }\n}));\n\napp.use((req, res, next) => {\n  const start = Date.now();\n  const path = req.path;\n  let capturedJsonResponse: Record<string, any> | undefined = undefined;\n\n  const originalResJson = res.json;\n  res.json = function (bodyJson, ...args) {\n    capturedJsonResponse = bodyJson;\n    return originalResJson.apply(res, [bodyJson, ...args]);\n  };\n\n  res.on(\"finish\", () => {\n    const duration = Date.now() - start;\n    if (path.startsWith(\"/api\")) {\n      let logLine = `${req.method} ${path} ${res.statusCode} in ${duration}ms`;\n      if (capturedJsonResponse) {\n        logLine += ` :: ${JSON.stringify(capturedJsonResponse)}`;\n      }\n\n      if (logLine.length > 80) {\n        logLine = logLine.slice(0, 79) + \"â€¦\";\n      }\n\n      log(logLine);\n    }\n  });\n\n  next();\n});\n\n(async () => {\n  const server = await registerRoutes(app);\n\n  app.use((err: any, _req: Request, res: Response, _next: NextFunction) => {\n    const status = err.status || err.statusCode || 500;\n    const message = err.message || \"Internal Server Error\";\n\n    res.status(status).json({ message });\n    throw err;\n  });\n\n  // importantly only setup vite in development and after\n  // setting up all the other routes so the catch-all route\n  // doesn't interfere with the other routes\n  if (app.get(\"env\") === \"development\") {\n    await setupVite(app, server);\n  } else {\n    serveStatic(app);\n  }\n\n  // ALWAYS serve the app on the port specified in the environment variable PORT\n  // Other ports are firewalled. Default to 5000 if not specified.\n  // this serves both the API and the client.\n  // It is the only port that is not firewalled.\n  const port = parseInt(process.env.PORT || '5000', 10);\n  server.listen({\n    port,\n    host: \"0.0.0.0\",\n    reusePort: true,\n  }, () => {\n    log(`serving on port ${port}`);\n  });\n})();\n","path":null,"size_bytes":2399,"size_tokens":null},"replit.md":{"content":"# VU Portal - Replit Project Guide\n\n## Overview\n\nVU Portal is a full-stack web application for Virtual University of Pakistan, featuring a React frontend with Vite, Express.js backend, and PostgreSQL database using Drizzle ORM. The application implements a comprehensive authentication system with email verification via OTP codes, specifically designed for @vu.edu.pk email domains.\n\n## User Preferences\n\nPreferred communication style: Simple, everyday language.\n\n## System Architecture\n\n### Frontend Architecture\n- **Framework**: React 18 with TypeScript\n- **Build Tool**: Vite for fast development and optimized builds\n- **Styling**: Tailwind CSS with shadcn/ui component library\n- **State Management**: TanStack Query (React Query) for server state\n- **Routing**: Wouter for lightweight client-side routing\n- **Form Handling**: React Hook Form with Zod validation\n\n### Backend Architecture\n- **Framework**: Express.js with TypeScript\n- **Runtime**: Node.js with ESM modules\n- **API Style**: RESTful API design\n- **Middleware**: Built-in Express middleware for JSON parsing and logging\n\n### Database Architecture\n- **Database**: PostgreSQL (configured for Neon serverless)\n- **ORM**: Drizzle ORM with schema-first approach\n- **Connection**: Neon serverless connection pool with WebSocket support\n- **Migrations**: Drizzle Kit for schema migrations\n\n## Key Components\n\n### Authentication System\nThe application implements a multi-step authentication flow:\n\n1. **User Registration**: Collects username, full name, email (@vu.edu.pk), and password\n2. **Email Verification**: Generates 6-digit OTP codes with 10-minute expiry\n3. **Login System**: Email/password authentication with verification status check\n4. **Password Recovery**: Forgot password flow with OTP verification\n\n**Rationale**: Domain-restricted registration ensures only VU students can access the system, while OTP verification provides secure email validation.\n\n### Database Schema\n- **Users Table**: Stores user credentials and verification status\n- **OTP Codes Table**: Manages temporary verification codes with expiry\n\n**Storage Implementation**: Uses in-memory storage (`MemStorage`) for development with pending user functionality. Users are temporarily stored in `pendingUsers` table until OTP verification, then moved to main `users` table upon successful verification.\n\n### UI Components\nBuilt on shadcn/ui component system providing:\n- Consistent design language\n- Accessibility features\n- Dark/light mode support\n- Responsive design patterns\n\n## Data Flow\n\n### Authentication Flow\n1. User submits registration form\n2. Server validates domain restriction (@vu.edu.pk)\n3. Password hashed using bcrypt\n4. User data temporarily stored in `pendingUsers` table\n5. OTP generated and displayed in console with clear formatting\n6. User enters OTP for verification\n7. Upon successful OTP verification, user data moves to main `users` table\n8. Account fully activated and ready for login\n\n### Recent Bug Fixes (January 2025)\n- **Fixed OTP Page Navigation**: Back button now shows \"Back to Sign Up\" when coming from signup flow\n- **Secure Registration Flow**: User data only saved after OTP verification, preventing incomplete registrations\n- **Console-based OTP Display**: OTP codes clearly displayed in console with emojis and user details for development testing\n- **Admin User System**: Implemented admin account (abdulmannan32519@gmail.com) that bypasses OTP verification\n- **Role-based Authentication**: Admin users login directly, students require @vu.edu.pk emails and OTP verification\n- **Complete Password Reset Flow**: Added forgot password â†’ OTP verification â†’ password reset â†’ login flow\n- **Fixed Login Bug**: Verified users can now login without being redirected to OTP page\n\n### API Communication\n- Frontend uses TanStack Query for API state management\n- Custom `apiRequest` helper handles HTTP requests with error handling\n- Toast notifications provide user feedback\n- Form validation occurs client-side with server-side confirmation\n\n## External Dependencies\n\n### Core Dependencies\n- **@neondatabase/serverless**: PostgreSQL connection for Neon database\n- **drizzle-orm**: Type-safe database queries and schema management\n- **bcrypt**: Password hashing for security\n- **@radix-ui/***: Accessible component primitives\n- **@tanstack/react-query**: Server state management\n- **wouter**: Lightweight routing\n- **zod**: Runtime type validation\n\n### Development Tools\n- **Vite**: Fast development server and build tool\n- **TypeScript**: Type safety and better developer experience\n- **Tailwind CSS**: Utility-first styling\n- **ESBuild**: Fast bundling for production\n\n## Deployment Strategy\n\n### Build Process\n1. **Frontend**: Vite builds optimized React application to `dist/public`\n2. **Backend**: ESBuild bundles Express server to `dist/index.js`\n3. **Database**: Drizzle migrations applied via `db:push` command\n\n### Environment Configuration\n- `DATABASE_URL`: PostgreSQL connection string (required)\n- `NODE_ENV`: Environment mode (development/production)\n\n### Scripts\n- `dev`: Development server with hot reloading\n- `build`: Production build for both frontend and backend\n- `start`: Production server startup\n- `db:push`: Apply database schema changes\n\n### Architecture Decisions\n\n**Monorepo Structure**: Keeps related code together while maintaining clear separation between client, server, and shared code.\n\n**Shared Schema**: Common validation schemas between frontend and backend ensure consistency and reduce duplication.\n\n**Serverless Database**: Neon PostgreSQL provides scalable, managed database without infrastructure overhead.\n\n**Component Library**: shadcn/ui provides professionally designed, accessible components while maintaining customization flexibility.\n\n**Type Safety**: Full TypeScript coverage from database to UI ensures runtime reliability and better developer experience.","path":null,"size_bytes":5886,"size_tokens":null},"client/src/components/ui/navigation-menu.tsx":{"content":"import * as React from \"react\"\nimport * as NavigationMenuPrimitive from \"@radix-ui/react-navigation-menu\"\nimport { cva } from \"class-variance-authority\"\nimport { ChevronDown } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst NavigationMenu = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Root>\n>(({ className, children, ...props }, ref) => (\n  <NavigationMenuPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative z-10 flex max-w-max flex-1 items-center justify-center\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <NavigationMenuViewport />\n  </NavigationMenuPrimitive.Root>\n))\nNavigationMenu.displayName = NavigationMenuPrimitive.Root.displayName\n\nconst NavigationMenuList = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.List\n    ref={ref}\n    className={cn(\n      \"group flex flex-1 list-none items-center justify-center space-x-1\",\n      className\n    )}\n    {...props}\n  />\n))\nNavigationMenuList.displayName = NavigationMenuPrimitive.List.displayName\n\nconst NavigationMenuItem = NavigationMenuPrimitive.Item\n\nconst navigationMenuTriggerStyle = cva(\n  \"group inline-flex h-10 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground focus:outline-none disabled:pointer-events-none disabled:opacity-50 data-[state=open]:text-accent-foreground data-[state=open]:bg-accent/50 data-[state=open]:hover:bg-accent data-[state=open]:focus:bg-accent\"\n)\n\nconst NavigationMenuTrigger = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <NavigationMenuPrimitive.Trigger\n    ref={ref}\n    className={cn(navigationMenuTriggerStyle(), \"group\", className)}\n    {...props}\n  >\n    {children}{\" \"}\n    <ChevronDown\n      className=\"relative top-[1px] ml-1 h-3 w-3 transition duration-200 group-data-[state=open]:rotate-180\"\n      aria-hidden=\"true\"\n    />\n  </NavigationMenuPrimitive.Trigger>\n))\nNavigationMenuTrigger.displayName = NavigationMenuPrimitive.Trigger.displayName\n\nconst NavigationMenuContent = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.Content\n    ref={ref}\n    className={cn(\n      \"left-0 top-0 w-full data-[motion^=from-]:animate-in data-[motion^=to-]:animate-out data-[motion^=from-]:fade-in data-[motion^=to-]:fade-out data-[motion=from-end]:slide-in-from-right-52 data-[motion=from-start]:slide-in-from-left-52 data-[motion=to-end]:slide-out-to-right-52 data-[motion=to-start]:slide-out-to-left-52 md:absolute md:w-auto \",\n      className\n    )}\n    {...props}\n  />\n))\nNavigationMenuContent.displayName = NavigationMenuPrimitive.Content.displayName\n\nconst NavigationMenuLink = NavigationMenuPrimitive.Link\n\nconst NavigationMenuViewport = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Viewport>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Viewport>\n>(({ className, ...props }, ref) => (\n  <div className={cn(\"absolute left-0 top-full flex justify-center\")}>\n    <NavigationMenuPrimitive.Viewport\n      className={cn(\n        \"origin-top-center relative mt-1.5 h-[var(--radix-navigation-menu-viewport-height)] w-full overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-90 md:w-[var(--radix-navigation-menu-viewport-width)]\",\n        className\n      )}\n      ref={ref}\n      {...props}\n    />\n  </div>\n))\nNavigationMenuViewport.displayName =\n  NavigationMenuPrimitive.Viewport.displayName\n\nconst NavigationMenuIndicator = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Indicator>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Indicator>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.Indicator\n    ref={ref}\n    className={cn(\n      \"top-full z-[1] flex h-1.5 items-end justify-center overflow-hidden data-[state=visible]:animate-in data-[state=hidden]:animate-out data-[state=hidden]:fade-out data-[state=visible]:fade-in\",\n      className\n    )}\n    {...props}\n  >\n    <div className=\"relative top-[60%] h-2 w-2 rotate-45 rounded-tl-sm bg-border shadow-md\" />\n  </NavigationMenuPrimitive.Indicator>\n))\nNavigationMenuIndicator.displayName =\n  NavigationMenuPrimitive.Indicator.displayName\n\nexport {\n  navigationMenuTriggerStyle,\n  NavigationMenu,\n  NavigationMenuList,\n  NavigationMenuItem,\n  NavigationMenuContent,\n  NavigationMenuTrigger,\n  NavigationMenuLink,\n  NavigationMenuIndicator,\n  NavigationMenuViewport,\n}\n","path":null,"size_bytes":5128,"size_tokens":null},"client/src/providers/ThemeProvider.tsx":{"content":"import { createContext, useContext, useEffect, useState } from \"react\";\n\ntype Theme = \"light\" | \"dark\";\n\ninterface ThemeContextType {\n  theme: Theme;\n  setTheme: (theme: Theme) => void;\n  toggleTheme: () => void;\n}\n\nconst ThemeContext = createContext<ThemeContextType | undefined>(undefined);\n\nexport function ThemeProvider({ children }: { children: React.ReactNode }) {\n  const [theme, setTheme] = useState<Theme>(() => {\n    // Get theme from localStorage or default to light (only in browser)\n    if (typeof window !== \"undefined\") {\n      const saved = localStorage.getItem(\"vu-portal-theme\");\n      const initialTheme = (saved as Theme) || \"light\";\n      // Set initial class before hydration\n      document.documentElement.classList.toggle(\"dark\", initialTheme === \"dark\");\n      return initialTheme;\n    }\n    return \"light\";\n  });\n\n  useEffect(() => {\n    // Update document class and localStorage when theme changes\n    if (typeof window !== \"undefined\") {\n      document.documentElement.classList.toggle(\"dark\", theme === \"dark\");\n      localStorage.setItem(\"vu-portal-theme\", theme);\n    }\n  }, [theme]);\n\n  const toggleTheme = () => {\n    setTheme(theme === \"light\" ? \"dark\" : \"light\");\n  };\n\n  return (\n    <ThemeContext.Provider value={{ theme, setTheme, toggleTheme }}>\n      {children}\n    </ThemeContext.Provider>\n  );\n}\n\nexport function useTheme() {\n  const context = useContext(ThemeContext);\n  if (context === undefined) {\n    throw new Error(\"useTheme must be used within a ThemeProvider\");\n  }\n  return context;\n}","path":null,"size_bytes":1535,"size_tokens":null},"client/src/components/dashboard/pages/ExamChat.tsx":{"content":"export function ExamChat({ user }: { user: any }) {\n  return (\n    <div>\n      <h2 className=\"text-2xl font-bold\">Exam-Time Chat</h2>\n      <p>Exam chat functionality coming soon...</p>\n    </div>\n  );\n}","path":null,"size_bytes":203,"size_tokens":null},"client/src/components/auth/OTPVerificationForm.tsx":{"content":"import { useState, useRef, useEffect } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { zodResolver } from \"@hookform/resolvers/zod\";\nimport { useMutation } from \"@tanstack/react-query\";\nimport { ArrowLeft, Check, Smartphone } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Form, FormControl, FormField, FormItem, FormLabel, FormMessage } from \"@/components/ui/form\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { apiRequest } from \"@/lib/queryClient\";\nimport { otpVerificationSchema, type OTPVerificationData } from \"@shared/schema\";\n\ninterface OTPVerificationFormProps {\n  email: string;\n  fromSignup?: boolean;\n  onSwitchToLogin: () => void;\n  onSwitchToSignup: () => void;\n  onSwitchToForgotPassword: () => void;\n  onSwitchToResetPassword?: (email: string, code: string) => void;\n}\n\nexport function OTPVerificationForm({ email, fromSignup = false, onSwitchToLogin, onSwitchToSignup, onSwitchToForgotPassword, onSwitchToResetPassword }: OTPVerificationFormProps) {\n  const [otp, setOtp] = useState([\"\", \"\", \"\", \"\", \"\", \"\"]);\n  const [timer, setTimer] = useState(300); // 5 minutes\n  const [canResend, setCanResend] = useState(false);\n  const inputRefs = useRef<(HTMLInputElement | null)[]>([]);\n  const { toast } = useToast();\n\n  const form = useForm<OTPVerificationData>({\n    resolver: zodResolver(otpVerificationSchema),\n    defaultValues: {\n      email,\n      code: \"\",\n    },\n  });\n\n  // Timer countdown\n  useEffect(() => {\n    if (timer > 0) {\n      const interval = setInterval(() => {\n        setTimer((prev) => prev - 1);\n      }, 1000);\n      return () => clearInterval(interval);\n    } else {\n      setCanResend(true);\n    }\n  }, [timer]);\n\n  // Format timer display\n  const formatTime = (seconds: number) => {\n    const mins = Math.floor(seconds / 60);\n    const secs = seconds % 60;\n    return `${mins.toString().padStart(2, \"0\")}:${secs.toString().padStart(2, \"0\")}`;\n  };\n\n  const verifyOtpMutation = useMutation({\n    mutationFn: async (data: OTPVerificationData) => {\n      const response = await apiRequest(\"POST\", \"/api/auth/verify-otp\", data);\n      return response.json();\n    },\n    onSuccess: (data: any) => {\n      if (data.canResetPassword && !fromSignup) {\n        // This is from forgot password flow - allow user to reset password\n        toast({\n          title: \"OTP Verified\",\n          description: \"Please set your new password.\",\n        });\n        onSwitchToResetPassword?.(email, form.getValues(\"code\"));\n      } else {\n        // This is from signup flow - proceed to login\n        toast({\n          title: \"Email Verified Successfully\",\n          description: \"You can now login to your account.\",\n        });\n        onSwitchToLogin();\n      }\n    },\n    onError: (error: any) => {\n      toast({\n        title: \"Verification Failed\",\n        description: error.message || \"Invalid or expired verification code\",\n        variant: \"destructive\",\n      });\n      // Clear OTP inputs\n      setOtp([\"\", \"\", \"\", \"\", \"\", \"\"]);\n      inputRefs.current[0]?.focus();\n    },\n  });\n\n  const resendOtpMutation = useMutation({\n    mutationFn: async () => {\n      const response = await apiRequest(\"POST\", \"/api/auth/resend-otp\", { email });\n      return response.json();\n    },\n    onSuccess: () => {\n      toast({\n        title: \"Code Resent\",\n        description: \"A new verification code has been sent to your email.\",\n      });\n      setTimer(300);\n      setCanResend(false);\n      setOtp([\"\", \"\", \"\", \"\", \"\", \"\"]);\n      inputRefs.current[0]?.focus();\n    },\n    onError: (error: any) => {\n      toast({\n        title: \"Resend Failed\",\n        description: error.message || \"Failed to resend verification code\",\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  const handleOtpChange = (index: number, value: string) => {\n    if (value.length > 1) return;\n    if (!/^\\d*$/.test(value)) return;\n\n    const newOtp = [...otp];\n    newOtp[index] = value;\n    setOtp(newOtp);\n\n    // Auto-focus next input\n    if (value && index < 5) {\n      inputRefs.current[index + 1]?.focus();\n    }\n\n    // Auto-submit when all digits are filled\n    if (newOtp.every(digit => digit !== \"\")) {\n      const otpCode = newOtp.join(\"\");\n      form.setValue(\"code\", otpCode);\n      verifyOtpMutation.mutate({ email, code: otpCode });\n    }\n  };\n\n  const handleKeyDown = (index: number, e: React.KeyboardEvent) => {\n    if (e.key === \"Backspace\" && !otp[index] && index > 0) {\n      inputRefs.current[index - 1]?.focus();\n    }\n  };\n\n  const handleResend = () => {\n    if (canResend && !resendOtpMutation.isPending) {\n      resendOtpMutation.mutate();\n    }\n  };\n\n  return (\n    <div>\n      <div className=\"text-center mb-8\">\n        <div className=\"inline-flex items-center justify-center w-16 h-16 bg-green-100 rounded-full mb-4\">\n          <Smartphone className=\"text-green-600\" size={24} />\n        </div>\n        <h2 className=\"text-2xl font-bold text-gray-800 mb-2\">Enter Verification Code</h2>\n        <p className=\"text-gray-500 mb-2\">We've sent a 6-digit code to</p>\n        <p className=\"text-blue-600 font-semibold\">{email}</p>\n      </div>\n\n      <Form {...form}>\n        <form onSubmit={form.handleSubmit(() => {})} className=\"space-y-6\">\n          <div>\n            <FormLabel className=\"block text-sm font-medium text-gray-700 mb-4 text-center\">\n              Verification Code\n            </FormLabel>\n            <div className=\"flex space-x-3 justify-center\">\n              {otp.map((digit, index) => (\n                <input\n                  key={index}\n                  ref={(el) => (inputRefs.current[index] = el)}\n                  type=\"text\"\n                  maxLength={1}\n                  value={digit}\n                  onChange={(e) => handleOtpChange(index, e.target.value)}\n                  onKeyDown={(e) => handleKeyDown(index, e)}\n                  className=\"w-12 h-12 text-center border border-gray-300 rounded-lg text-xl font-bold focus:ring-2 focus:ring-green-500 focus:border-transparent outline-none transition-all\"\n                />\n              ))}\n            </div>\n            <FormMessage />\n          </div>\n\n          <div className=\"text-center\">\n            <p className=\"text-gray-500 text-sm mb-4\">\n              Didn't receive the code?{\" \"}\n              <button\n                type=\"button\"\n                onClick={handleResend}\n                disabled={!canResend || resendOtpMutation.isPending}\n                className={`font-semibold transition-colors ${\n                  canResend && !resendOtpMutation.isPending\n                    ? \"text-purple-600 hover:text-purple-800 cursor-pointer\"\n                    : \"text-gray-400 cursor-not-allowed\"\n                }`}\n              >\n                {resendOtpMutation.isPending ? \"Sending...\" : \"Resend Code\"}\n              </button>\n            </p>\n            {!canResend && (\n              <p className=\"text-gray-400 text-xs\">Code expires in {formatTime(timer)}</p>\n            )}\n          </div>\n\n          <Button\n            type=\"button\"\n            variant=\"success\"\n            className=\"w-full\"\n            disabled={verifyOtpMutation.isPending || otp.some(digit => digit === \"\")}\n            onClick={() => {\n              const otpCode = otp.join(\"\");\n              if (otpCode.length === 6) {\n                verifyOtpMutation.mutate({ email, code: otpCode });\n              }\n            }}\n          >\n            {verifyOtpMutation.isPending ? \"Verifying...\" : \"Verify Code\"}\n            <Check className=\"ml-2\" size={16} />\n          </Button>\n        </form>\n      </Form>\n\n      {/* Back Button */}\n      <div className=\"mt-6 text-center\">\n        <button\n          onClick={fromSignup ? onSwitchToSignup : onSwitchToForgotPassword}\n          className=\"text-blue-600 hover:text-purple-600 font-semibold transition-colors flex items-center justify-center w-full\"\n        >\n          <ArrowLeft className=\"mr-2\" size={16} />\n          {fromSignup ? \"Back to Sign Up\" : \"Back to Reset Password\"}\n        </button>\n      </div>\n    </div>\n  );\n}\n","path":null,"size_bytes":8062,"size_tokens":null},"client/src/components/dashboard/pages/SettingsPage.tsx":{"content":"import { useState } from \"react\";\nimport { useMutation, useQueryClient } from \"@tanstack/react-query\";\nimport { Settings, Moon, Sun, User, BookOpen, Palette } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Switch } from \"@/components/ui/switch\";\nimport { Label } from \"@/components/ui/label\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Separator } from \"@/components/ui/separator\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { useTheme } from \"@/providers/ThemeProvider\";\nimport { SetupProfile } from \"../SetupProfile\";\n\nexport function SettingsPage({ user }: { user: any }) {\n  const [showProfileEdit, setShowProfileEdit] = useState(false);\n  const { theme, toggleTheme } = useTheme();\n  const { toast } = useToast();\n  const queryClient = useQueryClient();\n\n  const logoutMutation = useMutation({\n    mutationFn: async () => {\n      const response = await fetch(\"/api/auth/logout\", {\n        method: \"POST\",\n        credentials: \"include\",\n      });\n      if (!response.ok) throw new Error(\"Logout failed\");\n      return response.json();\n    },\n    onSuccess: () => {\n      toast({\n        title: \"Logged Out\",\n        description: \"You have been successfully logged out.\",\n      });\n      // Invalidate user data and redirect\n      queryClient.invalidateQueries({ queryKey: [\"/api/auth/user\"] });\n      window.location.href = \"/auth\";\n    },\n    onError: () => {\n      toast({\n        title: \"Logout Failed\",\n        description: \"There was an error logging out. Please try again.\",\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  const handleLogout = () => {\n    logoutMutation.mutate();\n  };\n\n  if (showProfileEdit) {\n    return (\n      <div className=\"space-y-6\">\n        <div className=\"flex items-center justify-between\">\n          <div>\n            <h1 className=\"text-2xl font-bold text-gray-900 dark:text-white\">Edit Profile</h1>\n            <p className=\"text-gray-600 dark:text-gray-300\">Update your degree program and subjects</p>\n          </div>\n          <Button \n            variant=\"outline\" \n            onClick={() => setShowProfileEdit(false)}\n            data-testid=\"button-back-to-settings\"\n          >\n            Back to Settings\n          </Button>\n        </div>\n        <SetupProfile user={user} />\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex items-center space-x-3\">\n        <Settings className=\"h-8 w-8 text-blue-600\" />\n        <div>\n          <h1 className=\"text-2xl font-bold text-gray-900 dark:text-white\">Settings</h1>\n          <p className=\"text-gray-600 dark:text-gray-300\">Manage your account preferences and profile</p>\n        </div>\n      </div>\n\n      {/* User Profile Section */}\n      <Card data-testid=\"card-profile-info\">\n        <CardHeader>\n          <CardTitle className=\"flex items-center space-x-2\">\n            <User className=\"h-5 w-5\" />\n            <span>Profile Information</span>\n          </CardTitle>\n          <CardDescription>\n            Your account details and academic information\n          </CardDescription>\n        </CardHeader>\n        <CardContent className=\"space-y-4\">\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n            <div>\n              <Label className=\"text-sm font-medium text-gray-500 dark:text-gray-400\">Full Name</Label>\n              <p className=\"text-gray-900 dark:text-white\" data-testid=\"text-full-name\">{user?.fullName}</p>\n            </div>\n            <div>\n              <Label className=\"text-sm font-medium text-gray-500 dark:text-gray-400\">Username</Label>\n              <p className=\"text-gray-900 dark:text-white\" data-testid=\"text-username\">{user?.username}</p>\n            </div>\n            <div>\n              <Label className=\"text-sm font-medium text-gray-500 dark:text-gray-400\">Email</Label>\n              <p className=\"text-gray-900 dark:text-white\" data-testid=\"text-email\">{user?.email}</p>\n            </div>\n            <div>\n              <Label className=\"text-sm font-medium text-gray-500 dark:text-gray-400\">Role</Label>\n              <Badge variant={user?.role === \"admin\" ? \"destructive\" : \"secondary\"} data-testid=\"badge-role\">\n                {user?.role === \"admin\" ? \"Administrator\" : \"Student\"}\n              </Badge>\n            </div>\n          </div>\n          \n          {user?.role !== \"admin\" && (\n            <>\n              <Separator />\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                <div>\n                  <Label className=\"text-sm font-medium text-gray-500 dark:text-gray-400\">Degree Program</Label>\n                  <p className=\"text-gray-900 dark:text-white\" data-testid=\"text-degree-program\">\n                    {user?.degreeProgram || \"Not set\"}\n                  </p>\n                </div>\n                <div>\n                  <Label className=\"text-sm font-medium text-gray-500 dark:text-gray-400\">Enrolled Subjects</Label>\n                  <div className=\"flex flex-wrap gap-1 mt-1\" data-testid=\"container-subjects\">\n                    {user?.subjects?.length ? (\n                      user.subjects.map((subject: string, index: number) => (\n                        <Badge key={index} variant=\"outline\" className=\"text-xs\">\n                          {subject}\n                        </Badge>\n                      ))\n                    ) : (\n                      <span className=\"text-gray-500 dark:text-gray-400 text-sm\">No subjects selected</span>\n                    )}\n                  </div>\n                </div>\n              </div>\n              \n              <div className=\"pt-4\">\n                <Button \n                  onClick={() => setShowProfileEdit(true)}\n                  className=\"flex items-center space-x-2\"\n                  data-testid=\"button-change-subjects\"\n                >\n                  <BookOpen className=\"h-4 w-4\" />\n                  <span>Change Subjects & Degree</span>\n                </Button>\n              </div>\n            </>\n          )}\n        </CardContent>\n      </Card>\n\n      {/* Theme Settings */}\n      <Card data-testid=\"card-theme-settings\">\n        <CardHeader>\n          <CardTitle className=\"flex items-center space-x-2\">\n            <Palette className=\"h-5 w-5\" />\n            <span>Appearance</span>\n          </CardTitle>\n          <CardDescription>\n            Customize the look and feel of your dashboard\n          </CardDescription>\n        </CardHeader>\n        <CardContent>\n          <div className=\"flex items-center justify-between\">\n            <div className=\"space-y-1\">\n              <Label className=\"text-sm font-medium\">Dark Mode</Label>\n              <p className=\"text-sm text-gray-500 dark:text-gray-400\">\n                Switch between light and dark themes\n              </p>\n            </div>\n            <div className=\"flex items-center space-x-2\">\n              <Sun className=\"h-4 w-4\" />\n              <Switch \n                checked={theme === \"dark\"}\n                onCheckedChange={toggleTheme}\n                data-testid=\"switch-theme\"\n              />\n              <Moon className=\"h-4 w-4\" />\n            </div>\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* Account Actions */}\n      <Card data-testid=\"card-account-actions\">\n        <CardHeader>\n          <CardTitle className=\"text-red-600 dark:text-red-400\">Account Actions</CardTitle>\n          <CardDescription>\n            Manage your account and session\n          </CardDescription>\n        </CardHeader>\n        <CardContent>\n          <Button \n            variant=\"destructive\" \n            onClick={handleLogout}\n            disabled={logoutMutation.isPending}\n            data-testid=\"button-logout\"\n          >\n            {logoutMutation.isPending ? \"Logging out...\" : \"Logout\"}\n          </Button>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}","path":null,"size_bytes":7978,"size_tokens":null},"client/src/components/ui/toaster.tsx":{"content":"import { useToast } from \"@/hooks/use-toast\"\nimport {\n  Toast,\n  ToastClose,\n  ToastDescription,\n  ToastProvider,\n  ToastTitle,\n  ToastViewport,\n} from \"@/components/ui/toast\"\n\nexport function Toaster() {\n  const { toasts } = useToast()\n\n  return (\n    <ToastProvider>\n      {toasts.map(function ({ id, title, description, action, ...props }) {\n        return (\n          <Toast key={id} {...props}>\n            <div className=\"grid gap-1\">\n              {title && <ToastTitle>{title}</ToastTitle>}\n              {description && (\n                <ToastDescription>{description}</ToastDescription>\n              )}\n            </div>\n            {action}\n            <ToastClose />\n          </Toast>\n        )\n      })}\n      <ToastViewport />\n    </ToastProvider>\n  )\n}\n","path":null,"size_bytes":772,"size_tokens":null},"client/src/components/ui/textarea.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Textarea = React.forwardRef<\n  HTMLTextAreaElement,\n  React.ComponentProps<\"textarea\">\n>(({ className, ...props }, ref) => {\n  return (\n    <textarea\n      className={cn(\n        \"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n        className\n      )}\n      ref={ref}\n      {...props}\n    />\n  )\n})\nTextarea.displayName = \"Textarea\"\n\nexport { Textarea }\n","path":null,"size_bytes":689,"size_tokens":null},"server/storage.ts":{"content":"import { users, otpCodes, pendingUsers, type User, type InsertUser, type InsertOtp, type OtpCode, type PendingUser, type InsertPendingUser } from \"@shared/schema\";\nimport { eq, and, gt } from \"drizzle-orm\";\n\nexport interface IStorage {\n  // User operations\n  getUser(id: number): Promise<User | undefined>;\n  getUserByUsername(username: string): Promise<User | undefined>;\n  getUserByEmail(email: string): Promise<User | undefined>;\n  createUser(user: InsertUser): Promise<User>;\n  createAdminUser(user: Omit<InsertUser, 'email'> & { email: string }): Promise<User>;\n  updateUser(id: number, updates: Partial<User>): Promise<User | undefined>;\n  updateUserProfile(userId: number, degreeProgram: string, subjects: string[]): Promise<User | undefined>;\n  \n  // Pending user operations\n  createPendingUser(user: InsertPendingUser): Promise<PendingUser>;\n  getPendingUserByEmail(email: string): Promise<PendingUser | undefined>;\n  deletePendingUser(email: string): Promise<void>;\n  \n  // OTP operations\n  createOtpCode(otp: InsertOtp): Promise<OtpCode>;\n  getValidOtpCode(email: string, code: string): Promise<OtpCode | undefined>;\n  checkOtpCodeValidity(email: string, code: string): Promise<OtpCode | undefined>;\n  markOtpAsUsed(id: number): Promise<void>;\n  cleanupExpiredOtps(): Promise<void>;\n}\n\nexport class MemStorage implements IStorage {\n  private users: Map<number, User>;\n  private pendingUsers: Map<string, PendingUser>;\n  private otpCodes: Map<number, OtpCode>;\n  private currentUserId: number;\n  private currentPendingUserId: number;\n  private currentOtpId: number;\n\n  constructor() {\n    this.users = new Map();\n    this.pendingUsers = new Map();\n    this.otpCodes = new Map();\n    this.currentUserId = 1;\n    this.currentPendingUserId = 1;\n    this.currentOtpId = 1;\n    \n    // Initialize admin user\n    this.initializeAdminUser();\n  }\n\n  private async initializeAdminUser() {\n    const adminEmail = \"abdulmannan32519@gmail.com\";\n    const existingAdmin = await this.getUserByEmail(adminEmail);\n    \n    if (!existingAdmin) {\n      const bcrypt = await import(\"bcrypt\");\n      const hashedPassword = await bcrypt.hash(\"Mannamkhan@786\", 10);\n      \n      await this.createAdminUser({\n        username: \"admin\",\n        fullName: \"Admin User\",\n        email: adminEmail,\n        password: hashedPassword,\n      });\n      \n      console.log(\"ðŸ”§ Admin user initialized successfully\");\n      console.log(`ðŸ“§ Admin Email: ${adminEmail}`);\n      console.log(`ðŸ”‘ Admin Password: Mannamkhan@786`);\n    }\n  }\n\n  async getUser(id: number): Promise<User | undefined> {\n    return this.users.get(id);\n  }\n\n  async getUserByUsername(username: string): Promise<User | undefined> {\n    return Array.from(this.users.values()).find(\n      (user) => user.username === username,\n    );\n  }\n\n  async getUserByEmail(email: string): Promise<User | undefined> {\n    return Array.from(this.users.values()).find(\n      (user) => user.email === email,\n    );\n  }\n\n  async createUser(insertUser: InsertUser): Promise<User> {\n    const id = this.currentUserId++;\n    const user: User = {\n      ...insertUser,\n      id,\n      role: \"student\",\n      isVerified: false,\n      degreeProgram: null,\n      subjects: null,\n      createdAt: new Date(),\n    };\n    this.users.set(id, user);\n    return user;\n  }\n\n  async createAdminUser(insertUser: Omit<InsertUser, 'email'> & { email: string }): Promise<User> {\n    const id = this.currentUserId++;\n    const user: User = {\n      ...insertUser,\n      id,\n      role: \"admin\",\n      isVerified: true,\n      degreeProgram: null,\n      subjects: null,\n      createdAt: new Date(),\n    };\n    this.users.set(id, user);\n    return user;\n  }\n\n  async updateUser(id: number, updates: Partial<User>): Promise<User | undefined> {\n    const user = this.users.get(id);\n    if (!user) return undefined;\n    \n    const updatedUser = { ...user, ...updates };\n    this.users.set(id, updatedUser);\n    return updatedUser;\n  }\n\n\n\n  async createPendingUser(insertPendingUser: InsertPendingUser): Promise<PendingUser> {\n    const id = this.currentPendingUserId++;\n    const pendingUser: PendingUser = {\n      ...insertPendingUser,\n      id,\n      createdAt: new Date(),\n    };\n    this.pendingUsers.set(pendingUser.email, pendingUser);\n    return pendingUser;\n  }\n\n  async getPendingUserByEmail(email: string): Promise<PendingUser | undefined> {\n    return this.pendingUsers.get(email);\n  }\n\n  async deletePendingUser(email: string): Promise<void> {\n    this.pendingUsers.delete(email);\n  }\n\n  async createOtpCode(insertOtp: InsertOtp): Promise<OtpCode> {\n    const id = this.currentOtpId++;\n    const otpCode: OtpCode = {\n      ...insertOtp,\n      id,\n      isUsed: false,\n      createdAt: new Date(),\n    };\n    this.otpCodes.set(id, otpCode);\n    return otpCode;\n  }\n\n  async getValidOtpCode(email: string, code: string): Promise<OtpCode | undefined> {\n    const now = new Date();\n    return Array.from(this.otpCodes.values()).find(\n      (otp) => \n        otp.email === email && \n        otp.code === code && \n        !otp.isUsed && \n        otp.expiresAt > now\n    );\n  }\n\n  async checkOtpCodeValidity(email: string, code: string): Promise<OtpCode | undefined> {\n    // Check OTP validity without marking as used - for password reset validation\n    const now = new Date();\n    return Array.from(this.otpCodes.values()).find(\n      (otp) => otp.email === email && otp.code === code && otp.expiresAt > now,\n    );\n  }\n\n  async markOtpAsUsed(id: number): Promise<void> {\n    const otp = this.otpCodes.get(id);\n    if (otp) {\n      this.otpCodes.set(id, { ...otp, isUsed: true });\n    }\n  }\n\n  async cleanupExpiredOtps(): Promise<void> {\n    const now = new Date();\n    for (const [id, otp] of Array.from(this.otpCodes.entries())) {\n      if (otp.expiresAt <= now) {\n        this.otpCodes.delete(id);\n      }\n    }\n  }\n\n  async updateUserProfile(userId: number, degreeProgram: string, subjects: string[]): Promise<User | undefined> {\n    return this.updateUser(userId, { degreeProgram, subjects });\n  }\n}\n\nexport const storage = new MemStorage();\n","path":null,"size_bytes":6061,"size_tokens":null},"shared/schema.ts":{"content":"import { pgTable, text, serial, boolean, timestamp, integer } from \"drizzle-orm/pg-core\";\nimport { createInsertSchema } from \"drizzle-zod\";\nimport { z } from \"zod\";\n\nexport const users = pgTable(\"users\", {\n  id: serial(\"id\").primaryKey(),\n  username: text(\"username\").notNull().unique(),\n  fullName: text(\"full_name\").notNull(),\n  email: text(\"email\").notNull().unique(),\n  password: text(\"password\").notNull(),\n  role: text(\"role\").notNull().default(\"student\"),\n  isVerified: boolean(\"is_verified\").default(false),\n  degreeProgram: text(\"degree_program\"),\n  subjects: text(\"subjects\").array(),\n  createdAt: timestamp(\"created_at\").defaultNow(),\n});\n\nexport const pendingUsers = pgTable(\"pending_users\", {\n  id: serial(\"id\").primaryKey(),\n  username: text(\"username\").notNull(),\n  fullName: text(\"full_name\").notNull(),\n  email: text(\"email\").notNull().unique(),\n  password: text(\"password\").notNull(),\n  createdAt: timestamp(\"created_at\").defaultNow(),\n});\n\nexport const otpCodes = pgTable(\"otp_codes\", {\n  id: serial(\"id\").primaryKey(),\n  email: text(\"email\").notNull(),\n  code: text(\"code\").notNull(),\n  expiresAt: timestamp(\"expires_at\").notNull(),\n  isUsed: boolean(\"is_used\").default(false),\n  createdAt: timestamp(\"created_at\").defaultNow(),\n});\n\nexport const insertUserSchema = createInsertSchema(users, {\n  email: z.string().email().refine((email) => email.endsWith(\"@vu.edu.pk\"), {\n    message: \"Email must be from @vu.edu.pk domain\",\n  }),\n  password: z.string().min(8, \"Password must be at least 8 characters\"),\n}).pick({\n  username: true,\n  fullName: true,\n  email: true,\n  password: true,\n});\n\nexport const loginSchema = z.object({\n  email: z.string().email(),\n  password: z.string().min(1, \"Password is required\"),\n});\n\nexport const resetPasswordSchema = z.object({\n  email: z.string().email(),\n  code: z.string().length(6, \"OTP must be 6 digits\"),\n  newPassword: z.string().min(8, \"Password must be at least 8 characters\"),\n  confirmPassword: z.string().min(8, \"Password must be at least 8 characters\"),\n}).refine((data) => data.newPassword === data.confirmPassword, {\n  message: \"Passwords don't match\",\n  path: [\"confirmPassword\"],\n});\n\nexport const forgotPasswordSchema = z.object({\n  email: z.string().email().refine((email) => email.endsWith(\"@vu.edu.pk\"), {\n    message: \"Email must be from @vu.edu.pk domain\",\n  }),\n});\n\nexport const otpVerificationSchema = z.object({\n  email: z.string().email(),\n  code: z.string().length(6, \"OTP must be 6 digits\"),\n});\n\nexport const insertOtpSchema = createInsertSchema(otpCodes).pick({\n  email: true,\n  code: true,\n  expiresAt: true,\n});\n\nexport type InsertUser = z.infer<typeof insertUserSchema>;\nexport type User = typeof users.$inferSelect;\nexport type PendingUser = typeof pendingUsers.$inferSelect;\nexport type InsertPendingUser = typeof pendingUsers.$inferInsert;\nexport type LoginData = z.infer<typeof loginSchema>;\nexport type ForgotPasswordData = z.infer<typeof forgotPasswordSchema>;\nexport type ResetPasswordData = z.infer<typeof resetPasswordSchema>;\nexport type OTPVerificationData = z.infer<typeof otpVerificationSchema>;\nexport type InsertOtp = z.infer<typeof insertOtpSchema>;\nexport type OtpCode = typeof otpCodes.$inferSelect;\n\n// Upload system tables\nexport const uploads = pgTable(\"uploads\", {\n  id: serial(\"id\").primaryKey(),\n  userId: serial(\"user_id\").references(() => users.id),\n  subject: text(\"subject\").notNull(),\n  uploadType: text(\"upload_type\").notNull(), // handout, notes, guide, past_paper, guess_paper\n  title: text(\"title\").notNull(),\n  description: text(\"description\"),\n  fileUrl: text(\"file_url\"),\n  textContent: text(\"text_content\"),\n  externalLink: text(\"external_link\"),\n  isApproved: boolean(\"is_approved\").default(false),\n  createdAt: timestamp(\"created_at\").defaultNow(),\n});\n\n// Assignment/GDB solutions\nexport const solutions = pgTable(\"solutions\", {\n  id: serial(\"id\").primaryKey(),\n  userId: serial(\"user_id\").references(() => users.id),\n  subject: text(\"subject\").notNull(),\n  solutionType: text(\"solution_type\").notNull(), // assignment, gdb, quiz\n  title: text(\"title\").notNull(),\n  description: text(\"description\"),\n  fileUrl: text(\"file_url\"),\n  textContent: text(\"text_content\"),\n  externalLink: text(\"external_link\"),\n  helpfulVotes: integer(\"helpful_votes\").default(0),\n  isApproved: boolean(\"is_approved\").default(false),\n  createdAt: timestamp(\"created_at\").defaultNow(),\n});\n\n// Public discussions\nexport const discussions = pgTable(\"discussions\", {\n  id: serial(\"id\").primaryKey(),\n  userId: serial(\"user_id\").references(() => users.id),\n  subject: text(\"subject\"),\n  content: text(\"content\").notNull(),\n  likes: integer(\"likes\").default(0),\n  helpfulVotes: integer(\"helpful_votes\").default(0),\n  createdAt: timestamp(\"created_at\").defaultNow(),\n});\n\n// Announcements\nexport const announcements = pgTable(\"announcements\", {\n  id: serial(\"id\").primaryKey(),\n  userId: serial(\"user_id\").references(() => users.id),\n  title: text(\"title\").notNull(),\n  content: text(\"content\").notNull(),\n  isApproved: boolean(\"is_approved\").default(false),\n  isPinned: boolean(\"is_pinned\").default(false),\n  createdAt: timestamp(\"created_at\").defaultNow(),\n});\n\n// Badges\nexport const badges = pgTable(\"badges\", {\n  id: serial(\"id\").primaryKey(),\n  userId: serial(\"user_id\").references(() => users.id),\n  badgeType: text(\"badge_type\").notNull(), // upload_contributor, helpful_solver, community_star\n  earnedFor: text(\"earned_for\"), // description of what earned the badge\n  createdAt: timestamp(\"created_at\").defaultNow(),\n});\n\n// System settings\nexport const systemSettings = pgTable(\"system_settings\", {\n  id: serial(\"id\").primaryKey(),\n  key: text(\"key\").notNull().unique(),\n  value: text(\"value\"),\n  updatedAt: timestamp(\"updated_at\").defaultNow(),\n});\n\nexport type Upload = typeof uploads.$inferSelect;\nexport type InsertUpload = typeof uploads.$inferInsert;\nexport type Solution = typeof solutions.$inferSelect;\nexport type InsertSolution = typeof solutions.$inferInsert;\nexport type Discussion = typeof discussions.$inferSelect;\nexport type InsertDiscussion = typeof discussions.$inferInsert;\nexport type Announcement = typeof announcements.$inferSelect;\nexport type InsertAnnouncement = typeof announcements.$inferInsert;\nexport type Badge = typeof badges.$inferSelect;\nexport type InsertBadge = typeof badges.$inferInsert;\n","path":null,"size_bytes":6334,"size_tokens":null},"client/src/components/ui/accordion.tsx":{"content":"import * as React from \"react\"\nimport * as AccordionPrimitive from \"@radix-ui/react-accordion\"\nimport { ChevronDown } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Accordion = AccordionPrimitive.Root\n\nconst AccordionItem = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Item>\n>(({ className, ...props }, ref) => (\n  <AccordionPrimitive.Item\n    ref={ref}\n    className={cn(\"border-b\", className)}\n    {...props}\n  />\n))\nAccordionItem.displayName = \"AccordionItem\"\n\nconst AccordionTrigger = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <AccordionPrimitive.Header className=\"flex\">\n    <AccordionPrimitive.Trigger\n      ref={ref}\n      className={cn(\n        \"flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <ChevronDown className=\"h-4 w-4 shrink-0 transition-transform duration-200\" />\n    </AccordionPrimitive.Trigger>\n  </AccordionPrimitive.Header>\n))\nAccordionTrigger.displayName = AccordionPrimitive.Trigger.displayName\n\nconst AccordionContent = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <AccordionPrimitive.Content\n    ref={ref}\n    className=\"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down\"\n    {...props}\n  >\n    <div className={cn(\"pb-4 pt-0\", className)}>{children}</div>\n  </AccordionPrimitive.Content>\n))\n\nAccordionContent.displayName = AccordionPrimitive.Content.displayName\n\nexport { Accordion, AccordionItem, AccordionTrigger, AccordionContent }\n","path":null,"size_bytes":1977,"size_tokens":null},"client/src/hooks/use-mobile.tsx":{"content":"import * as React from \"react\"\n\nconst MOBILE_BREAKPOINT = 768\n\nexport function useIsMobile() {\n  const [isMobile, setIsMobile] = React.useState<boolean | undefined>(undefined)\n\n  React.useEffect(() => {\n    const mql = window.matchMedia(`(max-width: ${MOBILE_BREAKPOINT - 1}px)`)\n    const onChange = () => {\n      setIsMobile(window.innerWidth < MOBILE_BREAKPOINT)\n    }\n    mql.addEventListener(\"change\", onChange)\n    setIsMobile(window.innerWidth < MOBILE_BREAKPOINT)\n    return () => mql.removeEventListener(\"change\", onChange)\n  }, [])\n\n  return !!isMobile\n}\n","path":null,"size_bytes":565,"size_tokens":null},"client/src/components/ui/drawer.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport { Drawer as DrawerPrimitive } from \"vaul\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Drawer = ({\n  shouldScaleBackground = true,\n  ...props\n}: React.ComponentProps<typeof DrawerPrimitive.Root>) => (\n  <DrawerPrimitive.Root\n    shouldScaleBackground={shouldScaleBackground}\n    {...props}\n  />\n)\nDrawer.displayName = \"Drawer\"\n\nconst DrawerTrigger = DrawerPrimitive.Trigger\n\nconst DrawerPortal = DrawerPrimitive.Portal\n\nconst DrawerClose = DrawerPrimitive.Close\n\nconst DrawerOverlay = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Overlay\n    ref={ref}\n    className={cn(\"fixed inset-0 z-50 bg-black/80\", className)}\n    {...props}\n  />\n))\nDrawerOverlay.displayName = DrawerPrimitive.Overlay.displayName\n\nconst DrawerContent = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DrawerPortal>\n    <DrawerOverlay />\n    <DrawerPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background\",\n        className\n      )}\n      {...props}\n    >\n      <div className=\"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted\" />\n      {children}\n    </DrawerPrimitive.Content>\n  </DrawerPortal>\n))\nDrawerContent.displayName = \"DrawerContent\"\n\nconst DrawerHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\"grid gap-1.5 p-4 text-center sm:text-left\", className)}\n    {...props}\n  />\n)\nDrawerHeader.displayName = \"DrawerHeader\"\n\nconst DrawerFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\"mt-auto flex flex-col gap-2 p-4\", className)}\n    {...props}\n  />\n)\nDrawerFooter.displayName = \"DrawerFooter\"\n\nconst DrawerTitle = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nDrawerTitle.displayName = DrawerPrimitive.Title.displayName\n\nconst DrawerDescription = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nDrawerDescription.displayName = DrawerPrimitive.Description.displayName\n\nexport {\n  Drawer,\n  DrawerPortal,\n  DrawerOverlay,\n  DrawerTrigger,\n  DrawerClose,\n  DrawerContent,\n  DrawerHeader,\n  DrawerFooter,\n  DrawerTitle,\n  DrawerDescription,\n}\n","path":null,"size_bytes":3021,"size_tokens":null},"client/src/components/ui/sheet.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as SheetPrimitive from \"@radix-ui/react-dialog\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Sheet = SheetPrimitive.Root\n\nconst SheetTrigger = SheetPrimitive.Trigger\n\nconst SheetClose = SheetPrimitive.Close\n\nconst SheetPortal = SheetPrimitive.Portal\n\nconst SheetOverlay = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Overlay\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  />\n))\nSheetOverlay.displayName = SheetPrimitive.Overlay.displayName\n\nconst sheetVariants = cva(\n  \"fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500\",\n  {\n    variants: {\n      side: {\n        top: \"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top\",\n        bottom:\n          \"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom\",\n        left: \"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm\",\n        right:\n          \"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm\",\n      },\n    },\n    defaultVariants: {\n      side: \"right\",\n    },\n  }\n)\n\ninterface SheetContentProps\n  extends React.ComponentPropsWithoutRef<typeof SheetPrimitive.Content>,\n    VariantProps<typeof sheetVariants> {}\n\nconst SheetContent = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Content>,\n  SheetContentProps\n>(({ side = \"right\", className, children, ...props }, ref) => (\n  <SheetPortal>\n    <SheetOverlay />\n    <SheetPrimitive.Content\n      ref={ref}\n      className={cn(sheetVariants({ side }), className)}\n      {...props}\n    >\n      {children}\n      <SheetPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </SheetPrimitive.Close>\n    </SheetPrimitive.Content>\n  </SheetPortal>\n))\nSheetContent.displayName = SheetPrimitive.Content.displayName\n\nconst SheetHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-2 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nSheetHeader.displayName = \"SheetHeader\"\n\nconst SheetFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nSheetFooter.displayName = \"SheetFooter\"\n\nconst SheetTitle = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Title\n    ref={ref}\n    className={cn(\"text-lg font-semibold text-foreground\", className)}\n    {...props}\n  />\n))\nSheetTitle.displayName = SheetPrimitive.Title.displayName\n\nconst SheetDescription = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nSheetDescription.displayName = SheetPrimitive.Description.displayName\n\nexport {\n  Sheet,\n  SheetPortal,\n  SheetOverlay,\n  SheetTrigger,\n  SheetClose,\n  SheetContent,\n  SheetHeader,\n  SheetFooter,\n  SheetTitle,\n  SheetDescription,\n}\n","path":null,"size_bytes":4281,"size_tokens":null},"client/src/components/dashboard/pages/DashboardHome.tsx":{"content":"import { useQuery } from \"@tanstack/react-query\";\nimport { Calendar, BookOpen, Upload, Users, TrendingUp, Bell } from \"lucide-react\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Badge } from \"@/components/ui/badge\";\n\ninterface DashboardHomeProps {\n  user: any;\n}\n\nexport function DashboardHome({ user }: DashboardHomeProps) {\n  const maskEmail = (email: string) => {\n    const [localPart, domain] = email.split('@');\n    const maskedLocal = localPart.substring(0, 8) + '****';\n    return `${maskedLocal}@${domain}`;\n  };\n\n  const stats = [\n    {\n      title: \"My Subjects\",\n      value: user?.subjects?.length || 0,\n      icon: BookOpen,\n      description: \"Enrolled subjects\",\n      color: \"text-blue-600\",\n    },\n    {\n      title: \"Uploads\",\n      value: \"0\", // This would come from API\n      icon: Upload,\n      description: \"Files uploaded\",\n      color: \"text-green-600\",\n    },\n    {\n      title: \"Discussions\", \n      value: \"0\", // This would come from API\n      icon: Users,\n      description: \"Posts created\",\n      color: \"text-purple-600\",\n    },\n    {\n      title: \"Badges\",\n      value: \"0\", // This would come from API\n      icon: TrendingUp,\n      description: \"Earned badges\",\n      color: \"text-orange-600\",\n    },\n  ];\n\n  const recentActivity = [\n    {\n      type: \"announcement\",\n      title: \"New Assignment Posted\",\n      description: \"CS301 - Data Structures Assignment 2\",\n      time: \"2 hours ago\",\n      icon: Bell,\n    },\n    {\n      type: \"upload\",\n      title: \"Study Material Uploaded\",\n      description: \"CS201 - Programming Fundamentals Notes\",\n      time: \"1 day ago\", \n      icon: Upload,\n    },\n  ];\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Welcome Header */}\n      <div className=\"bg-gradient-to-r from-blue-600 to-purple-600 rounded-lg p-6 text-white\">\n        <h1 className=\"text-2xl font-bold mb-2\">\n          Welcome back, {user?.fullName}!\n        </h1>\n        <div className=\"flex items-center space-x-4 text-blue-100\">\n          <p>{maskEmail(user?.email || '')}</p>\n          <Badge variant=\"secondary\" className=\"bg-white/20 text-white\">\n            {user?.degreeProgram || 'Setup Required'}\n          </Badge>\n          {user?.role === 'admin' && (\n            <Badge variant=\"destructive\">Admin</Badge>\n          )}\n        </div>\n      </div>\n\n      {/* Stats Cards */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\n        {stats.map((stat) => {\n          const Icon = stat.icon;\n          return (\n            <Card key={stat.title}>\n              <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n                <CardTitle className=\"text-sm font-medium text-gray-600\">\n                  {stat.title}\n                </CardTitle>\n                <Icon className={`h-4 w-4 ${stat.color}`} />\n              </CardHeader>\n              <CardContent>\n                <div className=\"text-2xl font-bold\">{stat.value}</div>\n                <p className=\"text-xs text-gray-500 mt-1\">\n                  {stat.description}\n                </p>\n              </CardContent>\n            </Card>\n          );\n        })}\n      </div>\n\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n        {/* Recent Activity */}\n        <Card>\n          <CardHeader>\n            <CardTitle>Recent Activity</CardTitle>\n            <CardDescription>\n              Latest updates and notifications\n            </CardDescription>\n          </CardHeader>\n          <CardContent>\n            <div className=\"space-y-4\">\n              {recentActivity.map((activity, index) => {\n                const Icon = activity.icon;\n                return (\n                  <div key={index} className=\"flex items-start space-x-3\">\n                    <div className=\"w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center\">\n                      <Icon className=\"h-4 w-4 text-gray-600\" />\n                    </div>\n                    <div className=\"flex-1 min-w-0\">\n                      <p className=\"text-sm font-medium text-gray-900\">\n                        {activity.title}\n                      </p>\n                      <p className=\"text-sm text-gray-500\">\n                        {activity.description}\n                      </p>\n                      <p className=\"text-xs text-gray-400 mt-1\">\n                        {activity.time}\n                      </p>\n                    </div>\n                  </div>\n                );\n              })}\n            </div>\n          </CardContent>\n        </Card>\n\n        {/* Quick Actions */}\n        <Card>\n          <CardHeader>\n            <CardTitle>Quick Actions</CardTitle>\n            <CardDescription>\n              Common tasks and shortcuts\n            </CardDescription>\n          </CardHeader>\n          <CardContent>\n            <div className=\"grid grid-cols-2 gap-3\">\n              <button className=\"p-4 text-left border rounded-lg hover:bg-gray-50 transition-colors\">\n                <Upload className=\"h-6 w-6 text-blue-600 mb-2\" />\n                <p className=\"font-medium\">Upload File</p>\n                <p className=\"text-sm text-gray-500\">Share resources</p>\n              </button>\n              <button className=\"p-4 text-left border rounded-lg hover:bg-gray-50 transition-colors\">\n                <Users className=\"h-6 w-6 text-green-600 mb-2\" />\n                <p className=\"font-medium\">Join Discussion</p>\n                <p className=\"text-sm text-gray-500\">Ask questions</p>\n              </button>\n              <button className=\"p-4 text-left border rounded-lg hover:bg-gray-50 transition-colors\">\n                <BookOpen className=\"h-6 w-6 text-purple-600 mb-2\" />\n                <p className=\"font-medium\">Study Materials</p>\n                <p className=\"text-sm text-gray-500\">Browse resources</p>\n              </button>\n              <button className=\"p-4 text-left border rounded-lg hover:bg-gray-50 transition-colors\">\n                <Bell className=\"h-6 w-6 text-orange-600 mb-2\" />\n                <p className=\"font-medium\">Announcements</p>\n                <p className=\"text-sm text-gray-500\">Stay updated</p>\n              </button>\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n    </div>\n  );\n}","path":null,"size_bytes":6320,"size_tokens":null},"client/src/components/ui/skeleton.tsx":{"content":"import { cn } from \"@/lib/utils\"\n\nfunction Skeleton({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) {\n  return (\n    <div\n      className={cn(\"animate-pulse rounded-md bg-muted\", className)}\n      {...props}\n    />\n  )\n}\n\nexport { Skeleton }\n","path":null,"size_bytes":261,"size_tokens":null},"client/src/components/ui/sidebar.tsx":{"content":"import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { VariantProps, cva } from \"class-variance-authority\"\nimport { PanelLeft } from \"lucide-react\"\n\nimport { useIsMobile } from \"@/hooks/use-mobile\"\nimport { cn } from \"@/lib/utils\"\nimport { Button } from \"@/components/ui/button\"\nimport { Input } from \"@/components/ui/input\"\nimport { Separator } from \"@/components/ui/separator\"\nimport {\n  Sheet,\n  SheetContent,\n  SheetDescription,\n  SheetHeader,\n  SheetTitle,\n} from \"@/components/ui/sheet\"\nimport { Skeleton } from \"@/components/ui/skeleton\"\nimport {\n  Tooltip,\n  TooltipContent,\n  TooltipProvider,\n  TooltipTrigger,\n} from \"@/components/ui/tooltip\"\n\nconst SIDEBAR_COOKIE_NAME = \"sidebar_state\"\nconst SIDEBAR_COOKIE_MAX_AGE = 60 * 60 * 24 * 7\nconst SIDEBAR_WIDTH = \"16rem\"\nconst SIDEBAR_WIDTH_MOBILE = \"18rem\"\nconst SIDEBAR_WIDTH_ICON = \"3rem\"\nconst SIDEBAR_KEYBOARD_SHORTCUT = \"b\"\n\ntype SidebarContextProps = {\n  state: \"expanded\" | \"collapsed\"\n  open: boolean\n  setOpen: (open: boolean) => void\n  openMobile: boolean\n  setOpenMobile: (open: boolean) => void\n  isMobile: boolean\n  toggleSidebar: () => void\n}\n\nconst SidebarContext = React.createContext<SidebarContextProps | null>(null)\n\nfunction useSidebar() {\n  const context = React.useContext(SidebarContext)\n  if (!context) {\n    throw new Error(\"useSidebar must be used within a SidebarProvider.\")\n  }\n\n  return context\n}\n\nconst SidebarProvider = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> & {\n    defaultOpen?: boolean\n    open?: boolean\n    onOpenChange?: (open: boolean) => void\n  }\n>(\n  (\n    {\n      defaultOpen = true,\n      open: openProp,\n      onOpenChange: setOpenProp,\n      className,\n      style,\n      children,\n      ...props\n    },\n    ref\n  ) => {\n    const isMobile = useIsMobile()\n    const [openMobile, setOpenMobile] = React.useState(false)\n\n    // This is the internal state of the sidebar.\n    // We use openProp and setOpenProp for control from outside the component.\n    const [_open, _setOpen] = React.useState(defaultOpen)\n    const open = openProp ?? _open\n    const setOpen = React.useCallback(\n      (value: boolean | ((value: boolean) => boolean)) => {\n        const openState = typeof value === \"function\" ? value(open) : value\n        if (setOpenProp) {\n          setOpenProp(openState)\n        } else {\n          _setOpen(openState)\n        }\n\n        // This sets the cookie to keep the sidebar state.\n        document.cookie = `${SIDEBAR_COOKIE_NAME}=${openState}; path=/; max-age=${SIDEBAR_COOKIE_MAX_AGE}`\n      },\n      [setOpenProp, open]\n    )\n\n    // Helper to toggle the sidebar.\n    const toggleSidebar = React.useCallback(() => {\n      return isMobile\n        ? setOpenMobile((open) => !open)\n        : setOpen((open) => !open)\n    }, [isMobile, setOpen, setOpenMobile])\n\n    // Adds a keyboard shortcut to toggle the sidebar.\n    React.useEffect(() => {\n      const handleKeyDown = (event: KeyboardEvent) => {\n        if (\n          event.key === SIDEBAR_KEYBOARD_SHORTCUT &&\n          (event.metaKey || event.ctrlKey)\n        ) {\n          event.preventDefault()\n          toggleSidebar()\n        }\n      }\n\n      window.addEventListener(\"keydown\", handleKeyDown)\n      return () => window.removeEventListener(\"keydown\", handleKeyDown)\n    }, [toggleSidebar])\n\n    // We add a state so that we can do data-state=\"expanded\" or \"collapsed\".\n    // This makes it easier to style the sidebar with Tailwind classes.\n    const state = open ? \"expanded\" : \"collapsed\"\n\n    const contextValue = React.useMemo<SidebarContextProps>(\n      () => ({\n        state,\n        open,\n        setOpen,\n        isMobile,\n        openMobile,\n        setOpenMobile,\n        toggleSidebar,\n      }),\n      [state, open, setOpen, isMobile, openMobile, setOpenMobile, toggleSidebar]\n    )\n\n    return (\n      <SidebarContext.Provider value={contextValue}>\n        <TooltipProvider delayDuration={0}>\n          <div\n            style={\n              {\n                \"--sidebar-width\": SIDEBAR_WIDTH,\n                \"--sidebar-width-icon\": SIDEBAR_WIDTH_ICON,\n                ...style,\n              } as React.CSSProperties\n            }\n            className={cn(\n              \"group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar\",\n              className\n            )}\n            ref={ref}\n            {...props}\n          >\n            {children}\n          </div>\n        </TooltipProvider>\n      </SidebarContext.Provider>\n    )\n  }\n)\nSidebarProvider.displayName = \"SidebarProvider\"\n\nconst Sidebar = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> & {\n    side?: \"left\" | \"right\"\n    variant?: \"sidebar\" | \"floating\" | \"inset\"\n    collapsible?: \"offcanvas\" | \"icon\" | \"none\"\n  }\n>(\n  (\n    {\n      side = \"left\",\n      variant = \"sidebar\",\n      collapsible = \"offcanvas\",\n      className,\n      children,\n      ...props\n    },\n    ref\n  ) => {\n    const { isMobile, state, openMobile, setOpenMobile } = useSidebar()\n\n    if (collapsible === \"none\") {\n      return (\n        <div\n          className={cn(\n            \"flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground\",\n            className\n          )}\n          ref={ref}\n          {...props}\n        >\n          {children}\n        </div>\n      )\n    }\n\n    if (isMobile) {\n      return (\n        <Sheet open={openMobile} onOpenChange={setOpenMobile} {...props}>\n          <SheetContent\n            data-sidebar=\"sidebar\"\n            data-mobile=\"true\"\n            className=\"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden\"\n            style={\n              {\n                \"--sidebar-width\": SIDEBAR_WIDTH_MOBILE,\n              } as React.CSSProperties\n            }\n            side={side}\n          >\n            <SheetHeader className=\"sr-only\">\n              <SheetTitle>Sidebar</SheetTitle>\n              <SheetDescription>Displays the mobile sidebar.</SheetDescription>\n            </SheetHeader>\n            <div className=\"flex h-full w-full flex-col\">{children}</div>\n          </SheetContent>\n        </Sheet>\n      )\n    }\n\n    return (\n      <div\n        ref={ref}\n        className=\"group peer hidden text-sidebar-foreground md:block\"\n        data-state={state}\n        data-collapsible={state === \"collapsed\" ? collapsible : \"\"}\n        data-variant={variant}\n        data-side={side}\n      >\n        {/* This is what handles the sidebar gap on desktop */}\n        <div\n          className={cn(\n            \"relative w-[--sidebar-width] bg-transparent transition-[width] duration-200 ease-linear\",\n            \"group-data-[collapsible=offcanvas]:w-0\",\n            \"group-data-[side=right]:rotate-180\",\n            variant === \"floating\" || variant === \"inset\"\n              ? \"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]\"\n              : \"group-data-[collapsible=icon]:w-[--sidebar-width-icon]\"\n          )}\n        />\n        <div\n          className={cn(\n            \"fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] duration-200 ease-linear md:flex\",\n            side === \"left\"\n              ? \"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]\"\n              : \"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]\",\n            // Adjust the padding for floating and inset variants.\n            variant === \"floating\" || variant === \"inset\"\n              ? \"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]\"\n              : \"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l\",\n            className\n          )}\n          {...props}\n        >\n          <div\n            data-sidebar=\"sidebar\"\n            className=\"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow\"\n          >\n            {children}\n          </div>\n        </div>\n      </div>\n    )\n  }\n)\nSidebar.displayName = \"Sidebar\"\n\nconst SidebarTrigger = React.forwardRef<\n  React.ElementRef<typeof Button>,\n  React.ComponentProps<typeof Button>\n>(({ className, onClick, ...props }, ref) => {\n  const { toggleSidebar } = useSidebar()\n\n  return (\n    <Button\n      ref={ref}\n      data-sidebar=\"trigger\"\n      variant=\"ghost\"\n      size=\"icon\"\n      className={cn(\"h-7 w-7\", className)}\n      onClick={(event) => {\n        onClick?.(event)\n        toggleSidebar()\n      }}\n      {...props}\n    >\n      <PanelLeft />\n      <span className=\"sr-only\">Toggle Sidebar</span>\n    </Button>\n  )\n})\nSidebarTrigger.displayName = \"SidebarTrigger\"\n\nconst SidebarRail = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<\"button\">\n>(({ className, ...props }, ref) => {\n  const { toggleSidebar } = useSidebar()\n\n  return (\n    <button\n      ref={ref}\n      data-sidebar=\"rail\"\n      aria-label=\"Toggle Sidebar\"\n      tabIndex={-1}\n      onClick={toggleSidebar}\n      title=\"Toggle Sidebar\"\n      className={cn(\n        \"absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-sidebar-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex\",\n        \"[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize\",\n        \"[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize\",\n        \"group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar\",\n        \"[[data-side=left][data-collapsible=offcanvas]_&]:-right-2\",\n        \"[[data-side=right][data-collapsible=offcanvas]_&]:-left-2\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nSidebarRail.displayName = \"SidebarRail\"\n\nconst SidebarInset = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"main\">\n>(({ className, ...props }, ref) => {\n  return (\n    <main\n      ref={ref}\n      className={cn(\n        \"relative flex w-full flex-1 flex-col bg-background\",\n        \"md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nSidebarInset.displayName = \"SidebarInset\"\n\nconst SidebarInput = React.forwardRef<\n  React.ElementRef<typeof Input>,\n  React.ComponentProps<typeof Input>\n>(({ className, ...props }, ref) => {\n  return (\n    <Input\n      ref={ref}\n      data-sidebar=\"input\"\n      className={cn(\n        \"h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nSidebarInput.displayName = \"SidebarInput\"\n\nconst SidebarHeader = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\">\n>(({ className, ...props }, ref) => {\n  return (\n    <div\n      ref={ref}\n      data-sidebar=\"header\"\n      className={cn(\"flex flex-col gap-2 p-2\", className)}\n      {...props}\n    />\n  )\n})\nSidebarHeader.displayName = \"SidebarHeader\"\n\nconst SidebarFooter = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\">\n>(({ className, ...props }, ref) => {\n  return (\n    <div\n      ref={ref}\n      data-sidebar=\"footer\"\n      className={cn(\"flex flex-col gap-2 p-2\", className)}\n      {...props}\n    />\n  )\n})\nSidebarFooter.displayName = \"SidebarFooter\"\n\nconst SidebarSeparator = React.forwardRef<\n  React.ElementRef<typeof Separator>,\n  React.ComponentProps<typeof Separator>\n>(({ className, ...props }, ref) => {\n  return (\n    <Separator\n      ref={ref}\n      data-sidebar=\"separator\"\n      className={cn(\"mx-2 w-auto bg-sidebar-border\", className)}\n      {...props}\n    />\n  )\n})\nSidebarSeparator.displayName = \"SidebarSeparator\"\n\nconst SidebarContent = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\">\n>(({ className, ...props }, ref) => {\n  return (\n    <div\n      ref={ref}\n      data-sidebar=\"content\"\n      className={cn(\n        \"flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nSidebarContent.displayName = \"SidebarContent\"\n\nconst SidebarGroup = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\">\n>(({ className, ...props }, ref) => {\n  return (\n    <div\n      ref={ref}\n      data-sidebar=\"group\"\n      className={cn(\"relative flex w-full min-w-0 flex-col p-2\", className)}\n      {...props}\n    />\n  )\n})\nSidebarGroup.displayName = \"SidebarGroup\"\n\nconst SidebarGroupLabel = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> & { asChild?: boolean }\n>(({ className, asChild = false, ...props }, ref) => {\n  const Comp = asChild ? Slot : \"div\"\n\n  return (\n    <Comp\n      ref={ref}\n      data-sidebar=\"group-label\"\n      className={cn(\n        \"flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0\",\n        \"group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nSidebarGroupLabel.displayName = \"SidebarGroupLabel\"\n\nconst SidebarGroupAction = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<\"button\"> & { asChild?: boolean }\n>(({ className, asChild = false, ...props }, ref) => {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      ref={ref}\n      data-sidebar=\"group-action\"\n      className={cn(\n        \"absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0\",\n        // Increases the hit area of the button on mobile.\n        \"after:absolute after:-inset-2 after:md:hidden\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nSidebarGroupAction.displayName = \"SidebarGroupAction\"\n\nconst SidebarGroupContent = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\">\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    data-sidebar=\"group-content\"\n    className={cn(\"w-full text-sm\", className)}\n    {...props}\n  />\n))\nSidebarGroupContent.displayName = \"SidebarGroupContent\"\n\nconst SidebarMenu = React.forwardRef<\n  HTMLUListElement,\n  React.ComponentProps<\"ul\">\n>(({ className, ...props }, ref) => (\n  <ul\n    ref={ref}\n    data-sidebar=\"menu\"\n    className={cn(\"flex w-full min-w-0 flex-col gap-1\", className)}\n    {...props}\n  />\n))\nSidebarMenu.displayName = \"SidebarMenu\"\n\nconst SidebarMenuItem = React.forwardRef<\n  HTMLLIElement,\n  React.ComponentProps<\"li\">\n>(({ className, ...props }, ref) => (\n  <li\n    ref={ref}\n    data-sidebar=\"menu-item\"\n    className={cn(\"group/menu-item relative\", className)}\n    {...props}\n  />\n))\nSidebarMenuItem.displayName = \"SidebarMenuItem\"\n\nconst sidebarMenuButtonVariants = cva(\n  \"peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default: \"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground\",\n        outline:\n          \"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]\",\n      },\n      size: {\n        default: \"h-8 text-sm\",\n        sm: \"h-7 text-xs\",\n        lg: \"h-12 text-sm group-data-[collapsible=icon]:!p-0\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nconst SidebarMenuButton = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<\"button\"> & {\n    asChild?: boolean\n    isActive?: boolean\n    tooltip?: string | React.ComponentProps<typeof TooltipContent>\n  } & VariantProps<typeof sidebarMenuButtonVariants>\n>(\n  (\n    {\n      asChild = false,\n      isActive = false,\n      variant = \"default\",\n      size = \"default\",\n      tooltip,\n      className,\n      ...props\n    },\n    ref\n  ) => {\n    const Comp = asChild ? Slot : \"button\"\n    const { isMobile, state } = useSidebar()\n\n    const button = (\n      <Comp\n        ref={ref}\n        data-sidebar=\"menu-button\"\n        data-size={size}\n        data-active={isActive}\n        className={cn(sidebarMenuButtonVariants({ variant, size }), className)}\n        {...props}\n      />\n    )\n\n    if (!tooltip) {\n      return button\n    }\n\n    if (typeof tooltip === \"string\") {\n      tooltip = {\n        children: tooltip,\n      }\n    }\n\n    return (\n      <Tooltip>\n        <TooltipTrigger asChild>{button}</TooltipTrigger>\n        <TooltipContent\n          side=\"right\"\n          align=\"center\"\n          hidden={state !== \"collapsed\" || isMobile}\n          {...tooltip}\n        />\n      </Tooltip>\n    )\n  }\n)\nSidebarMenuButton.displayName = \"SidebarMenuButton\"\n\nconst SidebarMenuAction = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<\"button\"> & {\n    asChild?: boolean\n    showOnHover?: boolean\n  }\n>(({ className, asChild = false, showOnHover = false, ...props }, ref) => {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      ref={ref}\n      data-sidebar=\"menu-action\"\n      className={cn(\n        \"absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 peer-hover/menu-button:text-sidebar-accent-foreground [&>svg]:size-4 [&>svg]:shrink-0\",\n        // Increases the hit area of the button on mobile.\n        \"after:absolute after:-inset-2 after:md:hidden\",\n        \"peer-data-[size=sm]/menu-button:top-1\",\n        \"peer-data-[size=default]/menu-button:top-1.5\",\n        \"peer-data-[size=lg]/menu-button:top-2.5\",\n        \"group-data-[collapsible=icon]:hidden\",\n        showOnHover &&\n          \"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nSidebarMenuAction.displayName = \"SidebarMenuAction\"\n\nconst SidebarMenuBadge = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\">\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    data-sidebar=\"menu-badge\"\n    className={cn(\n      \"pointer-events-none absolute right-1 flex h-5 min-w-5 select-none items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground\",\n      \"peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground\",\n      \"peer-data-[size=sm]/menu-button:top-1\",\n      \"peer-data-[size=default]/menu-button:top-1.5\",\n      \"peer-data-[size=lg]/menu-button:top-2.5\",\n      \"group-data-[collapsible=icon]:hidden\",\n      className\n    )}\n    {...props}\n  />\n))\nSidebarMenuBadge.displayName = \"SidebarMenuBadge\"\n\nconst SidebarMenuSkeleton = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> & {\n    showIcon?: boolean\n  }\n>(({ className, showIcon = false, ...props }, ref) => {\n  // Random width between 50 to 90%.\n  const width = React.useMemo(() => {\n    return `${Math.floor(Math.random() * 40) + 50}%`\n  }, [])\n\n  return (\n    <div\n      ref={ref}\n      data-sidebar=\"menu-skeleton\"\n      className={cn(\"flex h-8 items-center gap-2 rounded-md px-2\", className)}\n      {...props}\n    >\n      {showIcon && (\n        <Skeleton\n          className=\"size-4 rounded-md\"\n          data-sidebar=\"menu-skeleton-icon\"\n        />\n      )}\n      <Skeleton\n        className=\"h-4 max-w-[--skeleton-width] flex-1\"\n        data-sidebar=\"menu-skeleton-text\"\n        style={\n          {\n            \"--skeleton-width\": width,\n          } as React.CSSProperties\n        }\n      />\n    </div>\n  )\n})\nSidebarMenuSkeleton.displayName = \"SidebarMenuSkeleton\"\n\nconst SidebarMenuSub = React.forwardRef<\n  HTMLUListElement,\n  React.ComponentProps<\"ul\">\n>(({ className, ...props }, ref) => (\n  <ul\n    ref={ref}\n    data-sidebar=\"menu-sub\"\n    className={cn(\n      \"mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5\",\n      \"group-data-[collapsible=icon]:hidden\",\n      className\n    )}\n    {...props}\n  />\n))\nSidebarMenuSub.displayName = \"SidebarMenuSub\"\n\nconst SidebarMenuSubItem = React.forwardRef<\n  HTMLLIElement,\n  React.ComponentProps<\"li\">\n>(({ ...props }, ref) => <li ref={ref} {...props} />)\nSidebarMenuSubItem.displayName = \"SidebarMenuSubItem\"\n\nconst SidebarMenuSubButton = React.forwardRef<\n  HTMLAnchorElement,\n  React.ComponentProps<\"a\"> & {\n    asChild?: boolean\n    size?: \"sm\" | \"md\"\n    isActive?: boolean\n  }\n>(({ asChild = false, size = \"md\", isActive, className, ...props }, ref) => {\n  const Comp = asChild ? Slot : \"a\"\n\n  return (\n    <Comp\n      ref={ref}\n      data-sidebar=\"menu-sub-button\"\n      data-size={size}\n      data-active={isActive}\n      className={cn(\n        \"flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground\",\n        \"data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground\",\n        size === \"sm\" && \"text-xs\",\n        size === \"md\" && \"text-sm\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nSidebarMenuSubButton.displayName = \"SidebarMenuSubButton\"\n\nexport {\n  Sidebar,\n  SidebarContent,\n  SidebarFooter,\n  SidebarGroup,\n  SidebarGroupAction,\n  SidebarGroupContent,\n  SidebarGroupLabel,\n  SidebarHeader,\n  SidebarInput,\n  SidebarInset,\n  SidebarMenu,\n  SidebarMenuAction,\n  SidebarMenuBadge,\n  SidebarMenuButton,\n  SidebarMenuItem,\n  SidebarMenuSkeleton,\n  SidebarMenuSub,\n  SidebarMenuSubButton,\n  SidebarMenuSubItem,\n  SidebarProvider,\n  SidebarRail,\n  SidebarSeparator,\n  SidebarTrigger,\n  useSidebar,\n}\n","path":null,"size_bytes":23567,"size_tokens":null},"client/src/components/ui/resizable.tsx":{"content":"\"use client\"\n\nimport { GripVertical } from \"lucide-react\"\nimport * as ResizablePrimitive from \"react-resizable-panels\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ResizablePanelGroup = ({\n  className,\n  ...props\n}: React.ComponentProps<typeof ResizablePrimitive.PanelGroup>) => (\n  <ResizablePrimitive.PanelGroup\n    className={cn(\n      \"flex h-full w-full data-[panel-group-direction=vertical]:flex-col\",\n      className\n    )}\n    {...props}\n  />\n)\n\nconst ResizablePanel = ResizablePrimitive.Panel\n\nconst ResizableHandle = ({\n  withHandle,\n  className,\n  ...props\n}: React.ComponentProps<typeof ResizablePrimitive.PanelResizeHandle> & {\n  withHandle?: boolean\n}) => (\n  <ResizablePrimitive.PanelResizeHandle\n    className={cn(\n      \"relative flex w-px items-center justify-center bg-border after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-1 data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:-translate-y-1/2 data-[panel-group-direction=vertical]:after:translate-x-0 [&[data-panel-group-direction=vertical]>div]:rotate-90\",\n      className\n    )}\n    {...props}\n  >\n    {withHandle && (\n      <div className=\"z-10 flex h-4 w-3 items-center justify-center rounded-sm border bg-border\">\n        <GripVertical className=\"h-2.5 w-2.5\" />\n      </div>\n    )}\n  </ResizablePrimitive.PanelResizeHandle>\n)\n\nexport { ResizablePanelGroup, ResizablePanel, ResizableHandle }\n","path":null,"size_bytes":1723,"size_tokens":null}},"version":2}